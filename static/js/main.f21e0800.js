/*! For license information please see main.f21e0800.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(67),i=n(43),a=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),_=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var k=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===k?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case M:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case _:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return N(e(t))}catch(MR){}}return null}var L=Array.isArray,I=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},F=[],U=-1;function z(e){return{current:e}}function B(e){0>U||(e.current=F[U],F[U]=null,U--)}function j(e,t){U++,F[U]=e.current,e.current=t}var V,H,W=z(null),G=z(null),X=z(null),q=z(null);function Y(e,t){switch(j(X,t),j(G,e),j(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),j(W,e)}function Z(){B(W),B(G),B(X)}function K(e){null!==e.memoizedState&&j(q,e);var t=W.current,n=yd(t,e.type);t!==n&&(j(G,e),j(W,n))}function J(e){G.current===e&&(B(W),B(G)),q.current===e&&(B(q),uh._currentValue=D)}function $(e){if(void 0===V)try{throw Error()}catch(MR){var t=MR.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",H=-1<MR.stack.indexOf("\n    at")?" (<anonymous>)":-1<MR.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+V+e+H}var Q=!1;function ee(e,t){if(!e||Q)return"";Q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(MR){var r=MR}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Q=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?$(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return $(e.type);case 16:return $("Lazy");case 13:return e.child!==t&&null!==t?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return $("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(MR){return"\nError generating stack: "+MR.message+"\n"+MR.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,oe=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(_e(e)/we|0)|0},_e=Math.log,we=Math.LN2;var Se=256,Me=262144,Ee=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=Te(r):0!==(o&=s)?i=Te(o):n||0!==(n=s&~e)&&(i=Te(n)):0!==(s=r&~a)?i=Te(s):0!==o?i=Te(o):n||0!==(n=r&~e)&&(i=Te(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Re(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ee;return 0===(62914560&(Ee<<=1))&&(Ee=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:De(n))&(e.suspendedLanes|t))?0:n}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ue(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Th(e.type)}function ze(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var Be=Math.random().toString(36).slice(2),je="__reactFiber$"+Be,Ve="__reactProps$"+Be,He="__reactContainer$"+Be,We="__reactEvents$"+Be,Ge="__reactListeners$"+Be,Xe="__reactHandles$"+Be,qe="__reactResources$"+Be,Ye="__reactMarker$"+Be;function Ze(e){delete e[je],delete e[Ve],delete e[We],delete e[Ge],delete e[Xe]}function Ke(e){var t=e[je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[je]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Dd(e);null!==e;){if(n=e[je])return n;e=Dd(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[je]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Qe(e){var t=e[qe];return t||(t=e[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ye]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},st={};function lt(e,t,n){if(i=t,re.call(st,i)||!re.call(ot,i)&&(at.test(i)?st[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?xt(e,o,dt(t)):null!=n?xt(e,o,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function bt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function xt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(L(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Mt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Tt(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Tt(e,a,t[a])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Nt(){}var Lt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Dt=null;function Ft(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ve]||null;if(!i)throw Error(o(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Ut=!1;function zt(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==Ot||null!==Dt)&&(Qc(),Ot&&(t=Ot,e=Dt,Dt=Ot=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ve]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var jt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(jt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Jh){Vt=!1}var Wt=null,Gt=null,Xt=null;function qt(){if(Xt)return Xt;var e,t,n=Gt,r=n.length,i="value"in Wt?Wt.value:Wt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function Kt(){return!1}function Jt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Zt:Kt,this.isPropagationStopped=Kt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var $t,Qt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Jt(tn),rn=f({},tn,{view:0,detail:0}),an=Jt(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?($t=e.screenX-en.screenX,Qt=e.screenY-en.screenY):Qt=$t=0,en=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),sn=Jt(on),ln=Jt(f({},on,{dataTransfer:0})),cn=Jt(f({},rn,{relatedTarget:0})),un=Jt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Jt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Jt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=Jt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Jt(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Jt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),_n=Jt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Jt(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Jt(f({},tn,{newState:0,oldState:0})),Mn=[9,13,27,32],En=jt&&"CompositionEvent"in window,Tn=null;jt&&"documentMode"in document&&(Tn=document.documentMode);var Cn=jt&&"TextEvent"in window&&!Tn,An=jt&&(!En||Tn&&8<Tn&&11>=Tn),Rn=String.fromCharCode(32),Pn=!1;function kn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function Dn(e,t,n,r){Ot?Dt?Dt.push(r):Dt=[r]:Ot=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,Un=null;function zn(e){Zu(e,0)}function Bn(e){if(pt($e(e)))return e}function jn(e,t){if("change"===e)return t}var Vn=!1;if(jt){var Hn;if(jt){var Wn="oninput"in document;if(!Wn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Wn="function"===typeof Gn.oninput}Hn=Wn}else Hn=!1;Vn=Hn&&(!document.documentMode||9<document.documentMode)}function Xn(){Fn&&(Fn.detachEvent("onpropertychange",qn),Un=Fn=null)}function qn(e){if("value"===e.propertyName&&Bn(Un)){var t=[];Dn(t,Un,e,It(e)),zt(zn,t)}}function Yn(e,t,n){"focusin"===e?(Xn(),Un=n,(Fn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Xn()}function Zn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Un)}function Kn(e,t){if("click"===e)return Bn(t)}function Jn(e,t){if("input"===e||"change"===e)return Bn(t)}var $n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if($n(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!$n(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=jt&&"documentMode"in document&&11>=document.documentMode,or=null,sr=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==or||or!==mt(r)||("selectionStart"in(r=or)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Qn(lr,r)||(lr=r,0<(r=rd(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}jt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),vr=mr("animationiteration"),yr=mr("animationstart"),br=mr("transitionrun"),xr=mr("transitionstart"),_r=mr("transitioncancel"),wr=mr("transitionend"),Sr=new Map,Mr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){Sr.set(e,t),rt(t,[e])}Mr.push("scrollEnd");var Tr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cr=[],Ar=0,Rr=0;function Pr(){for(var e=Ar,t=Rr=Ar=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var a=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Ir(n,i,a)}}function kr(e,t,n,r){Cr[Ar++]=e,Cr[Ar++]=t,Cr[Ar++]=n,Cr[Ar++]=r,Rr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Nr(e,t,n,r){return kr(e,t,n,r),Or(e)}function Lr(e,t){return kr(e,null,null,t),Or(e)}function Ir(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-xe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Or(e){if(50<Wc)throw Wc=0,Gc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,n,r){return new Fr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=Ur(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,a){var s=0;if(r=e,"function"===typeof e)zr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Ur(31,n,t,i)).elementType=C,e.lanes=a,e;case v:return Hr(n.children,i,a,t);case y:s=8,i|=24;break;case b:return(e=Ur(12,n,t,2|i)).elementType=b,e.lanes=a,e;case S:return(e=Ur(13,n,t,i)).elementType=S,e.lanes=a,e;case M:return(e=Ur(19,n,t,i)).elementType=M,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case x:s=9;break e;case w:s=11;break e;case E:s=14;break e;case T:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Ur(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hr(e,t,n,r){return(e=Ur(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Ur(6,e,null,t)).lanes=n,e}function Gr(e){var t=Ur(18,null,null,0);return t.stateNode=e,t}function Xr(e,t,n){return(t=Ur(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=new WeakMap;function Yr(e,t){if("object"===typeof e&&null!==e){var n=qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},qr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Zr=[],Kr=0,Jr=null,$r=0,Qr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Zr[Kr++]=$r,Zr[Kr++]=Jr,Jr=e,$r=t}function ai(e,t,n){Qr[ei++]=ni,Qr[ei++]=ri,Qr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-xe(r)-1;r&=~(1<<i),n+=1;var a=32-xe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-xe(t)+i|n<<i|r,ri=a+e}else ni=1<<a|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),ai(e,1,0))}function si(e){for(;e===Jr;)Jr=Zr[--Kr],Zr[Kr]=null,$r=Zr[--Kr],Zr[Kr]=null;for(;e===ti;)ti=Qr[--ei],Qr[ei]=null,ri=Qr[--ei],Qr[ei]=null,ni=Qr[--ei],Qr[ei]=null}function li(e,t){Qr[ei++]=ni,Qr[ei++]=ri,Qr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,di=!1,hi=null,fi=!1,pi=Error(o(519));function mi(e){throw _i(Yr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[je]=e,t[Ve]=r,n){case"dialog":Ku("cancel",t),Ku("close",t);break;case"iframe":case"object":case"embed":Ku("load",t);break;case"video":case"audio":for(n=0;n<qu.length;n++)Ku(qu[n],t);break;case"source":Ku("error",t);break;case"img":case"image":case"link":Ku("error",t),Ku("load",t);break;case"details":Ku("toggle",t);break;case"input":Ku("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ku("invalid",t);break;case"textarea":Ku("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cd(t.textContent,n)?(null!=r.popover&&(Ku("beforetoggle",t),Ku("toggle",t)),null!=r.onScroll&&Ku("scroll",t),null!=r.onScrollEnd&&Ku("scrollend",t),null!=r.onClick&&(t.onclick=Nt),t=!0):t=!1,t||mi(e,!0)}function vi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ci=ci.return}}function yi(e){if(e!==ci)return!1;if(!di)return vi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&ui&&mi(e),vi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=Od(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=Od(e)}else 27===n?(n=ui,Td(e.type)?(e=Id,Id=null,ui=e):ui=n):ui=ci?Ld(e.stateNode.nextSibling):null;return!0}function bi(){ui=ci=null,di=!1}function xi(){var e=hi;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),hi=null),e}function _i(e){null===hi?hi=[e]:hi.push(e)}var wi=z(null),Si=null,Mi=null;function Ei(e,t,n){j(wi,t._currentValue),t._currentValue=n}function Ti(e){e._currentValue=wi.current,B(wi)}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ci(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ci(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Ri(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;$n(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===q.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}i=i.return}null!==e&&Ai(t,e,n,r),t.flags|=262144}function Pi(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){Si=e,Mi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ni(e){return Ii(Si,e)}function Li(e,t){return null===Si&&ki(e),Ii(e,t)}function Ii(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Mi){if(null===e)throw Error(o(308));Mi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Mi=Mi.next=t;return n}var Oi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Di=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,Ui={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Oi,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&Di(Fi,function(){e.controller.abort()})}var ji=null,Vi=0,Hi=0,Wi=null;function Gi(){if(0===--Vi&&null!==ji){null!==Wi&&(Wi.status="fulfilled");var e=ji;ji=null,Hi=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Xi=I.S;I.S=function(e,t){Lc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===ji){var n=ji=[];Vi=0,Hi=Vu(),Wi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Vi++,t.then(Gi,Gi)}(0,t),null!==Xi&&Xi(e,t)};var qi=z(null);function Yi(){var e=qi.current;return null!==e?e:pc.pooledCache}function Zi(e,t){j(qi,null===t?qi.current:t.pool)}function Ki(){var e=Yi();return null===e?null:{parent:Ui._currentValue,pool:e}}var Ji=Error(o(460)),$i=Error(o(474)),Qi=Error(o(542)),ea={then:function(){}};function ta(e){return"fulfilled"===(e=e.status)||"rejected"===e}function na(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Nt,Nt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e;default:if("string"===typeof t.status)t.then(Nt,Nt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e}throw ia=t,Ji}}function ra(e){try{return(0,e._init)(e._payload)}catch(MR){if(null!==MR&&"object"===typeof MR&&"function"===typeof MR.then)throw ia=MR,Ji;throw MR}}var ia=null;function aa(){if(null===ia)throw Error(o(459));var e=ia;return ia=null,e}function oa(e){if(e===Ji||e===Qi)throw Error(o(483))}var sa=null,la=0;function ca(e){var t=la;return la+=1,null===sa&&(sa=[]),na(sa,e,t)}function ua(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function da(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&ra(a)===t.type)?(ua(t=i(t,n.props),n),t.return=e,t):(ua(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return ua(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Xr(t,e.mode,n)).return=e,t;case T:return h(e,t=ra(t),n)}if(L(t)||P(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ca(t),n);if(t.$$typeof===_)return h(e,Li(e,t),n);da(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=ra(n),r)}if(L(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,ca(n),r);if(n.$$typeof===_)return f(e,t,Li(e,n),r);da(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return p(e,t,n,r=ra(r),i)}if(L(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,ca(r),i);if(r.$$typeof===_)return p(e,t,n,Li(t,r),i);da(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&ra(b)===c.type){n(l,c.sibling),ua(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(ua(d=Vr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Xr(u,l.mode,d)).return=l,l=d}return s(l);case T:return y(l,c,u=ra(u),d)}if(L(u))return function(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),di&&ii(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return di&&ii(i,m),c}for(d=r(d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),di&&ii(i,m),c}(l,c,u,d);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(o(150));return function(i,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),di&&ii(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return di&&ii(i,g),u}for(m=r(m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),di&&ii(i,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,ca(u),d);if(u.$$typeof===_)return y(l,c,Li(l,u),d);da(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Wr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{la=0;var i=y(e,t,n,r);return sa=null,i}catch(MR){if(MR===Ji||MR===Qi)throw MR;var a=Ur(29,MR,null,e.mode);return a.lanes=r,a.return=e,a}}}var fa=ha(!0),pa=ha(!1),ma=!1;function ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function va(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Ir(e,null,n),t}return kr(e,r,t,n),Or(e)}function xa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}function _a(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var wa=!1;function Sa(){if(wa){if(null!==Wi)throw Wi}}function Ma(e,t,n,r){wa=!1;var i=e.updateQueue;ma=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(gc&h)===h:(r&h)===h){0!==h&&h===Hi&&(wa=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:ma=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),Mc|=o,e.lanes=o,e.memoizedState=d}}function Ea(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Ta(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ea(n[e],t)}var Ca=z(null),Aa=z(0);function Ra(e,t){j(Aa,e=wc),j(Ca,t),wc=e|t.baseLanes}function Pa(){j(Aa,wc),j(Ca,Ca.current)}function ka(){wc=Aa.current,B(Ca),B(Aa)}var Na=z(null),La=null;function Ia(e){var t=e.alternate;j(za,1&za.current),j(Na,e),null===La&&(null===t||null!==Ca.current||null!==t.memoizedState)&&(La=e)}function Oa(e){j(za,za.current),j(Na,e),null===La&&(La=e)}function Da(e){22===e.tag?(j(za,za.current),j(Na,e),null===La&&(La=e)):Fa()}function Fa(){j(za,za.current),j(Na,Na.current)}function Ua(e){B(Na),La===e&&(La=null),B(za)}var za=z(0);function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||kd(n)||Nd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=0,Va=null,Ha=null,Wa=null,Ga=!1,Xa=!1,qa=!1,Ya=0,Za=0,Ka=null,Ja=0;function $a(){throw Error(o(321))}function Qa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,a){return ja=a,Va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=null===e||null===e.memoizedState?gs:vs,qa=!1,a=n(r,i),qa=!1,Xa&&(a=no(t,n,r,i)),to(e),a}function to(e){I.H=ms;var t=null!==Ha&&null!==Ha.next;if(ja=0,Wa=Ha=Va=null,Ga=!1,Za=0,Ka=null,t)throw Error(o(300));null===e||Ls||null!==(e=e.dependencies)&&Pi(e)&&(Ls=!0)}function no(e,t,n,r){Va=e;var i=0;do{if(Xa&&(Ka=null),Za=0,Xa=!1,25<=i)throw Error(o(301));if(i+=1,Wa=Ha=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}I.H=ys,a=t(n,r)}while(Xa);return a}function ro(){var e=I.H,t=e.useState()[0];return t="function"===typeof t.then?co(t):t,e=e.useState()[0],(null!==Ha?Ha.memoizedState:null)!==e&&(Va.flags|=1024),t}function io(){var e=0!==Ya;return Ya=0,e}function ao(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Ga){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ga=!1}ja=0,Wa=Ha=Va=null,Xa=!1,Za=Ya=0,Ka=null}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wa?Va.memoizedState=Wa=e:Wa=Wa.next=e,Wa}function lo(){if(null===Ha){var e=Va.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===Wa?Va.memoizedState:Wa.next;if(null!==t)Wa=t,Ha=e;else{if(null===e){if(null===Va.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===Wa?Va.memoizedState=Wa=e:Wa=Wa.next=e}return Wa}function co(e){var t=Za;return Za+=1,null===Ka&&(Ka=[]),e=na(Ka,e,t),t=Va,null===(null===Wa?t.memoizedState:Wa.next)&&(t=t.alternate,I.H=null===t||null===t.memoizedState?gs:vs),e}function uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return co(e);if(e.$$typeof===_)return Ni(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=Va.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Va.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function fo(e,t){return"function"===typeof t?t(e):t}function po(e){return mo(lo(),Ha,e)}function mo(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(ja&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(d=!0);else{if((ja&f)===f){u=u.next,f===Hi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,Va.lanes|=f,Mc|=f}h=u.action,qa&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=a):c=c.next=f,Va.lanes|=h,Mc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!$n(a,e.memoizedState)&&(Ls=!0,d&&null!==(n=Wi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function go(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);$n(a,t.memoizedState)||(Ls=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function vo(e,t,n){var r=Va,i=lo(),a=di;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!$n((Ha||i).memoizedState,n);if(s&&(i.memoizedState=n,Ls=!0),i=i.queue,Vo(xo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==Wa&&1&Wa.memoizedState.tag){if(r.flags|=2048,Fo(9,{destroy:void 0},bo.bind(null,r,i,n,t),null),null===pc)throw Error(o(349));a||0!==(127&ja)||yo(r,t,n)}return n}function yo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Va.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bo(e,t,n,r){t.value=n,t.getSnapshot=r,_o(t)&&wo(e)}function xo(e,t,n){return n(function(){_o(t)&&wo(e)})}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(Rg){return!0}}function wo(e){var t=Lr(e,2);null!==t&&Yc(t,e,2)}function So(e){var t=so();if("function"===typeof e){var n=e;if(e=n(),qa){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function Mo(e,t,n,r){return e.baseState=n,mo(e,Ha,"function"===typeof r?r:fo)}function Eo(e,t,n,r,i){if(hs(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==I.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,To(t,a)):(a.next=n.next,t.pending=n.next=a)}}function To(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=I.T,o={};I.T=o;try{var s=n(i,r),l=I.S;null!==l&&l(o,s),Co(e,t,s)}catch(Rg){Ro(e,t,Rg)}finally{null!==a&&null!==o.types&&(a.types=o.types),I.T=a}}else try{Co(e,t,a=n(i,r))}catch(c){Ro(e,t,c)}}function Co(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ao(e,t,n)},function(n){return Ro(e,t,n)}):Ao(e,t,n)}function Ao(e,t,n){t.status="fulfilled",t.value=n,Po(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,To(e,n)))}function Ro(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Po(t),t=t.next}while(t!==r)}e.action=null}function Po(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ko(e,t){return t}function No(e,t){if(di){var n=pc.formState;if(null!==n){e:{var r=Va;if(di){if(ui){t:{for(var i=ui,a=fi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Ld(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ui=Ld(i.nextSibling),r="F!"===i.data;break e}}mi(r)}r=!1}r&&(t=n[0])}}return(n=so()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:t},n.queue=r,n=cs.bind(null,Va,r),r.dispatch=n,r=So(!1),a=ds.bind(null,Va,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=so()).queue=i,n=Eo.bind(null,Va,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Lo(e){return Io(lo(),Ha,e)}function Io(e,t,n){if(t=mo(e,t,ko)[0],e=po(fo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=co(t)}catch(MR){if(MR===Ji)throw Qi;throw MR}else r=t;var i=(t=lo()).queue,a=i.dispatch;return n!==t.memoizedState&&(Va.flags|=2048,Fo(9,{destroy:void 0},Oo.bind(null,i,n),null)),[r,a,e]}function Oo(e,t){e.action=t}function Do(e){var t=lo(),n=Ha;if(null!==n)return Io(t,n,e);lo(),t=t.memoizedState;var r=(n=lo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Va.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return lo().memoizedState}function zo(e,t,n,r){var i=so();Va.flags|=e,i.memoizedState=Fo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Bo(e,t,n,r){var i=lo();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Ha&&null!==r&&Qa(r,Ha.memoizedState.deps)?i.memoizedState=Fo(t,a,n,r):(Va.flags|=e,i.memoizedState=Fo(1|t,a,n,r))}function jo(e,t){zo(8390656,8,e,t)}function Vo(e,t){Bo(2048,8,e,t)}function Ho(e){var t=lo().memoizedState;return function(e){Va.flags|=4;var t=Va.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Wo(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Xo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function qo(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Xo.bind(null,t,e),n)}function Yo(){}function Zo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Qa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Qa(t,r[1]))return r[0];if(r=e(),qa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Jo(e,t,n){return void 0===n||0!==(1073741824&ja)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=qc(),Va.lanes|=e,Mc|=e,n)}function $o(e,t,n,r){return $n(n,t)?n:null!==Ca.current?(e=Jo(e,n,r),$n(e,t)||(Ls=!0),e):0===(42&ja)||0!==(1073741824&ja)&&0===(261930&gc)?(Ls=!0,e.memoizedState=n):(e=qc(),Va.lanes|=e,Mc|=e,t)}function Qo(e,t,n,r,i){var a=O.p;O.p=0!==a&&8>a?a:8;var o=I.T,s={};I.T=s,ds(e,!1,t,n);try{var l=i(),c=I.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);us(e,t,u,Xc())}else us(e,t,r,Xc())}catch(Rg){us(e,t,{then:function(){},status:"rejected",reason:Rg},Xc())}finally{O.p=a,null!==o&&null!==s.types&&(o.types=s.types),I.T=o}}function es(){}function ts(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=ns(e).queue;Qo(e,i,t,D,null===n?es:function(){return rs(e),n(r)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rs(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},Xc())}function is(){return Ni(uh)}function as(){return lo().memoizedState}function os(){return lo().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Xc(),r=ba(t,e=ya(n),n);return null!==r&&(Yc(r,t,n),xa(r,t,n)),t={cache:zi()},void(e.payload=t)}t=t.return}}function ls(e,t,n){var r=Xc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hs(e)?fs(t,n):null!==(n=Nr(e,t,n,r))&&(Yc(n,e,r),ps(n,t,r))}function cs(e,t,n){us(e,t,n,Xc())}function us(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hs(e))fs(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,$n(s,o))return kr(e,t,i,0),null===pc&&Pr(),!1}catch(Rg){}if(null!==(n=Nr(e,t,i,r)))return Yc(n,e,r),ps(n,t,r),!0}return!1}function ds(e,t,n,r){if(r={lane:2,revertLane:Vu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(t)throw Error(o(479))}else null!==(t=Nr(e,n,r,2))&&Yc(t,e,2)}function hs(e){var t=e.alternate;return e===Va||null!==t&&t===Va}function fs(e,t){Xa=Ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ps(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}var ms={readContext:Ni,use:uo,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useInsertionEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useDeferredValue:$a,useTransition:$a,useSyncExternalStore:$a,useId:$a,useHostTransitionStatus:$a,useFormState:$a,useActionState:$a,useOptimistic:$a,useMemoCache:$a,useCacheRefresh:$a};ms.useEffectEvent=$a;var gs={readContext:Ni,use:uo,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:jo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){zo(4,2,e,t)},useMemo:function(e,t){var n=so();t=void 0===t?null:t;var r=e();if(qa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=so();if(void 0!==n){var i=n(t);if(qa){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ls.bind(null,Va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},so().memoizedState=e},useState:function(e){var t=(e=So(e)).queue,n=cs.bind(null,Va,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Yo,useDeferredValue:function(e,t){return Jo(so(),e,t)},useTransition:function(){var e=So(!1);return e=Qo.bind(null,Va,e.queue,!0,!1),so().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Va,i=so();if(di){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===pc)throw Error(o(349));0!==(127&gc)||yo(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,jo(xo.bind(null,r,a,e),[e]),r.flags|=2048,Fo(9,{destroy:void 0},bo.bind(null,r,a,n,t),null),n},useId:function(){var e=so(),t=pc.identifierPrefix;if(di){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-xe(ni)-1)).toString(32)+n),0<(n=Ya++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ja++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:is,useFormState:No,useActionState:No,useOptimistic:function(e){var t=so();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ds.bind(null,Va,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return so().memoizedState=ss.bind(null,Va)},useEffectEvent:function(e){var t=so(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},vs={readContext:Ni,use:uo,useCallback:Zo,useContext:Ni,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Ko,useReducer:po,useRef:Uo,useState:function(){return po(fo)},useDebugValue:Yo,useDeferredValue:function(e,t){return $o(lo(),Ha.memoizedState,e,t)},useTransition:function(){var e=po(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:vo,useId:as,useHostTransitionStatus:is,useFormState:Lo,useActionState:Lo,useOptimistic:function(e,t){return Mo(lo(),0,e,t)},useMemoCache:ho,useCacheRefresh:os};vs.useEffectEvent=Ho;var ys={readContext:Ni,use:uo,useCallback:Zo,useContext:Ni,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Ko,useReducer:go,useRef:Uo,useState:function(){return go(fo)},useDebugValue:Yo,useDeferredValue:function(e,t){var n=lo();return null===Ha?Jo(n,e,t):$o(n,Ha.memoizedState,e,t)},useTransition:function(){var e=go(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:vo,useId:as,useHostTransitionStatus:is,useFormState:Do,useActionState:Do,useOptimistic:function(e,t){var n=lo();return null!==Ha?Mo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:os};function bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ys.useEffectEvent=Ho;var xs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xc(),i=ya(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ba(e,i,r))&&(Yc(t,e,r),xa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xc(),i=ya(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ba(e,i,r))&&(Yc(t,e,r),xa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xc(),r=ya(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ba(e,r,n))&&(Yc(t,e,n),xa(t,e,n))}};function _s(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,a))}function ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xs.enqueueReplaceState(t,t.state,null)}function Ss(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ms(e){Tr(e)}function Es(e){console.error(e)}function Ts(e){Tr(e)}function Cs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function As(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Rs(e,t,n){return(n=ya(n)).tag=3,n.payload={element:null},n.callback=function(){Cs(e,t)},n}function Ps(e){return(e=ya(e)).tag=3,e}function ks(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){As(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){As(t,n,r),"function"!==typeof i&&(null===Dc?Dc=new Set([this]):Dc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ns=Error(o(461)),Ls=!1;function Is(e,t,n,r){t.child=null===e?pa(t,null,n,r):fa(t,e.child,n,r)}function Os(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return ki(t),r=eo(e,t,n,o,a,i),s=io(),null===e||Ls?(di&&s&&oi(t),t.flags|=1,Is(e,t,r,i),t.child):(ao(e,t,i),il(e,t,i))}function Ds(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||zr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fs(e,t,a,r,i))}if(a=e.child,!al(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(o,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=Br(a,r)).ref=t.ref,e.return=t,t.child=e}function Fs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Qn(a,r)&&e.ref===t.ref){if(Ls=!1,t.pendingProps=r=a,!al(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Ls=!0)}}return Ws(e,t,n,r,i)}function Us(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Bs(e,t,a,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Bs(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Zi(0,null!==a?a.cachePool:null),null!==a?Ra(t,a):Pa(),Da(t)}else null!==a?(Zi(0,a.cachePool),Ra(t,a),Fa(),t.memoizedState=null):(null!==e&&Zi(0,null),Pa(),Fa());return Is(e,t,i,n),t.child}function zs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bs(e,t,n,r,i){var a=Yi();return a=null===a?null:{parent:Ui._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Zi(0,null),Pa(),Da(t),null!==e&&Ri(e,t,r,!0),t.childLanes=i,null}function js(e,t){return(t=Qs({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Vs(e,t,n){return fa(t,e.child,null,n),(e=js(t,t.pendingProps)).flags|=2,Ua(t),t.memoizedState=null,e}function Hs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ws(e,t,n,r,i){return ki(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||Ls?(di&&r&&oi(t),t.flags|=1,Is(e,t,n,i),t.child):(ao(e,t,i),il(e,t,i))}function Gs(e,t,n,r,i,a){return ki(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||Ls?(di&&r&&oi(t),t.flags|=1,Is(e,t,n,a),t.child):(ao(e,t,a),il(e,t,a))}function Xs(e,t,n,r,i){if(ki(t),null===t.stateNode){var a=Dr,o=n.contextType;"object"===typeof o&&null!==o&&(a=Ni(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=xs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ga(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Ni(o):Dr,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(bs(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&xs.enqueueReplaceState(a,a.state,null),Ma(t,r,a,i),Sa(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=Ss(n,s);a.props=l;var c=a.context,u=n.contextType;o=Dr,"object"===typeof u&&null!==u&&(o=Ni(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&ws(t,a,r,o),ma=!1;var h=t.memoizedState;a.state=h,Ma(t,r,a,i),Sa(),c=t.memoizedState,s||h!==c||ma?("function"===typeof d&&(bs(t,n,d,r),c=t.memoizedState),(l=ma||_s(t,n,l,r,h,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,va(e,t),u=Ss(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Ni(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ws(t,a,r,l),ma=!1,h=t.memoizedState,a.state=h,Ma(t,r,a,i),Sa();var f=t.memoizedState;o!==d||h!==f||ma||null!==e&&null!==e.dependencies&&Pi(e.dependencies)?("function"===typeof s&&(bs(t,n,s,r),f=t.memoizedState),(u=ma||_s(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Pi(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Hs(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=fa(t,e.child,null,i),t.child=fa(t,null,n,i)):Is(e,t,n,i),t.memoizedState=a.state,e=t.child):e=il(e,t,i),e}function qs(e,t,n,r){return bi(),t.flags|=256,Is(e,t,n,r),t.child}var Ys={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zs(e){return{baseLanes:e,cachePool:Ki()}}function Ks(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Cc),e}function Js(e,t,n){var r,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&za.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(a?Ia(t):Fa(),(e=ui)?null!==(e=null!==(e=Pd(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return Nd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,a?(Fa(),l=Qs({mode:"hidden",children:l},a=t.mode),i=Hr(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Zs(n),i.childLanes=Ks(e,r,n),t.memoizedState=Ys,zs(null,i)):(Ia(t),$s(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Ia(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Fa(),t.child=e.child,t.flags|=128,t=null):(Fa(),l=i.fallback,a=t.mode,i=Qs({mode:"visible",children:i.children},a),(l=Hr(l,a,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,fa(t,e.child,null,n),(i=t.child).memoizedState=Zs(n),i.childLanes=Ks(e,r,n),t.memoizedState=Ys,t=zs(null,i));else if(Ia(t),Nd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,_i({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Ls||Ri(e,t,n,!1),r=0!==(n&e.childLanes),Ls||r){if(null!==(r=pc)&&(0!==(i=Oe(r,n))&&i!==c.retryLane))throw c.retryLane=i,Lr(e,i),Yc(r,e,i),Ns;kd(l)||ou(),t=el(e,t,n)}else kd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Ld(l.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=$s(t,i.children)).flags|=4096);return t}return a?(Fa(),l=i.fallback,a=t.mode,u=(c=e.child).sibling,(i=Br(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Br(u,l):(l=Hr(l,a,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,zs(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Zs(n):(null!==(a=l.cachePool)?(c=Ui._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Ki(),l={baseLanes:l.baseLanes|n,cachePool:a}),i.memoizedState=l,i.childLanes=Ks(e,r,n),t.memoizedState=Ys,zs(e.child,i)):(Ia(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $s(e,t){return(t=Qs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Qs(e,t){return(e=Ur(22,e,null,t)).lanes=0,e}function el(e,t,n){return fa(t,e.child,null,n),(e=$s(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function nl(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=za.current,s=0!==(2&o);if(s?(o=1&o|2,t.flags|=128):o&=1,j(za,o),Is(e,t,r,n),r=di?$r:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ba(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,a,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ri(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pi(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ls=!0;else{if(!al(e,n)&&0===(128&t.flags))return Ls=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),Ei(0,Ui,e.memoizedState.cache),bi();break;case 27:case 5:K(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:Ei(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Oa(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ia(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Js(e,t,n):(Ia(t),null!==(e=il(e,t,n))?e.sibling:null);Ia(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ri(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),j(za,za.current),r)break;return null;case 22:return t.lanes=0,Us(e,t,n,t.pendingProps);case 24:Ei(0,Ui,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Ls=0!==(131072&e.flags)}else Ls=!1,di&&0!==(1048576&t.flags)&&ai(t,$r,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ra(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===w){t.tag=11,t=Os(null,t,e,r,n);break e}if(i===E){t.tag=14,t=Ds(null,t,e,r,n);break e}}throw t=N(e)||e,Error(o(306,t,""))}zr(e)?(r=Ss(e,r),t.tag=1,t=Xs(null,t,e,r,n)):(t.tag=0,t=Ws(null,t,e,r,n))}return t;case 0:return Ws(e,t,t.type,t.pendingProps,n);case 1:return Xs(e,t,r=t.type,i=Ss(r,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,va(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Ei(0,Ui,r),r!==a.cache&&Ai(t,[Ui],n,!0),Sa(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=qs(e,t,r,n);break e}if(r!==i){_i(i=Yr(Error(o(424)),t)),t=qs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Ld(e.firstChild),ci=t,di=!0,hi=null,fi=!0,n=pa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=il(e,t,n);break e}Is(e,t,r,n)}t=t.child}return t;case 26:return Hs(e,t),null===e?(n=Gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=gd(X.current).createElement(n))[je]=t,r[Ve]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&di&&(r=t.stateNode=Fd(t.type,t.pendingProps,X.current),ci=t,fi=!0,i=ui,Td(t.type)?(Id=i,ui=Ld(r.firstChild)):ui=i),Is(e,t,t.pendingProps.children,n),Hs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Ld(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ci=t,ui=Ld(r.firstChild),fi=!1,i=!0):i=!1),i||mi(t)),K(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,bd(i,a)?r=null:null!==s&&bd(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),uh._currentValue=i),Hs(e,t),Is(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ld(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||mi(t)),null;case 13:return Js(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fa(t,null,r,n):Is(e,t,r,n),t.child;case 11:return Os(e,t,t.type,t.pendingProps,n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ei(0,t.type,r.value),Is(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ki(t),r=r(i=Ni(i)),t.flags|=1,Is(e,t,r,n),t.child;case 14:return Ds(e,t,t.type,t.pendingProps,n);case 15:return Fs(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=js(t,r),t.lanes=536870912,zs(null,e);if(Oa(t),(e=ui)?null!==(e=null!==(e=Pd(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return js(t,r)}var a=e.memoizedState;if(null!==a){var s=a.dehydrated;if(Oa(t),i)if(256&t.flags)t.flags&=-257,t=Vs(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Ls||Ri(e,t,n,!1),i=0!==(n&e.childLanes),Ls||i){if(null!==(r=pc)&&0!==(s=Oe(r,n))&&s!==a.retryLane)throw a.retryLane=s,Lr(e,s),Yc(r,e,s),Ns;ou(),t=Vs(e,t,n)}else e=a.treeContext,ui=Ld(s.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=js(t,r)).flags|=4096;return t}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Us(e,t,n,t.pendingProps);case 24:return ki(t),r=Ni(Ui),null===e?(null===(i=Yi())&&(i=pc,a=zi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},ga(t),Ei(0,Ui,i)):(0!==(e.lanes&n)&&(va(e,t),Ma(t,null,null,n),Sa()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ei(0,Ui,r)):(r=a.cache,Ei(0,Ui,r),r!==i.cache&&Ai(t,[Ui],n,!0))),Is(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function sl(e){e.flags|=4}function ll(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw ia=ea,$i;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!ru())throw ia=ea,$i;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Ac|=t)}function dl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(si(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ti(Ui),Z(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(yi(t)?sl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xi())),hl(t),null;case 26:var i=t.type,a=t.memoizedState;return null===e?(sl(t),null!==a?(hl(t),cl(t,a)):(hl(t),ll(t,i,0,0,n))):a?a!==e.memoizedState?(sl(t),hl(t),cl(t,a)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&sl(t),hl(t),ll(t,i,0,0,n)),null;case 27:if(J(t),n=X.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return hl(t),null}e=W.current,yi(t)?gi(t):(e=Fd(i,r,n),t.stateNode=e,sl(t))}return hl(t),null;case 5:if(J(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return hl(t),null}if(a=W.current,yi(t))gi(t);else{var s=gd(X.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(a=s.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"===typeof r.is?s.createElement(i,{is:r.is}):s.createElement(i)}}a[je]=t,a[Ve]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)a.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(hd(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&sl(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=X.current,yi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[je]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cd(e.nodeValue,n)))||mi(t,!0)}else(e=gd(e).createTextNode(r))[je]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=yi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[je]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ua(t),t):(Ua(t),null);if(0!==(128&t.flags))throw Error(o(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=yi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[je]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),i=!1}else i=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Ua(t),t):(Ua(t),null)}return Ua(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return Z(),null===e&&Qu(t.stateNode.containerInfo),hl(t),null;case 10:return Ti(t.type),hl(t),null;case 19:if(B(za),null===(r=t.memoizedState))return hl(t),null;if(i=0!==(128&t.flags),null===(a=r.rendering))if(i)dl(r,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Ba(e))){for(t.flags|=128,dl(r,!1),e=a.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)jr(n,e),n=n.sibling;return j(za,1&za.current|2),di&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Ic&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Ba(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!di)return hl(t),null}else 2*le()-r.renderingStartTime>Ic&&536870912!==n&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=za.current,j(za,i?1&n|2:1&n),di&&ii(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return Ua(t),ka(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ti(Ui),hl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function pl(e,t){switch(si(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ti(Ui),Z(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(Ua(t),null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ua(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(za),null;case 4:return Z(),null;case 10:return Ti(t.type),null;case 22:case 23:return Ua(t),ka(),null!==e&&B(qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ti(Ui),null;default:return null}}function ml(e,t){switch(si(t),t.tag){case 3:Ti(Ui),Z();break;case 26:case 27:case 5:J(t);break;case 4:Z();break;case 31:null!==t.memoizedState&&Ua(t);break;case 13:Ua(t);break;case 19:B(za);break;case 10:Ti(t.type);break;case 22:case 23:Ua(t),ka(),null!==e&&B(qi);break;case 24:Ti(Ui)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(Rg){Su(t,t.return,Rg)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(Rg){Su(i,l,Rg)}}}r=r.next}while(r!==a)}}catch(Rg){Su(t,t.return,Rg)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ta(t,n)}catch(Rg){Su(e,e.return,Rg)}}}function bl(e,t,n){n.props=Ss(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(Rg){Su(e,t,Rg)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(Rg){Su(e,t,Rg)}}function _l(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(Rg){Su(e,t,Rg)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){Su(e,t,i)}else n.current=null}function wl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(Rg){Su(e,e.return,Rg)}}function Sl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||ud(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&ud(e,t,f,p,r,h)}}return void yt(e,s,l,c,u,d,a,i);case"select":for(a in p=s=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||ud(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&ud(e,t,i,a,r,c)}return t=l,n=s,r=p,void(null!=f?_t(e,!!n,f,!1):!!r!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&ud(e,t,s,i,r,a)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ud(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ud(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ud(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:ud(e,t,u,f,r,p)}return;default:if(At(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&dd(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||dd(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&ud(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||ud(e,t,h,f,r,p)}(r,e.type,n,t),r[Ve]=t}catch(Rg){Su(e,e.return,Rg)}}function Ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function El(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Nt));else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Al(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hd(t,r,n),t[je]=e,t[Ve]=n}catch(Rg){Su(e,e.return,Rg)}}var Rl=!1,Pl=!1,kl=!1,Nl="function"===typeof WeakSet?WeakSet:Set,Ll=null;function Il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&gl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(Rg){Su(n,n.return,Rg)}else{var i=Ss(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Su(n,n.return,o)}}64&r&&yl(n),512&r&&xl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ta(e,t)}catch(Rg){Su(n,n.return,Rg)}}break;case 27:null===t&&4&r&&Al(n);case 26:case 5:Yl(e,n),null===t&&4&r&&wl(n),512&r&&xl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&Bl(e,n);break;case 13:Yl(e,n),4&r&&jl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Cu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Rl)){t=null!==t&&null!==t.memoizedState||Pl,i=Rl;var a=Pl;Rl=r,(Pl=t)&&!a?Kl(e,n,0!==(8772&n.subtreeFlags)):Yl(e,n),Rl=i,Pl=a}break;case 30:break;default:Yl(e,n)}}function Ol(e){var t=e.alternate;null!==t&&(e.alternate=null,Ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dl=null,Fl=!1;function Ul(e,t,n){for(n=n.child;null!==n;)zl(e,t,n),n=n.sibling}function zl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Pl||_l(n,t),Ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||_l(n,t);var r=Dl,i=Fl;Td(n.type)&&(Dl=n.stateNode,Fl=!1),Ul(e,t,n),Ud(n.stateNode),Dl=r,Fl=i;break;case 5:Pl||_l(n,t);case 6:if(r=Dl,i=Fl,Dl=null,Ul(e,t,n),Fl=i,null!==(Dl=r))if(Fl)try{(9===Dl.nodeType?Dl.body:"HTML"===Dl.nodeName?Dl.ownerDocument.body:Dl).removeChild(n.stateNode)}catch(Rg){Su(n,t,Rg)}else try{Dl.removeChild(n.stateNode)}catch(Rg){Su(n,t,Rg)}break;case 18:null!==Dl&&(Fl?(Cd(9===(e=Dl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wh(e)):Cd(Dl,n.stateNode));break;case 4:r=Dl,i=Fl,Dl=n.stateNode.containerInfo,Fl=!0,Ul(e,t,n),Dl=r,Fl=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Pl||vl(4,n,t),Ul(e,t,n);break;case 1:Pl||(_l(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bl(n,t,r)),Ul(e,t,n);break;case 21:Ul(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,Ul(e,t,n),Pl=r;break;default:Ul(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(Rg){Su(t,t.return,Rg)}}}function jl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(Rg){Su(t,t.return,Rg)}}function Vl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Nl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Au.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Td(l.type)){Dl=l.stateNode,Fl=!1;break e}break;case 5:Dl=l.stateNode,Fl=!1;break e;case 3:case 4:Dl=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Dl)throw Error(o(160));zl(a,s,i),Dl=null,Fl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gl(t,e),t=t.sibling}var Wl=null;function Gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Xl(e),4&r&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),Xl(e),512&r&&(Pl||null===n||_l(n,n.return)),64&r&&Rl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Wl;if(Hl(t,e),Xl(e),512&r&&(Pl||null===n||_l(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ye]||a[je]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),hd(a,r,n),a[je]=e,et(a),r=a;break e;case"link":var s=nh("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}hd(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=nh("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}hd(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[je]=e,et(a),r=a}e.stateNode=r}else rh(i,e.type,e.stateNode);else e.stateNode=Jd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?rh(i,e.type,e.stateNode):Jd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Sl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Xl(e),512&r&&(Pl||null===n||_l(n,n.return)),null!==n&&4&r&&Sl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Xl(e),512&r&&(Pl||null===n||_l(n,n.return)),32&e.flags){i=e.stateNode;try{Mt(i,"")}catch(Rg){Su(e,e.return,Rg)}}4&r&&null!=e.stateNode&&Sl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(kl=!0);break;case 6:if(Hl(t,e),Xl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(Rg){Su(e,e.return,Rg)}}break;case 3:if(th=null,i=Wl,Wl=jd(t.containerInfo),Hl(t,e),Wl=i,Xl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(Rg){Su(e,e.return,Rg)}kl&&(kl=!1,ql(e));break;case 4:r=Wl,Wl=jd(e.stateNode.containerInfo),Hl(t,e),Xl(e),Wl=r;break;case 12:default:Hl(t,e),Xl(e);break;case 31:case 19:Hl(t,e),Xl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Vl(e,r)));break;case 13:Hl(t,e),Xl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Nc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Vl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Rl,d=Pl;if(Rl=u||i,Pl=d||c,Hl(t,e),Pl=d,Rl=u,Xl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Rl||Pl||Zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(Rg){Su(c,c.return,Rg)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(Rg){Su(c,c.return,Rg)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Ad(p,!0):Ad(c.stateNode,!1)}catch(Rg){Su(c,c.return,Rg)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Vl(e,n))));case 30:case 21:}}function Xl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Ml(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;Cl(e,El(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Mt(a,""),n.flags&=-33),Cl(e,El(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;Tl(e,El(e),s);break;default:throw Error(o(161))}}catch(Rg){Su(e,e.return,Rg)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Il(e,t.alternate,t),t=t.sibling}function Zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Zl(t);break;case 1:_l(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bl(t,t.return,n),Zl(t);break;case 27:Ud(t.stateNode);case 26:case 5:_l(t,t.return),Zl(t);break;case 22:null===t.memoizedState&&Zl(t);break;default:Zl(t)}e=e.sibling}}function Kl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Kl(i,a,n),gl(4,a);break;case 1:if(Kl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(Rg){Su(r,r.return,Rg)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ea(l[i],s)}catch(Rg){Su(r,r.return,Rg)}}n&&64&o&&yl(a),xl(a,a.return);break;case 27:Al(a);case 26:case 5:Kl(i,a,n),n&&null===r&&4&o&&wl(a),xl(a,a.return);break;case 12:Kl(i,a,n);break;case 31:Kl(i,a,n),n&&4&o&&Bl(i,a);break;case 13:Kl(i,a,n),n&&4&o&&jl(i,a);break;case 22:null===a.memoizedState&&Kl(i,a,n),xl(a,a.return);break;case 30:break;default:Kl(i,a,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function $l(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function Ql(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ql(e,t,n,r),2048&i&&gl(9,t);break;case 1:case 31:case 13:default:Ql(e,t,n,r);break;case 3:Ql(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){Ql(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(Rg){Su(t,t.return,Rg)}}else Ql(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Ql(e,t,n,r):nc(e,t):2&a._visibility?Ql(e,t,n,r):(a._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(o,t);break;case 24:Ql(e,t,n,r),2048&i&&$l(t.alternate,t)}}function tc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:tc(a,o,s,l,i),gl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?tc(a,o,s,l,i):nc(a,o):(u._visibility|=2,tc(a,o,s,l,i)),i&&2048&c&&Jl(o.alternate,o);break;case 24:tc(a,o,s,l,i),i&&2048&c&&$l(o.alternate,o);break;default:tc(a,o,s,l,i)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nc(n,r),2048&i&&Jl(r.alternate,r);break;case 24:nc(n,r),2048&i&&$l(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ic(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Xd(r.href),a=t.querySelector(qd(i));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,r=Yd(r),(i=zd.get(i))&&Qd(r,i),et(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hd(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=Wl;Wl=jd(e.stateNode.containerInfo),ic(e,t,n),Wl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ic(e,t,n),rc=r):ic(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function sc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ll=r,uc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:sc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:sc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):sc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ll=r,uc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Ll;){var n=Ll;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ll=r;else e:for(n=e;null!==Ll;){var i=(r=Ll).sibling,a=r.return;if(Ol(r),r===n){Ll=null;break e}if(null!==i){i.return=a,Ll=i;break e}Ll=a}}}var dc={getCacheForType:function(e){var t=Ni(Ui),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ni(Ui).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,fc=0,pc=null,mc=null,gc=0,vc=0,yc=null,bc=!1,xc=!1,_c=!1,wc=0,Sc=0,Mc=0,Ec=0,Tc=0,Cc=0,Ac=0,Rc=null,Pc=null,kc=!1,Nc=0,Lc=0,Ic=1/0,Oc=null,Dc=null,Fc=0,Uc=null,zc=null,Bc=0,jc=0,Vc=null,Hc=null,Wc=0,Gc=null;function Xc(){return 0!==(2&fc)&&0!==gc?gc&-gc:null!==I.T?Vu():Ue()}function qc(){if(0===Cc)if(0===(536870912&gc)||di){var e=Me;0===(3932160&(Me<<=1))&&(Me=262144),Cc=e}else Cc=536870912;return null!==(e=Na.current)&&(e.flags|=32),Cc}function Yc(e,t,n){(e!==pc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),$c(e,gc,Cc,!1)),Ne(e,n),0!==(2&fc)&&e===pc||(e===pc&&(0===(2&fc)&&(Ec|=n),4===Sc&&$c(e,gc,Cc,!1)),Ou(e))}function Zc(e,t,n){if(0!==(6&fc))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ae(e,t),i=r?function(e,t){var n=fc;fc|=2;var r=iu(),i=au();pc!==e||gc!==t?(Oc=null,Ic=le()+500,tu(e,t)):xc=Ae(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var a=yc;t:switch(vc){case 1:vc=0,yc=null,hu(e,t,a,1);break;case 2:case 9:if(ta(a)){vc=0,yc=null,du(t);break}t=function(){2!==vc&&9!==vc||pc!==e||(vc=7),Ou(e)},a.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ta(a)?(vc=0,yc=null,du(t)):(vc=0,yc=null,hu(e,t,a,7));break;case 5:var s=null;switch(mc.tag){case 26:s=mc.memoizedState;case 5:case 27:var l=mc;if(s?ih(s):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,fu(u)):mc=null}break t}}vc=0,yc=null,hu(e,t,a,5);break;case 6:vc=0,yc=null,hu(e,t,a,6);break;case 8:eu(),Sc=6;break e;default:throw Error(o(462))}}cu();break}catch(d){nu(e,d)}return Mi=Si=null,I.H=r,I.A=i,fc=n,null!==mc?0:(pc=null,gc=0,Pr(),Sc)}(e,t):su(e,t,!0),a=r;;){if(0===i){xc&&!r&&$c(e,t,0,!1);break}if(n=e.current.alternate,!a||Jc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=Rc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,s).flags|=256),2!==(s=su(l,s,!1))){if(_c&&!c){l.errorRecoveryDisabledLanes|=a,Ec|=a,i=4;break e}a=Pc,Pc=i,null!==a&&(null===Pc?Pc=a:Pc.push.apply(Pc,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){tu(e,0),$c(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:$c(r,t,Cc,!bc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Nc+300-le())){if($c(r,t,Cc,!bc),0!==Ce(r,0,!0))break e;Bc=t,r.timeoutHandle=_d(Kc.bind(null,r,n,Pc,Oc,kc,t,Cc,Ec,Ac,bc,a,"Throttled",-0,0),i)}else Kc(r,n,Pc,Oc,kc,t,Cc,Ec,Ac,bc,a,null,-0,0)}break}i=su(e,t,!1),a=!1}Ou(e)}function Kc(e,t,n,r,i,a,o,s,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ac(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nt});var p=(62914560&a)===a?Nc-le():(4194048&a)===a?Lc-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ah&&(ah=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&fd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(o+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(a+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ah?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p),null!==p)return Bc=a,e.cancelPendingCommit=p(mu.bind(null,e,t,a,n,r,i,o,s,l,u,d,null,h,f)),void $c(e,a,o,!c)}mu(e,t,a,n,r,i,o,s,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!$n(a(),i))return!1}catch(Rg){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $c(e,t,n,r){t&=~Tc,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-xe(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Le(e,n,t)}function Qc(){return 0!==(6&fc)||(Du(0,!1),!1)}function eu(){if(null!==mc){if(0===vc)var e=mc.return;else Mi=Si=null,oo(e=mc),sa=null,la=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,wd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,eu(),pc=e,mc=n=Br(e.current,null),gc=t,vc=0,yc=null,bc=!1,xc=Ae(e,t),_c=!1,Ac=Cc=Tc=Ec=Mc=Sc=0,Pc=Rc=null,kc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-xe(r),a=1<<i;t|=e[i],r&=~a}return wc=t,Pr(),n}function nu(e,t){Va=null,I.H=ms,t===Ji||t===Qi?(t=aa(),vc=3):t===$i?(t=aa(),vc=4):vc=t===Ns?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===mc&&(Sc=1,Cs(e,Yr(t,e.current)))}function ru(){var e=Na.current;return null===e||((4194048&gc)===gc?null===La:((62914560&gc)===gc||0!==(536870912&gc))&&e===La)}function iu(){var e=I.H;return I.H=ms,null===e?ms:e}function au(){var e=I.A;return I.A=dc,e}function ou(){Sc=4,bc||(4194048&gc)!==gc&&null!==Na.current||(xc=!0),0===(134217727&Mc)&&0===(134217727&Ec)||null===pc||$c(pc,gc,Cc,!1)}function su(e,t,n){var r=fc;fc|=2;var i=iu(),a=au();pc===e&&gc===t||(Oc=null,tu(e,t)),t=!1;var o=Sc;e:for(;;)try{if(0!==vc&&null!==mc){var s=mc,l=yc;switch(vc){case 8:eu(),o=6;break e;case 3:case 2:case 9:case 6:null===Na.current&&(t=!0);var c=vc;if(vc=0,yc=null,hu(e,s,l,c),n&&xc){o=0;break e}break;default:c=vc,vc=0,yc=null,hu(e,s,l,c)}}lu(),o=Sc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Mi=Si=null,fc=r,I.H=i,I.A=a,null===mc&&(pc=null,gc=0,Pr()),o}function lu(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!oe();)uu(mc)}function uu(e){var t=ol(e.alternate,e,wc);e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Gs(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Gs(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:oo(t);default:ml(n,t),t=ol(n,t=mc=jr(t,wc),wc)}e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function hu(e,t,n,r){Mi=Si=null,oo(t),sa=null,la=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ri(t,n,i,!0),null!==(n=Na.current)){switch(n.tag){case 31:case 13:return null===La?ou():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ea?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Mu(e,r,i)),!1;case 22:return n.flags|=65536,r===ea?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Mu(e,r,i)),!1}throw Error(o(435,n.tag))}return Mu(e,r,i),ou(),!1}if(di)return null!==(t=Na.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&_i(Yr(e=Error(o(422),{cause:r}),n))):(r!==pi&&_i(Yr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Yr(r,n),_a(e,i=Rs(e.stateNode,r,i)),4!==Sc&&(Sc=2)),!1;var a=Error(o(520),{cause:r});if(a=Yr(a,n),null===Rc?Rc=[a]:Rc.push(a),4!==Sc&&(Sc=2),null===t)return!0;r=Yr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,_a(n,e=Rs(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Dc||!Dc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,ks(i=Ps(i),e,n,r),_a(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,gc))return Sc=1,Cs(e,Yr(n,e.current)),void(mc=null)}catch(Rg){if(null!==i)throw mc=i,Rg;return Sc=1,Cs(e,Yr(n,e.current)),void(mc=null)}32768&t.flags?(di||1===r?e=!0:xc||0!==(536870912&gc)?e=!1:(bc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Na.current)&&13===r.tag&&(r.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,bc);e=t.return;var n=fl(t.alternate,t,wc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===Sc&&(Sc=5)}function pu(e,t){do{var n=pl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);Sc=6,mc=null}function mu(e,t,n,r,i,a,s,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==Fc);if(0!==(6&fc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-xe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Le(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Rr,s,l,c),e===pc&&(mc=pc=null,gc=0),zc=t,Uc=e,Bc=n,jc=a,Vc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return _u(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=I.T,I.T=null,i=O.p,O.p=2,s=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,pd=bh,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},bh=!1,Ll=t;null!==Ll;)if(e=(t=Ll).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ll=e;else for(;null!==Ll;){switch(a=(t=Ll).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=Ss(n.type,i);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(Rg){Su(n,n.return,Rg)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Rd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Ll=e;break}Ll=t.return}}(e,t)}finally{fc=s,O.p=i,I.T=r}}Fc=1,gu(),vu(),yu()}}function gu(){if(1===Fc){Fc=0;var e=Uc,t=zc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=I.T,I.T=null;var r=O.p;O.p=2;var i=fc;fc|=4;try{Gl(t,e);var a=md,o=rr(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==l&&ir(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var v=tr(s,m),y=tr(s,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}bh=!!pd,md=pd=null}finally{fc=i,O.p=r,I.T=n}}e.current=t,Fc=2}}function vu(){if(2===Fc){Fc=0;var e=Uc,t=zc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=I.T,I.T=null;var r=O.p;O.p=2;var i=fc;fc|=4;try{Il(e,t.alternate,t)}finally{fc=i,O.p=r,I.T=n}}Fc=3}}function yu(){if(4===Fc||3===Fc){Fc=0,se();var e=Uc,t=zc,n=Bc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,zc=Uc=null,bu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Dc=null),Fe(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=I.T,i=O.p,O.p=2,I.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{I.T=t,O.p=i}}0!==(3&Bc)&&xu(),Ou(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Gc?Wc++:(Wc=0,Gc=e):Wc=0,Du(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function xu(){return gu(),vu(),yu(),_u()}function _u(){if(5!==Fc)return!1;var e=Uc,t=jc;jc=0;var n=Fe(Bc),r=I.T,i=O.p;try{O.p=32>n?32:n,I.T=null,n=Vc,Vc=null;var a=Uc,s=Bc;if(Fc=0,zc=Uc=null,Bc=0,0!==(6&fc))throw Error(o(331));var l=fc;if(fc|=4,lc(a.current),ec(a,a.current,s,n),fc=l,Du(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,a)}catch(c){}return!0}finally{O.p=i,I.T=r,bu(e,t)}}function wu(e,t,n){t=Yr(n,t),null!==(e=ba(e,t=Rs(e.stateNode,t,2),2))&&(Ne(e,2),Ou(e))}function Su(e,t,n){if(3===e.tag)wu(e,e,n);else for(;null!==t;){if(3===t.tag){wu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Dc||!Dc.has(r))){e=Yr(n,e),null!==(r=ba(t,n=Ps(2),2))&&(ks(n,r,t,e),Ne(r,2),Ou(r));break}}t=t.return}}function Mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(_c=!0,i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(gc&n)===n&&(4===Sc||3===Sc&&(62914560&gc)===gc&&300>le()-Nc?0===(2&fc)&&tu(e,0):Tc|=n,Ac===gc&&(Ac=0)),Ou(e)}function Tu(e,t){0===t&&(t=Pe()),null!==(e=Lr(e,t))&&(Ne(e,t),Ou(e))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tu(e,n)}var Ru=null,Pu=null,ku=!1,Nu=!1,Lu=!1,Iu=0;function Ou(e){e!==Pu&&null===e.next&&(null===Pu?Ru=Pu=e:Pu=Pu.next=e),Nu=!0,ku||(ku=!0,Md(function(){0!==(6&fc)?ie(ue,Fu):Uu()}))}function Du(e,t){if(!Lu&&Nu){Lu=!0;do{for(var n=!1,r=Ru;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-xe(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,ju(r,a))}else a=gc,0===(3&(a=Ce(r,r===pc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ae(r,a)||(n=!0,ju(r,a));r=r.next}}while(n);Lu=!1}}function Fu(){Uu()}function Uu(){Nu=ku=!1;var e=0;0!==Iu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Iu);for(var t=le(),n=null,r=Ru;null!==r;){var i=r.next,a=zu(r,t);0===a?(r.next=null,null===n?Ru=i:n.next=i,null===i&&(Pu=n)):(n=r,(0!==e||0!==(3&a))&&(Nu=!0)),r=i}0!==Fc&&5!==Fc||Du(e,!1),0!==Iu&&(Iu=0)}function zu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-xe(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Re(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=gc,n=Ce(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ae(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Fe(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function Bu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Ce(e,e===pc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Zc(e,r,t),zu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Bu.bind(null,e):null)}function ju(e,t){if(xu())return null;Zc(e,t,!0)}function Vu(){if(0===Iu){var e=Hi;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Iu=e}return Iu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:kt(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gu=0;Gu<Mr.length;Gu++){var Xu=Mr[Gu];Er(Xu.toLowerCase(),"on"+(Xu[0].toUpperCase()+Xu.slice(1)))}Er(gr,"onAnimationEnd"),Er(vr,"onAnimationIteration"),Er(yr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(br,"onTransitionRun"),Er(xr,"onTransitionStart"),Er(_r,"onTransitionCancel"),Er(wr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qu));function Zu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(Rg){Tr(Rg)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(Rg){Tr(Rg)}i.currentTarget=null,a=l}}}}function Ku(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Qu(e){if(!e[$u]){e[$u]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$u]||(t[$u]=!0,Ju("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Th(t)){case 2:var i=xh;break;case 8:i=_h;break;default:i=wh}n=i.bind(null,t,n,e),i=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function td(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=Ke(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}s=s.parentNode}}r=r.return}zt(function(){var r=a,i=It(n),o=[];e:{var s=Sr.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case gr:case vr:case yr:c=un;break;case wr:c=_n;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Bt(m,f))&&d.push(nd(m,g,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,i),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Lt||!(u=n.relatedTarget||n.fromElement)||!Ke(u)&&!u[He])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ke(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:$e(c),p=null==u?s:$e(u),(s=new d(g,m+"leave",c,n,i)).target=h,s.relatedTarget=p,g=null,Ke(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=id,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var v=m;v;v=d(v))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&ad(o,s,c,d,!1),null!==u&&null!==h&&ad(o,h,u,d,!0)}if("select"===(c=(s=r?$e(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=jn;else if(On(s))if(Vn)y=Jn;else{y=Zn;var b=Yn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&At(r.elementType)&&(y=jn):y=Kn;switch(y&&(y=y(e,r))?Dn(o,y,n,i):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&xt(s,"number",s.value)),b=r?$e(r):window,e){case"focusin":(On(b)||"true"===b.contentEditable)&&(or=b,sr=r,lr=null);break;case"focusout":lr=sr=or=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(o,n,i);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":ur(o,n,i)}var x;if(En)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ln?kn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(An&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==_?"onCompositionEnd"===_&&Ln&&(x=qt()):(Gt="value"in(Wt=i)?Wt.value:Wt.textContent,Ln=!0)),0<(b=rd(r,_)).length&&(_=new hn(_,e,null,n,i),o.push({event:_,listeners:b}),x?_.data=x:null!==(x=Nn(n))&&(_.data=x))),(x=Cn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(Pn=!0,Rn);case"textInput":return(e=t.data)===Rn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!En&&kn(e,t)?(e=qt(),Xt=Gt=Wt=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(_=rd(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:_}),b.data=x)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Hu((i[Ve]||null).action),o=r.submitter;o&&null!==(t=(t=o[Ve]||null)?Hu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new nn("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Iu){var e=o?Wu(i,o):new FormData(i);ts(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Wu(i,o):new FormData(i),ts(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Zu(o,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Bt(e,n))&&r.unshift(nd(e,i,a)),null!=(i=Bt(e,t))&&r.push(nd(e,i,a))),3===e.tag)return r;e=e.return}return[]}function id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Bt(n,a))&&o.unshift(nd(n,c,l)):i||null!=(c=Bt(n,a))&&o.push(nd(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var od=/\r\n?/g,sd=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(sd,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Mt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Mt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Ct(e,r,a);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=kt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&ud(e,t,"name",i.name,i,null),ud(e,t,"formEncType",i.formEncType,i,null),ud(e,t,"formMethod",i.formMethod,i,null),ud(e,t,"formTarget",i.formTarget,i,null)):(ud(e,t,"encType",i.encType,i,null),ud(e,t,"method",i.method,i,null),ud(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=kt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Nt);break;case"onScroll":null!=r&&Ku("scroll",e);break;case"onScrollEnd":null!=r&&Ku("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=kt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ku("beforetoggle",e),Ku("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Rt.get(n)||n,r)}}function dd(e,t,n,r,i,a){switch(n){case"style":Ct(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Mt(e,r):("number"===typeof r||"bigint"===typeof r)&&Mt(e,""+r);break;case"onScroll":null!=r&&Ku("scroll",e);break;case"onScrollEnd":null!=r&&Ku("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Nt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Ve]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ku("error",e),Ku("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ud(e,t,r,s,n,null)}}return a&&ud(e,t,"srcSet",n.srcSet,n,null),void(i&&ud(e,t,"src",n.src,n,null));case"input":Ku("invalid",e);var l=r=s=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:ud(e,t,i,d,n,null)}}return void bt(e,r,l,c,u,s,a,!1);case"select":for(a in Ku("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:ud(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?_t(e,!!i,t,!1):null!=n&&_t(e,!!i,n,!0));case"textarea":for(s in Ku("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:ud(e,t,s,l,n,null)}return void St(e,i,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else ud(e,t,c,i,n,null);return;case"dialog":Ku("beforetoggle",e),Ku("toggle",e),Ku("cancel",e),Ku("close",e);break;case"iframe":case"object":Ku("load",e);break;case"video":case"audio":for(i=0;i<qu.length;i++)Ku(qu[i],e);break;case"image":Ku("error",e),Ku("load",e);break;case"details":Ku("toggle",e);break;case"embed":case"source":case"link":Ku("error",e),Ku("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ud(e,t,u,i,n,null)}return;default:if(At(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&dd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&ud(e,t,l,i,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var _d="function"===typeof setTimeout?setTimeout:void 0,wd="function"===typeof clearTimeout?clearTimeout:void 0,Sd="function"===typeof Promise?Promise:void 0,Md="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sd?function(e){return Sd.resolve(null).then(e).catch(Ed)}:_d;function Ed(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function Cd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Wh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Ud(e.ownerDocument.documentElement);else if("head"===n){Ud(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Ye]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}else"body"===n&&Ud(e.ownerDocument.body);n=i}while(n);Wh(t)}function Ad(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Rd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Rd(n),Ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ld(e.nextSibling)))return null}return e}function kd(e){return"$?"===e.data||"$~"===e.data}function Nd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ld(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Id=null;function Od(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ld(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Dd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Ud(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ze(e)}var zd=new Map,Bd=new Set;function jd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vd=O.d;O.d={f:function(){var e=Vd.f(),t=Qc();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?rs(t):Vd.r(e)},D:function(e){Vd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){Vd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){Vd.L(e,t,n);var r=Hd;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var a=i;switch(t){case"style":a=Xd(e);break;case"script":a=Zd(e)}zd.has(a)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),zd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(qd(a))||"script"===t&&r.querySelector(Kd(a))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Vd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Zd(e)}if(!zd.has(a)&&(e=f({rel:"modulepreload",href:e},t),zd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Kd(a)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Vd.X(e,t);var n=Hd;if(n&&e){var r=Qe(n).hoistableScripts,i=Zd(e),a=r.get(i);a||((a=n.querySelector(Kd(i)))||(e=f({src:e,async:!0},t),(t=zd.get(i))&&eh(e,t),et(a=n.createElement("script")),hd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Vd.S(e,t,n);var r=Hd;if(r&&e){var i=Qe(r).hoistableStyles,a=Xd(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(qd(a)))s.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zd.get(a))&&Qd(e,n);var l=o=r.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,$d(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Vd.M(e,t);var n=Hd;if(n&&e){var r=Qe(n).hoistableScripts,i=Zd(e),a=r.get(i);a||((a=n.querySelector(Kd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=zd.get(i))&&eh(e,t),et(a=n.createElement("script")),hd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Hd="undefined"===typeof document?null:document;function Wd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Bd.has(i)||(Bd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Gd(e,t,n,r){var i=(i=X.current)?jd(i):null;if(!i)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Xd(n.href),(r=(n=Qe(i).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Xd(n.href);var a=Qe(i).hoistableStyles,s=a.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=i.querySelector(qd(e)))&&!a._p&&(s.instance=a,s.state.loading=5),zd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zd.set(e,n),a||function(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),hd(t,"link",n),et(t),e.head.appendChild(t))}(i,e,n,s.state))),t&&null===r)throw Error(o(528,""));return s}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Zd(n),(r=(n=Qe(i).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Xd(e){return'href="'+vt(e)+'"'}function qd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Zd(e){return'[src="'+vt(e)+'"]'}function Kd(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",i),$d(r,n.precedence,e),t.instance=r;case"stylesheet":i=Xd(n.href);var a=e.querySelector(qd(i));if(a)return t.state.loading|=4,t.instance=a,et(a),a;r=Yd(n),(i=zd.get(i))&&Qd(r,i),et(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hd(a,"link",r),t.state.loading|=4,$d(a,n.precedence,e),t.instance=a;case"script":return a=Zd(n.src),(i=e.querySelector(Kd(a)))?(t.instance=i,et(i),i):(r=n,(i=zd.get(a))&&eh(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),hd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,$d(r,n.precedence,e));return t.instance}function $d(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Qd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,i=th=new Map;i.set(n,r)}else(r=(i=th).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ye]||a[je]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ih(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ah=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sh=new Map,t.forEach(ch,e),sh=null,oh.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=sh.get(e);if(n)var r=n.get(null);else{n=new Map,sh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=oh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var uh={$$typeof:_,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function dh(e,t,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,r,i,a,o,s,l,c,u,d){return e=new dh(e,t,n,o,l,c,u,d,s),t=1,!0===a&&(t|=24),a=Ur(3,null,null,t),e.current=a,a.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ga(a),e}function fh(e){return e?e=Dr:Dr}function ph(e,t,n,r,i,a){i=fh(i),null===r.context?r.context=i:r.pendingContext=i,(r=ya(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ba(e,r,t))&&(Yc(n,0,t),xa(n,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Lr(e,67108864);null!==t&&Yc(t,0,67108864),gh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=Xc(),n=Lr(e,t=De(t));null!==n&&Yc(n,0,t),gh(e,t)}}var bh=!0;function xh(e,t,n,r){var i=I.T;I.T=null;var a=O.p;try{O.p=2,wh(e,t,n,r)}finally{O.p=a,I.T=i}}function _h(e,t,n,r){var i=I.T;I.T=null;var a=O.p;try{O.p=8,wh(e,t,n,r)}finally{O.p=a,I.T=i}}function wh(e,t,n,r){if(bh){var i=Sh(r);if(null===i)td(e,t,r,Mh,n),Oh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ah=Dh(Ah,e,t,n,r,i),!0;case"dragenter":return Rh=Dh(Rh,e,t,n,r,i),!0;case"mouseover":return Ph=Dh(Ph,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return kh.set(a,Dh(kh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nh.set(a,Dh(Nh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Oh(e,r),4&t&&-1<Ih.indexOf(e)){for(;null!==i;){var a=Je(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=Te(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-xe(o);s.entanglements[1]|=l,o&=~l}Ou(a),0===(6&fc)&&(Ic=le()+500,Du(0,!1))}}break;case 31:case 13:null!==(s=Lr(a,2))&&Yc(s,0,2),Qc(),gh(a,2)}if(null===(a=Sh(r))&&td(e,t,r,Mh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else td(e,t,r,null,n)}}function Sh(e){return Eh(e=It(e))}var Mh=null;function Eh(e){if(Mh=null,null!==(e=Ke(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Mh=e,null}function Th(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ch=!1,Ah=null,Rh=null,Ph=null,kh=new Map,Nh=new Map,Lh=[],Ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oh(e,t){switch(e){case"focusin":case"focusout":Ah=null;break;case"dragenter":case"dragleave":Rh=null;break;case"mouseover":case"mouseout":Ph=null;break;case"pointerover":case"pointerout":kh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nh.delete(t.pointerId)}}function Dh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Je(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fh(e){var t=Ke(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void ze(e.priority,function(){yh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void ze(e.priority,function(){yh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Uh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sh(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Lt=r,n.target.dispatchEvent(r),Lt=null,t.shift()}return!0}function zh(e,t,n){Uh(e)&&n.delete(t)}function Bh(){Ch=!1,null!==Ah&&Uh(Ah)&&(Ah=null),null!==Rh&&Uh(Rh)&&(Rh=null),null!==Ph&&Uh(Ph)&&(Ph=null),kh.forEach(zh),Nh.forEach(zh)}function jh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ch||(Ch=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bh)))}var Vh=null;function Hh(e){Vh!==e&&(Vh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vh===e&&(Vh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Eh(r||n))continue;break}var a=Je(n);null!==a&&(e.splice(t,3),t-=3,ts(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Wh(e){function t(t){return jh(t,e)}null!==Ah&&jh(Ah,e),null!==Rh&&jh(Rh,e),null!==Ph&&jh(Ph,e),kh.forEach(t),Nh.forEach(t);for(var n=0;n<Lh.length;n++){var r=Lh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Lh.length&&null===(n=Lh[0]).blockedOn;)Fh(n),null===n.blockedOn&&Lh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Ve]||null;if("function"===typeof a)o||Hh(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Ve]||null)s=o.formAction;else if(null!==Eh(i))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Hh(n)}}}function Gh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Xh(e){this._internalRoot=e}function qh(e){this._internalRoot=e}qh.prototype.render=Xh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));ph(t.current,Xc(),e,t,null,null)},qh.prototype.unmount=Xh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),Qc(),t[He]=null}},qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lh.length&&0!==t&&t<Lh[n].priority;n++);Lh.splice(n,0,e),0===n&&Fh(e)}};var Yh=i.version;if("19.2.3"!==Yh)throw Error(o(527,Yh,"19.2.3"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return d(i),e;if(a===r)return d(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Zh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{ve=Kh.inject(Zh),ye=Kh}catch($h){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=Ms,a=Es,l=Ts;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,r,null,i,a,l,Gh),e[He]=t.current,Qu(e),new Xh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,i="",a=Ms,l=Es,c=Ts,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,r,i,u,a,l,c,Gh)).context=fh(null),n=t.current,(i=ya(r=De(r=Xc()))).callback=null,ba(n,i,r),n=r,t.current.lanes=n,Ne(t,n),Ou(t),e[He]=t.current,Qu(e),new qh(t)},t.version="19.2.3"},16(e,t,n){e.exports=n(492)},43(e,t,n){e.exports=n(288)},67(e,t,n){e.exports=n(914)},205(e,t,n){e.exports=n(252)},252(e,t){t.ConcurrentRoot=1,t.ContinuousEventPriority=8,t.DefaultEventPriority=32,t.DiscreteEventPriority=2},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var _=x.prototype=new b;_.constructor=x,g(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray;function S(){}var M={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function T(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+R(e,0):a,w(o)?(i="",null!=u&&(i=u.replace(A,"$&/")+"/"),P(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+u,o=T(l.type,c,l.props)),t.push(o)),1;u=0;var d,f=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)u+=P(a=e[m],t,i,s=f+R(a,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=P(a=a.value,t,i,s=f+R(a,m++),o);else if("object"===s){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function k(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},I={map:k,forEach:function(e,t,n){k(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return k(e,function(){t++}),t},toArray:function(e){return k(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=I,t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return M.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!E.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return T(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return T(e,a,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.T,n={};M.T=n;try{var r=e(),i=M.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,L)}catch(Rg){L(Rg)}finally{null!==t&&null!==n.types&&(t.types=n.types),M.T=t}},t.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},t.use=function(e){return M.H.use(e)},t.useActionState=function(e,t,n){return M.H.useActionState(e,t,n)},t.useCallback=function(e,t){return M.H.useCallback(e,t)},t.useContext=function(e){return M.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return M.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return M.H.useEffect(e,t)},t.useEffectEvent=function(e){return M.H.useEffectEvent(e)},t.useId=function(){return M.H.useId()},t.useImperativeHandle=function(e,t,n){return M.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.H.useMemo(e,t)},t.useOptimistic=function(e,t){return M.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return M.H.useReducer(e,t,n)},t.useRef=function(e){return M.H.useRef(e)},t.useState=function(e){return M.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.H.useTransition()},t.version="19.2.3"},330(e,t,n){var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(Rg){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),o(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},443(e,t,n){e.exports=n(717)},461(e,t,n){e.exports=n(330)},492(e,t,n){e.exports=function(e){function t(e,t,n,r){return new Mi(e,t,n,r)}function r(){}function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=la&&e[la]||e["@@iterator"])?e:null}function o(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===ca?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case qi:return"Fragment";case Xi:return"Portal";case Zi:return"Profiler";case Yi:return"StrictMode";case ea:return"Suspense";case ta:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case $i:return(e.displayName||"Context")+".Provider";case Ji:return(e._context.displayName||"Context")+".Consumer";case Qi:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case na:return null!==(t=e.displayName||null)?t:o(e.type)||"Memo";case ra:t=e._payload,e=e._init;try{return o(e(t))}catch(MR){}}return null}function s(e){if(void 0===aa)try{throw Error()}catch(MR){var t=MR.stack.trim().match(/\n( *(at )?)/);aa=t&&t[1]||"",oa=-1<MR.stack.indexOf("\n    at")?" (<anonymous>)":-1<MR.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+aa+e+oa}function l(e,t){if(!e||da)return"";da=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(MR){var r=MR}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],l=a[1];if(o&&l){var c=o.split("\n"),u=l.split("\n");for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===u.length)for(r=c.length-1,i=u.length-1;1<=r&&0<=i&&c[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||c[r]!==u[i]){var d="\n"+c[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=i);break}}}finally{da=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?s(n):""}function c(e){switch(e.tag){case 26:case 27:case 5:return s(e.type);case 16:return s("Lazy");case 13:return s("Suspense");case 19:return s("SuspenseList");case 0:case 15:return e=l(e.type,!1);case 11:return e=l(e.type.render,!1);case 1:return e=l(e.type,!0);default:return""}}function u(e){try{var t="";do{t+=c(e),e=e.return}while(e);return t}catch(MR){return"\nError generating stack: "+MR.message+"\n"+MR.stack}}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function h(e){if(d(e)!==e)throw Error(i(188))}function f(e){var t=e.alternate;if(!t){if(null===(t=d(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return h(a),e;if(o===r)return h(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=p(e)))return t;e=e.sibling}return null}function m(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(4!==e.tag&&null!==(t=m(e)))return t;e=e.sibling}return null}function g(e){return{current:e}}function v(e){0>ys||(e.current=vs[ys],vs[ys]=null,ys--)}function y(e,t){ys++,vs[ys]=e.current,e.current=t}function b(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function x(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&n;return 0!==s?0!==(n=s&~i)?r=b(n):0!==(a&=s)?r=b(a):e||0!==(o=s&~o)&&(r=b(o)):0!==(s=n&~i)?r=b(s):0!==a?r=b(a):e||0!==(o=n&~o)&&(r=b(o)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||32===i&&0!==(4194176&o))?t:r}function _(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function w(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function S(){var e=Ss;return 0===(4194176&(Ss<<=1))&&(Ss=128),e}function M(){var e=Ms;return 0===(62914560&(Ms<<=1))&&(Ms=4194304),e}function E(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function T(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function C(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xs(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function A(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function R(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function P(e){if("function"===typeof Is&&Os(e),Fs&&"function"===typeof Fs.setStrictMode)try{Fs.setStrictMode(Ds,e)}catch(t){}}function k(e,t){if("object"===typeof e&&null!==e){var n=zs.get(e);return void 0!==n?n:(t={value:e,source:t,stack:u(t)},zs.set(e,t),t)}return{value:e,source:t,stack:u(t)}}function N(e,t){Bs[js++]=Hs,Bs[js++]=Vs,Vs=e,Hs=t}function L(e,t,n){Ws[Gs++]=qs,Ws[Gs++]=Ys,Ws[Gs++]=Xs,Xs=e;var r=qs;e=Ys;var i=32-xs(r)-1;r&=~(1<<i),n+=1;var a=32-xs(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qs=1<<32-xs(t)+i|n<<i|r,Ys=a+e}else qs=1<<a|n<<i|r,Ys=e}function I(e){null!==e.return&&(N(e,1),L(e,1,0))}function O(e){for(;e===Vs;)Vs=Bs[--js],Bs[js]=null,Hs=Bs[--js],Bs[js]=null;for(;e===Xs;)Xs=Ws[--Gs],Ws[Gs]=null,Ys=Ws[--Gs],Ws[Gs]=null,qs=Ws[--Gs],Ws[Gs]=null}function D(e,t){y(Js,t),y(Ks,e),y(Zs,null),e=va(t),v(Zs),y(Zs,e)}function F(){v(Zs),v(Ks),v(Js)}function U(e){null!==e.memoizedState&&y($s,e);var t=Zs.current,n=ya(t,e.type);t!==n&&(y(Ks,e),y(Zs,n))}function z(e){Ks.current===e&&(v(Zs),v(Ks)),$s.current===e&&(v($s),Ra?Xa._currentValue=Ga:Xa._currentValue2=Ga)}function B(e){throw G(k(Error(i(418,"")),e)),il}function j(e,t){if(!Na)throw Error(i(175));Bo(e.stateNode,e.type,e.memoizedProps,t,e)||B(e)}function V(e){for(Qs=e.return;Qs;)switch(Qs.tag){case 3:case 27:return void(rl=!0);case 5:case 13:return void(rl=!1);default:Qs=Qs.return}}function H(e){if(!Na||e!==Qs)return!1;if(!tl)return V(e),tl=!0,!1;var t=!1;if(ds?3!==e.tag&&27!==e.tag&&(5!==e.tag||Yo(e.type)&&!Ma(e.type,e.memoizedProps))&&(t=!0):3!==e.tag&&(5!==e.tag||Yo(e.type)&&!Ma(e.type,e.memoizedProps))&&(t=!0),t&&el&&B(e),V(e),13===e.tag){if(!Na)throw Error(i(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));el=Ho(e)}else el=Qs?Lo(e.stateNode):null;return!0}function W(){Na&&(el=Qs=null,tl=!1)}function G(e){null===nl?nl=[e]:nl.push(e)}function X(){for(var e=ol,t=sl=ol=0;t<e;){var n=al[t];al[t++]=null;var r=al[t];al[t++]=null;var i=al[t];al[t++]=null;var a=al[t];if(al[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&K(n,i,a)}}function q(e,t,n,r){al[ol++]=e,al[ol++]=t,al[ol++]=n,al[ol++]=r,sl|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Y(e,t,n,r){return q(e,t,n,r),J(e)}function Z(e,t){return q(e,null,null,t),J(e)}function K(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;i&&null!==t&&3===e.tag&&(a=e.stateNode,i=31-xs(n),null===(e=(a=a.hiddenUpdates)[i])?a[i]=[t]:e.push(t),t.lane=536870912|n)}function J(e){if(50<nu)throw nu=0,ru=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}function $(e){var t;e!==cl&&null===e.next&&(null===cl?ll=cl=e:cl=cl.next=e),dl=!0,ul||(ul=!0,t=ee,Ya?Za(function(){0!==(6&Ac)?Es(Ps,t):t()}):Es(Ps,t))}function Q(e,t){if(!hl&&dl){hl=!0;do{for(var n=!1,r=ll;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-xs(42|e)+1)-1,a=201326677&(a&=i&~(o&~s))?201326677&a|1:a?2|a:0}0!==a&&(n=!0,re(r,a))}else a=kc,0===(3&(a=x(r,r===Rc?a:0)))||_(r,a)||(n=!0,re(r,a));r=r.next}}while(n);hl=!1}}function ee(){dl=ul=!1;var e=0;0!==fl&&(Ua()&&(e=fl),fl=0);for(var t=Rs(),n=null,r=ll;null!==r;){var i=r.next,a=te(r,t);0===a?(r.next=null,null===n?ll=i:n.next=i,null===i&&(cl=n)):(n=r,(0!==e||0!==(3&a))&&(dl=!0)),r=i}Q(e,!1)}function te(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-xs(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=w(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=kc,n=x(e,e===(t=Rc)?n:0),r=e.callbackNode,0===n||e===t&&2===Nc||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Ts(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||_(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Ts(r),R(n)){case 2:case 8:n=ks;break;case 32:default:n=Ns;break;case 268435456:n=Ls}return r=ne.bind(null,e),n=Es(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Ts(r),e.callbackPriority=2,e.callbackNode=null,2}function ne(e,t){var n=e.callbackNode;if(gi()&&e.callbackNode!==n)return null;var r=kc;return 0===(r=x(e,e===Rc?r:0))?null:(qr(e,r,t),te(e,Rs()),null!=e.callbackNode&&e.callbackNode===n?ne.bind(null,e):null)}function re(e,t){if(gi())return null;qr(e,t,!0)}function ie(){return 0===fl&&(fl=S()),fl}function ae(){if(0===--ml&&null!==pl){null!==vl&&(vl.status="fulfilled");var e=pl;pl=null,gl=0,vl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function oe(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function se(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function le(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ce(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ac)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=J(e),K(e,null,n),t}return q(e,r,t,n),J(e)}function ue(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,A(e,n)}}function de(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function he(){if(bl){if(null!==vl)throw vl}}function fe(e,t,n,r){bl=!1;var i=e.updateQueue;yl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,f=h!==s.lane;if(f?(kc&h)===h:(r&h)===h){0!==h&&h===gl&&(bl=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=e,m=s;h=t;var g=n;switch(m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(g,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(g,d,h):p)||void 0===h)break e;d=Hi({},d,h);break e;case 2:yl=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),zc|=o,e.lanes=o,e.memoizedState=d}}function pe(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function me(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)pe(n[e],t)}function ge(e,t){if(Us(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xl.call(t,i)||!Us(e[i],t[i]))return!1}return!0}function ve(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ye(){}function be(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ye,ye),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===_l)throw Error(i(483));throw e;default:if("string"===typeof t.status)t.then(ye,ye);else{if(null!==(e=Rc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===_l)throw Error(i(483));throw e}throw Ml=t,_l}}function xe(){if(null===Ml)throw Error(i(459));var e=Ml;return Ml=null,e}function _e(e){var t=Tl;return Tl+=1,null===El&&(El=[]),be(El,e,t)}function we(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Se(e,t){if(t.$$typeof===Wi)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Me(e){return(0,e._init)(e._payload)}function Ee(e){function n(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function r(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function o(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Ti(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function c(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=ki(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n,r){var i=n.type;return i===qi?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===ra&&Me(i)===t.type)?(we(t=s(t,n.props),n),t.return=e,t):(we(t=Ai(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ni(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Ri(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=ki(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Gi:return we(n=Ai(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case Xi:return(t=Ni(t,e.mode,n)).return=e,t;case ra:return p(e,t=(0,t._init)(t._payload),n)}if(ha(t)||a(t))return(t=Ri(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,_e(t),n);if(t.$$typeof===$i)return p(e,Ln(e,t),n);Se(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Gi:return n.key===i?d(e,t,n,r):null;case Xi:return n.key===i?h(e,t,n,r):null;case ra:return m(e,t,n=(i=n._init)(n._payload),r)}if(ha(n)||a(n))return null!==i?null:f(e,t,n,r,null);if("function"===typeof n.then)return m(e,t,_e(n),r);if(n.$$typeof===$i)return m(e,t,Ln(e,n),r);Se(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Gi:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Xi:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case ra:return g(e,t,n,r=(0,r._init)(r._payload),i)}if(ha(r)||a(r))return f(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return g(e,t,n,_e(r),i);if(r.$$typeof===$i)return g(e,t,n,Ln(t,r),i);Se(t,r)}return null}function v(t,u,d,h){if("object"===typeof d&&null!==d&&d.type===qi&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case Gi:e:{for(var f=d.key;null!==u;){if(u.key===f){if((f=d.type)===qi){if(7===u.tag){r(t,u.sibling),(h=s(u,d.props.children)).return=t,t=h;break e}}else if(u.elementType===f||"object"===typeof f&&null!==f&&f.$$typeof===ra&&Me(f)===u.type){r(t,u.sibling),we(h=s(u,d.props),d),h.return=t,t=h;break e}r(t,u);break}n(t,u),u=u.sibling}d.type===qi?((h=Ri(d.props.children,t.mode,h,d.key)).return=t,t=h):(we(h=Ai(d.type,d.key,d.props,null,t.mode,h),d),h.return=t,t=h)}return c(t);case Xi:e:{for(f=d.key;null!==u;){if(u.key===f){if(4===u.tag&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){r(t,u.sibling),(h=s(u,d.children||[])).return=t,t=h;break e}r(t,u);break}n(t,u),u=u.sibling}(h=Ni(d,t.mode,h)).return=t,t=h}return c(t);case ra:return v(t,u,d=(f=d._init)(d._payload),h)}if(ha(d))return function(t,i,a,s){for(var c=null,u=null,d=i,h=i=0,f=null;null!==d&&h<a.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var v=m(t,d,a[h],s);if(null===v){null===d&&(d=f);break}e&&d&&null===v.alternate&&n(t,d),i=l(v,i,h),null===u?c=v:u.sibling=v,u=v,d=f}if(h===a.length)return r(t,d),tl&&N(t,h),c;if(null===d){for(;h<a.length;h++)null!==(d=p(t,a[h],s))&&(i=l(d,i,h),null===u?c=d:u.sibling=d,u=d);return tl&&N(t,h),c}for(d=o(d);h<a.length;h++)null!==(f=g(d,t,h,a[h],s))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),i=l(f,i,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return n(t,e)}),tl&&N(t,h),c}(t,u,d,h);if(a(d)){if("function"!==typeof(f=a(d)))throw Error(i(150));return function(t,a,s,c){if(null==s)throw Error(i(151));for(var u=null,d=null,h=a,f=a=0,v=null,y=s.next();null!==h&&!y.done;f++,y=s.next()){h.index>f?(v=h,h=null):v=h.sibling;var b=m(t,h,y.value,c);if(null===b){null===h&&(h=v);break}e&&h&&null===b.alternate&&n(t,h),a=l(b,a,f),null===d?u=b:d.sibling=b,d=b,h=v}if(y.done)return r(t,h),tl&&N(t,f),u;if(null===h){for(;!y.done;f++,y=s.next())null!==(y=p(t,y.value,c))&&(a=l(y,a,f),null===d?u=y:d.sibling=y,d=y);return tl&&N(t,f),u}for(h=o(h);!y.done;f++,y=s.next())null!==(y=g(h,t,f,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),a=l(y,a,f),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return n(t,e)}),tl&&N(t,f),u}(t,u,d=f.call(d),h)}if("function"===typeof d.then)return v(t,u,_e(d),h);if(d.$$typeof===$i)return v(t,u,Ln(t,d),h);Se(t,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==u&&6===u.tag?(r(t,u.sibling),(h=s(u,d)).return=t,t=h):(r(t,u),(h=ki(d,t.mode,h)).return=t,t=h),c(t)):r(t,u)}return function(e,n,r,i){try{Tl=0;var a=v(e,n,r,i);return El=null,a}catch(MR){if(MR===_l)throw MR;var o=t(29,MR,null,e.mode);return o.lanes=i,o.return=e,o}}}function Te(e,t){y(Pl,e=Fc),y(Rl,t),Fc=e|t.baseLanes}function Ce(){y(Pl,Fc),y(Rl,Rl.current)}function Ae(){Fc=Pl.current,v(Rl),v(Pl)}function Re(e){var t=e.alternate;y(Ll,1&Ll.current),y(kl,e),null===Nl&&(null===t||null!==Rl.current||null!==t.memoizedState)&&(Nl=e)}function Pe(e){if(22===e.tag){if(y(Ll,Ll.current),y(kl,e),null===Nl){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Nl=e)}}else ke()}function ke(){y(Ll,Ll.current),y(kl,kl.current)}function Ne(e){v(kl),Nl===e&&(Nl=null),v(Ll)}function Le(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Co(n)||Ao(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ie(){throw Error(i(321))}function Oe(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Us(e[n],t[n]))return!1;return!0}function De(e,t,n,r,i,a){return Il=a,Ol=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.H=null===e||null===e.memoizedState?ql:Yl,Bl=!1,a=n(r,i),Bl=!1,zl&&(a=Ue(t,n,r,i)),Fe(e),a}function Fe(e){ua.H=Xl;var t=null!==Dl&&null!==Dl.next;if(Il=0,Fl=Dl=Ol=null,Ul=!1,Vl=0,Hl=null,t)throw Error(i(300));null===e||Ql||null!==(e=e.dependencies)&&Pn(e)&&(Ql=!0)}function Ue(e,t,n,r){Ol=e;var a=0;do{if(zl&&(Hl=null),Vl=0,zl=!1,25<=a)throw Error(i(301));if(a+=1,Fl=Dl=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}ua.H=Zl,o=t(n,r)}while(zl);return o}function ze(){var e=ua.H,t=e.useState()[0];return t="function"===typeof t.then?Ge(t):t,e=e.useState()[0],(null!==Dl?Dl.memoizedState:null)!==e&&(Ol.flags|=1024),t}function Be(){var e=0!==jl;return jl=0,e}function je(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ve(e){if(Ul){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ul=!1}Il=0,Fl=Dl=Ol=null,zl=!1,Vl=jl=0,Hl=null}function He(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Fl?Ol.memoizedState=Fl=e:Fl=Fl.next=e,Fl}function We(){if(null===Dl){var e=Ol.alternate;e=null!==e?e.memoizedState:null}else e=Dl.next;var t=null===Fl?Ol.memoizedState:Fl.next;if(null!==t)Fl=t,Dl=e;else{if(null===e){if(null===Ol.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Dl=e).memoizedState,baseState:Dl.baseState,baseQueue:Dl.baseQueue,queue:Dl.queue,next:null},null===Fl?Ol.memoizedState=Fl=e:Fl=Fl.next=e}return Fl}function Ge(e){var t=Vl;return Vl+=1,null===Hl&&(Hl=[]),e=be(Hl,e,t),t=Ol,null===(null===Fl?t.memoizedState:Fl.next)&&(t=t.alternate,ua.H=null===t||null===t.memoizedState?ql:Yl),e}function Xe(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ge(e);if(e.$$typeof===$i)return Nn(e)}throw Error(i(438,String(e)))}function qe(e){var t=null,n=Ol.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ol.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n=Gl(),Ol.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=sa;return t.index++,n}function Ye(e,t){return"function"===typeof t?t(e):t}function Ze(e){return Ke(We(),Dl,e)}function Ke(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var l=s=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(kc&h)===h:(Il&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===gl&&(d=!0);else{if((Il&f)===f){u=u.next,f===gl&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=o):c=c.next=h,Ol.lanes|=f,zc|=f}h=u.action,Bl&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=o):c=c.next=f,Ol.lanes|=h,zc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Us(o,e.memoizedState)&&(Ql=!0,d&&null!==(n=vl)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Je(e){var t=We(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);Us(o,t.memoizedState)||(Ql=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function $e(e,t,n){var r=Ol,a=We(),o=tl;if(o){if(void 0===n)throw Error(i(407));n=n()}else n=t();var s=!Us((Dl||a).memoizedState,n);if(s&&(a.memoizedState=n,Ql=!0),a=a.queue,St(tt.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||null!==Fl&&1&Fl.memoizedState.tag){if(r.flags|=2048,yt(9,et.bind(null,r,a,n,t),{destroy:void 0},null),null===Rc)throw Error(i(349));o||0!==(60&Il)||Qe(r,t,n)}return n}function Qe(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ol.updateQueue)?(t=Gl(),Ol.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function et(e,t,n,r){t.value=n,t.getSnapshot=r,nt(t)&&rt(e)}function tt(e,t,n){return n(function(){nt(t)&&rt(e)})}function nt(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Us(e,n)}catch(Rg){return!0}}function rt(e){var t=Z(e,2);null!==t&&Xr(t,e,2)}function it(e){var t=He();if("function"===typeof e){var n=e;if(e=n(),Bl){P(!0);try{n()}finally{P(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ye,lastRenderedState:e},t}function at(e,t,n,r){return e.baseState=n,Ke(e,Dl,"function"===typeof r?r:Ye)}function ot(e,t,n,r,a){if(Ht(e))throw Error(i(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==ua.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,st(t,o)):(o.next=n.next,t.pending=n.next=o)}}function st(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=ua.T,o={};ua.T=o;try{var s=n(i,r),l=ua.S;null!==l&&l(o,s),lt(e,t,s)}catch(Rg){ut(e,t,Rg)}finally{ua.T=a}}else try{lt(e,t,a=n(i,r))}catch(c){ut(e,t,c)}}function lt(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ct(e,t,n)},function(n){return ut(e,t,n)}):ct(e,t,n)}function ct(e,t,n){t.status="fulfilled",t.value=n,dt(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,st(e,n)))}function ut(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,dt(t),t=t.next}while(t!==r)}e.action=null}function dt(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ht(e,t){return t}function ft(e,t){if(tl){var n=Rc.formState;if(null!==n){e:{var r=Ol;if(tl){if(el){var i=ko(el,rl);if(i){el=Lo(i),r=No(i);break e}}B(r)}r=!1}r&&(t=n[0])}}(n=He()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ht,lastRenderedState:t},n.queue=r,n=Bt.bind(null,Ol,r),r.dispatch=n,r=it(!1);var a=Vt.bind(null,Ol,!1,r.queue);return i={state:t,dispatch:null,action:e,pending:null},(r=He()).queue=i,n=ot.bind(null,Ol,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function pt(e){return mt(We(),Dl,e)}function mt(e,t,n){t=Ke(e,t,ht)[0],e=Ze(Ye)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?Ge(t):t;var r=We(),i=r.queue,a=i.dispatch;return n!==r.memoizedState&&(Ol.flags|=2048,yt(9,gt.bind(null,i,n),{destroy:void 0},null)),[t,a,e]}function gt(e,t){e.action=t}function vt(e){var t=We(),n=Dl;if(null!==n)return mt(t,n,e);We(),t=t.memoizedState;var r=(n=We()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function yt(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Ol.updateQueue)&&(t=Gl(),Ol.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function bt(){return We().memoizedState}function xt(e,t,n,r){var i=He();Ol.flags|=e,i.memoizedState=yt(1|t,n,{destroy:void 0},void 0===r?null:r)}function _t(e,t,n,r){var i=We();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Dl&&null!==r&&Oe(r,Dl.memoizedState.deps)?i.memoizedState=yt(t,n,a,r):(Ol.flags|=e,i.memoizedState=yt(1|t,n,a,r))}function wt(e,t){xt(8390656,8,e,t)}function St(e,t){_t(2048,8,e,t)}function Mt(e,t){return _t(4,2,e,t)}function Et(e,t){return _t(4,4,e,t)}function Tt(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ct(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,_t(4,4,Tt.bind(null,t,e),n)}function At(){}function Rt(e,t){var n=We();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Oe(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pt(e,t){var n=We();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Oe(t,r[1]))return r[0];if(r=e(),Bl){P(!0);try{e()}finally{P(!1)}}return n.memoizedState=[r,t],r}function kt(e,t,n){return void 0===n||0!==(1073741824&Il)?e.memoizedState=t:(e.memoizedState=n,e=Gr(),Ol.lanes|=e,zc|=e,n)}function Nt(e,t,n,r){return Us(n,t)?n:null!==Rl.current?(e=kt(e,n,r),Us(e,t)||(Ql=!0),e):0===(42&Il)?(Ql=!0,e.memoizedState=n):(e=Gr(),Ol.lanes|=e,zc|=e,t)}function Lt(e,t,n,r,i){var a=Da();Oa(0!==a&&8>a?a:8);var o=ua.T,s={};ua.T=s,Vt(e,!1,t,n);try{var l=i(),c=ua.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);jt(e,t,u,Wr())}else jt(e,t,r,Wr())}catch(Rg){jt(e,t,{then:function(){},status:"rejected",reason:Rg},Wr())}finally{Oa(a),ua.T=o}}function It(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:Ga,baseState:Ga,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ye,lastRenderedState:Ga},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ye,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ot(){return Nn(Xa)}function Dt(){return We().memoizedState}function Ft(){return We().memoizedState}function Ut(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Wr(),r=ce(t,e=le(n),n);return null!==r&&(Xr(r,t,n),ue(r,t,n)),t={cache:On()},void(e.payload=t)}t=t.return}}function zt(e,t,n){var r=Wr();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ht(e)?Wt(t,n):null!==(n=Y(e,t,n,r))&&(Xr(n,e,r),Gt(n,t,r))}function Bt(e,t,n){jt(e,t,n,Wr())}function jt(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ht(e))Wt(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Us(s,o))return q(e,t,i,0),null===Rc&&X(),!1}catch(Rg){}if(null!==(n=Y(e,t,i,r)))return Xr(n,e,r),Gt(n,t,r),!0}return!1}function Vt(e,t,n,r){if(r={lane:2,revertLane:ie(),action:r,hasEagerState:!1,eagerState:null,next:null},Ht(e)){if(t)throw Error(i(479))}else null!==(t=Y(e,n,r,2))&&Xr(t,e,2)}function Ht(e){var t=e.alternate;return e===Ol||null!==t&&t===Ol}function Wt(e,t){zl=Ul=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gt(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,A(e,n)}}function Xt(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:Hi({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function qt(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ge(n,r)||!ge(i,a))}function Yt(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Kl.enqueueReplaceState(t,t.state,null)}function Zt(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=Hi({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Kt(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Jt(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function $t(e,t,n){return(n=le(n)).tag=3,n.payload={element:null},n.callback=function(){Kt(e,t)},n}function Qt(e){return(e=le(e)).tag=3,e}function en(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Jt(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Jt(t,n,r),"function"!==typeof i&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}function tn(e,t,n,r){t.child=null===e?Al(t,null,n,r):Cl(t,e.child,n,r)}function nn(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return kn(t),r=De(e,t,n,o,a,i),s=Be(),null===e||Ql?(tl&&s&&I(t),t.flags|=1,tn(e,t,r,i),t.child):(je(e,t,i),wn(e,t,i))}function rn(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ei(a)||void 0!==a.defaultProps||null!==n.compare?((e=Ai(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,an(e,t,a,r,i))}if(a=e.child,!Sn(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ge)(o,r)&&e.ref===t.ref)return wn(e,t,i)}return t.flags|=1,(e=Ti(a,r)).ref=t.ref,e.return=t,t.child=e}function an(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ge(a,r)&&e.ref===t.ref){if(Ql=!1,t.pendingProps=r=a,!Sn(e,i))return t.lanes=e.lanes,wn(e,t,i);0!==(131072&e.flags)&&(Ql=!0)}}return cn(e,t,n,r,i)}function on(e,t,n){var r=t.pendingProps,i=r.children,a=0!==(2&t.stateNode._pendingVisibility),o=null!==e?e.memoizedState:null;if(ln(e,t),"hidden"===r.mode||a){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return sn(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,sn(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Un(t,null!==o?o.cachePool:null),null!==o?Te(t,o):Ce(),Pe(t)}else null!==o?(Un(t,o.cachePool),Te(t,o),ke(),t.memoizedState=null):(null!==e&&Un(t,null),Ce(),ke());return tn(e,t,i,n),t.child}function sn(e,t,n,r){var i=Fn();return i=null===i?null:{parent:Ra?sc._currentValue:sc._currentValue2,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Un(t,null),Ce(),Pe(t),null!==e&&Rn(e,t,r,!0),null}function ln(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function cn(e,t,n,r,i){return kn(t),n=De(e,t,n,r,void 0,i),r=Be(),null===e||Ql?(tl&&r&&I(t),t.flags|=1,tn(e,t,n,i),t.child):(je(e,t,i),wn(e,t,i))}function un(e,t,n,r,i,a){return kn(t),t.updateQueue=null,n=Ue(t,r,n,i),Fe(e),r=Be(),null===e||Ql?(tl&&r&&I(t),t.flags|=1,tn(e,t,n,a),t.child):(je(e,t,a),wn(e,t,a))}function dn(e,t,n,r,i){if(kn(t),null===t.stateNode){var a=bs,o=n.contextType;"object"===typeof o&&null!==o&&(a=Nn(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=Kl,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},oe(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Nn(o):bs,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(Xt(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&Kl.enqueueReplaceState(a,a.state,null),fe(t,r,a,i),he(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=Zt(n,s);a.props=l;var c=a.context,u=n.contextType;o=bs,"object"===typeof u&&null!==u&&(o=Nn(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&Yt(t,a,r,o),yl=!1;var h=t.memoizedState;a.state=h,fe(t,r,a,i),he(),c=t.memoizedState,s||h!==c||yl?("function"===typeof d&&(Xt(t,n,d,r),c=t.memoizedState),(l=yl||qt(t,n,l,r,h,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,se(e,t),u=Zt(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=bs,"object"===typeof c&&null!==c&&(l=Nn(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&Yt(t,a,r,l),yl=!1,h=t.memoizedState,a.state=h,fe(t,r,a,i),he();var f=t.memoizedState;o!==d||h!==f||yl||null!==e&&null!==e.dependencies&&Pn(e.dependencies)?("function"===typeof s&&(Xt(t,n,s,r),f=t.memoizedState),(u=yl||qt(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Pn(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,ln(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=Cl(t,e.child,null,i),t.child=Cl(t,null,n,i)):tn(e,t,n,i),t.memoizedState=a.state,e=t.child):e=wn(e,t,i),e}function hn(e,t,n,r){return W(),t.flags|=256,tn(e,t,n,r),t.child}function fn(e){return{baseLanes:e,cachePool:zn()}}function pn(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Vc),e}function mn(e,n,r){var a,o=n.pendingProps,s=!1,l=0!==(128&n.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&Ll.current)),a&&(s=!0,n.flags&=-129),a=0!==(32&n.flags),n.flags&=-33,null===e){if(tl){if(s?Re(n):ke(),tl){var c,u=el;(c=u)&&(null!==(u=zo(u,rl))?(n.memoizedState={dehydrated:u,treeContext:null!==Xs?{id:qs,overflow:Ys}:null,retryLane:536870912},(c=t(18,null,null,0)).stateNode=u,c.return=n,n.child=c,Qs=n,el=null,c=!0):c=!1),c||B(n)}if(null!==(u=n.memoizedState)&&null!==(u=u.dehydrated))return Ao(u)?n.lanes=16:n.lanes=536870912,null;Ne(n)}return u=o.children,o=o.fallback,s?(ke(),u=vn({mode:"hidden",children:u},s=n.mode),o=Ri(o,s,r,null),u.return=n,o.return=n,u.sibling=o,n.child=u,(s=n.child).memoizedState=fn(r),s.childLanes=pn(e,a,r),n.memoizedState=ec,o):(Re(n),gn(n,u))}if(null!==(c=e.memoizedState)&&null!==(u=c.dehydrated)){if(l)256&n.flags?(Re(n),n.flags&=-257,n=yn(e,n,r)):null!==n.memoizedState?(ke(),n.child=e.child,n.flags|=128,n=null):(ke(),s=o.fallback,u=n.mode,o=vn({mode:"visible",children:o.children},u),(s=Ri(s,u,r,null)).flags|=2,o.return=n,s.return=n,o.sibling=s,n.child=o,Cl(n,e.child,null,r),(o=n.child).memoizedState=fn(r),o.childLanes=pn(e,a,r),n.memoizedState=ec,n=s);else if(Re(n),Ao(u))a=Ro(u).digest,(o=Error(i(419))).stack="",o.digest=a,G({value:o,source:null,stack:null}),n=yn(e,n,r);else if(Ql||Rn(e,n,r,!1),a=0!==(r&e.childLanes),Ql||a){if(null!==(a=Rc)){if(0!==(42&(o=r&-r)))o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(0!==(o=0!==(o&(a.suspendedLanes|r))?0:o)&&o!==c.retryLane)throw c.retryLane=o,Z(e,o),Xr(a,e,o),$l}Co(u)||ai(),n=yn(e,n,r)}else Co(u)?(n.flags|=128,n.child=e.child,n=wi.bind(null,e),Po(u,n),n=null):(e=c.treeContext,Na&&(el=Do(u),Qs=n,tl=!0,nl=null,rl=!1,null!==e&&(Ws[Gs++]=qs,Ws[Gs++]=Ys,Ws[Gs++]=Xs,qs=e.id,Ys=e.overflow,Xs=n)),(n=gn(n,o.children)).flags|=4096);return n}return s?(ke(),s=o.fallback,u=n.mode,l=(c=e.child).sibling,(o=Ti(c,{mode:"hidden",children:o.children})).subtreeFlags=31457280&c.subtreeFlags,null!==l?s=Ti(l,s):(s=Ri(s,u,r,null)).flags|=2,s.return=n,o.return=n,o.sibling=s,n.child=o,o=s,s=n.child,null===(u=e.child.memoizedState)?u=fn(r):(null!==(c=u.cachePool)?(l=Ra?sc._currentValue:sc._currentValue2,c=c.parent!==l?{parent:l,pool:l}:c):c=zn(),u={baseLanes:u.baseLanes|r,cachePool:c}),s.memoizedState=u,s.childLanes=pn(e,a,r),n.memoizedState=ec,o):(Re(n),e=(r=e.child).sibling,(r=Ti(r,{mode:"visible",children:o.children})).return=n,r.sibling=null,null!==e&&(null===(a=n.deletions)?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=r,n.memoizedState=null,r)}function gn(e,t){return(t=vn({mode:"visible",children:t},e.mode)).return=e,e.child=t}function vn(e,t){return Pi(e,t,0,null)}function yn(e,t,n){return Cl(t,e.child,null,n),(e=gn(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function bn(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cn(e.return,t,n)}function xn(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function _n(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(tn(e,t,r.children,n),0!==(2&(r=Ll.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&bn(e,n,t);else if(19===e.tag)bn(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(y(Ll,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Le(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xn(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Le(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xn(t,!0,n,null,a);break;case"together":xn(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wn(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Rn(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ti(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ti(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Sn(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pn(e))}function Mn(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ql=!0;else{if(!Sn(e,n)&&0===(128&t.flags))return Ql=!1,function(e,t,n){switch(t.tag){case 3:D(t,t.stateNode.containerInfo),En(t,sc,e.memoizedState.cache),W();break;case 27:case 5:U(t);break;case 4:D(t,t.stateNode.containerInfo);break;case 10:En(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Re(t),t.flags|=128,null):0!==(n&t.child.childLanes)?mn(e,t,n):(Re(t),null!==(e=wn(e,t,n))?e.sibling:null);Re(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Rn(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return _n(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),y(Ll,Ll.current),r)break;return null;case 22:case 23:return t.lanes=0,on(e,t,n);case 24:En(t,sc,e.memoizedState.cache)}return wn(e,t,n)}(e,t,n);Ql=0!==(131072&e.flags)}else Ql=!1,tl&&0!==(1048576&t.flags)&&L(t,Hs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===Qi){t.tag=11,t=nn(null,t,r,e,n);break e}if(a===na){t.tag=14,t=rn(null,t,r,e,n);break e}}throw t=o(r)||r,Error(i(306,t,""))}Ei(r)?(e=Zt(r,e),t.tag=1,t=dn(null,t,r,e,n)):(t.tag=0,t=cn(null,t,r,e,n))}return t;case 0:return cn(e,t,t.type,t.pendingProps,n);case 1:return dn(e,t,r=t.type,a=Zt(r,t.pendingProps),n);case 3:e:{if(D(t,t.stateNode.containerInfo),null===e)throw Error(i(387));var s=t.pendingProps;r=(a=t.memoizedState).element,se(e,t),fe(t,s,null,n);var l=t.memoizedState;if(s=l.cache,En(t,sc,s),s!==a.cache&&An(t,[sc],n,!0),he(),s=l.element,Na&&a.isDehydrated){if(a={element:s,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=hn(e,t,s,n);break e}if(s!==r){G(r=k(Error(i(424)),t)),t=hn(e,t,s,n);break e}for(Na&&(el=Oo(t.stateNode.containerInfo),Qs=t,tl=!0,nl=null,rl=!0),n=Al(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(W(),s===r){t=wn(e,t,n);break e}tn(e,t,s,n)}t=t.child}return t;case 26:if(Jo)return ln(e,t),null===e?(n=es(t.type,null,t.pendingProps,null))?t.memoizedState=n:tl||(t.stateNode=os(t.type,t.pendingProps,Js.current,t)):t.memoizedState=es(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:if(ds)return U(t),null===e&&ds&&tl&&(r=t.stateNode=hs(t.type,t.pendingProps,Js.current,Zs.current,!1),Qs=t,rl=!0,el=Io(r)),r=t.pendingProps.children,null!==e||tl?tn(e,t,r,n):t.child=Cl(t,null,r,n),ln(e,t),t.child;case 5:return null===e&&tl&&(Zo(t.type,t.pendingProps,Zs.current),(a=r=el)&&(null!==(r=Fo(r,t.type,t.pendingProps,rl))?(t.stateNode=r,Qs=t,el=Io(r),rl=!1,a=!0):a=!1),a||B(t)),U(t),a=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,r=s.children,Ma(a,s)?r=null:null!==l&&Ma(a,l)&&(t.flags|=32),null!==t.memoizedState&&(a=De(e,t,ze,null,null,n),Ra?Xa._currentValue=a:Xa._currentValue2=a),ln(e,t),tn(e,t,r,n),t.child;case 6:return null===e&&tl&&(Ko(t.pendingProps,Zs.current),(e=n=el)&&(null!==(n=Uo(n,t.pendingProps,rl))?(t.stateNode=n,Qs=t,el=null,e=!0):e=!1),e||B(t)),null;case 13:return mn(e,t,n);case 4:return D(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Cl(t,null,r,n):tn(e,t,r,n),t.child;case 11:return nn(e,t,t.type,t.pendingProps,n);case 7:return tn(e,t,t.pendingProps,n),t.child;case 8:case 12:return tn(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,En(t,t.type,r.value),tn(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,kn(t),r=r(a=Nn(a)),t.flags|=1,tn(e,t,r,n),t.child;case 14:return rn(e,t,t.type,t.pendingProps,n);case 15:return an(e,t,t.type,t.pendingProps,n);case 19:return _n(e,t,n);case 22:return on(e,t,n);case 24:return kn(t),r=Nn(sc),null===e?(null===(a=Fn())&&(a=Rc,s=On(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},oe(t),En(t,sc,a)):(0!==(e.lanes&n)&&(se(e,t),fe(t,null,null,n),he()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),En(t,sc,r)):(r=s.cache,En(t,sc,r),r!==a.cache&&An(t,[sc],n,!0))),tn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function En(e,t,n){Ra?(y(tc,t._currentValue),t._currentValue=n):(y(tc,t._currentValue2),t._currentValue2=n)}function Tn(e){var t=tc.current;Ra?e._currentValue=t:e._currentValue2=t,v(tc)}function Cn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function An(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var s=a.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Cn(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Cn(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function Rn(e,t,n,r){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(0!==(524288&a.flags))o=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(i(387));if(null!==(s=s.memoizedProps)){var l=a.type;Us(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===$s.current){if(null===(s=a.alternate))throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Xa):e=[Xa])}a=a.return}null!==e&&An(t,e,n,r),t.flags|=262144}function Pn(e){for(e=e.firstContext;null!==e;){var t=e.context;if(!Us(Ra?t._currentValue:t._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function kn(e){nc=e,rc=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Nn(e){return In(nc,e)}function Ln(e,t){return null===nc&&kn(e),In(e,t)}function In(e,t){var n=Ra?t._currentValue:t._currentValue2;if(t={context:t,memoizedValue:n,next:null},null===rc){if(null===e)throw Error(i(308));rc=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rc=rc.next=t;return n}function On(){return{controller:new ic,data:new Map,refCount:0}}function Dn(e){e.refCount--,0===e.refCount&&ac(oc,function(){e.controller.abort()})}function Fn(){var e=cc.current;return null!==e?e:Rc.pooledCache}function Un(e,t){y(cc,null===t?cc.current:t.pool)}function zn(){var e=Fn();return null===e?null:{parent:Ra?sc._currentValue:sc._currentValue2,pool:e}}function Bn(e){e.flags|=4}function jn(e,t){if(null!==e&&e.child===t.child)return!1;if(0!==(16&t.flags))return!0;for(e=t.child;null!==e;){if(0!==(13878&e.flags)||0!==(13878&e.subtreeFlags))return!0;e=e.sibling}return!1}function Vn(e,t,n,r){if(Pa)for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)wa(e,n.stateNode);else if(!(4===n.tag||ds&&27===n.tag)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else if(ka)for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Eo(a,i.type,i.memoizedProps)),wa(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=To(a,i.memoizedProps)),wa(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),Vn(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Hn(e,t,n,r){if(ka)for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Eo(a,i.type,i.memoizedProps)),wo(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=To(a,i.memoizedProps)),wo(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),Hn(e,i,!(null!==i.memoizedProps&&"manual"===i.memoizedProps.mode),!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Wn(e,t){if(ka&&jn(e,t)){var n=(e=t.stateNode).containerInfo,r=_o();Hn(r,t,!1,!1),e.pendingChildren=r,Bn(t),So(n,r)}}function Gn(e,t,n,r){if(Pa)e.memoizedProps!==r&&Bn(t);else if(ka){var i=e.stateNode,a=e.memoizedProps;if((e=jn(e,t))||a!==r){var o=Zs.current;(a=xo(i,n,a,r,!e,null))===i?t.stateNode=i:(Sa(a,n,r,o)&&Bn(t),t.stateNode=a,e?Vn(a,t,!1,!1):Bn(t))}else t.stateNode=i}}function Xn(e,t,n){if(Ba(t,n)){if(e.flags|=16777216,!ja(t,n)){if(!ni())throw Ml=Sl,wl;e.flags|=8192}}else e.flags&=-16777217}function qn(e,t){if(ls(t)){if(e.flags|=16777216,!cs(t)){if(!ni())throw Ml=Sl,wl;e.flags|=8192}}else e.flags&=-16777217}function Yn(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?M():536870912,e.lanes|=t,Hc|=t)}function Zn(e,t){if(!tl)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kn(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jn(e,t,n){var r=t.pendingProps;switch(O(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Kn(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Tn(sc),F(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(H(t)?Bn(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==nl&&(Yr(nl),nl=null))),Wn(e,t),Kn(t),null;case 26:if(Jo){n=t.type;var a=t.memoizedState;return null===e?(Bn(t),null!==a?(Kn(t),qn(t,a)):(Kn(t),Xn(t,n,r))):a?a!==e.memoizedState?(Bn(t),Kn(t),qn(t,a)):(Kn(t),t.flags&=-16777217):(Pa?e.memoizedProps!==r&&Bn(t):Gn(e,t,n,r),Kn(t),Xn(t,n,r)),null}case 27:if(ds){if(z(t),n=Js.current,a=t.type,null!==e&&null!=t.stateNode)Pa?e.memoizedProps!==r&&Bn(t):Gn(e,t,a,r);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Kn(t),null}e=Zs.current,H(t)?j(t,e):(e=hs(a,r,n,e,!0),t.stateNode=e,Bn(t))}return Kn(t),null}case 5:if(z(t),n=t.type,null!==e&&null!=t.stateNode)Gn(e,t,n,r);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Kn(t),null}e=Zs.current,H(t)?j(t,e):(Vn(a=_a(n,r,Js.current,e,t),t,!1,!1),t.stateNode=a,Sa(a,n,r,e)&&Bn(t))}return Kn(t),Xn(t,t.type,t.pendingProps),null;case 6:if(e&&null!=t.stateNode)n=e.memoizedProps,Pa?n!==r&&Bn(t):ka&&(n!==r?(t.stateNode=Ea(r,Js.current,Zs.current,t),Bn(t)):t.stateNode=e.stateNode);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=Js.current,n=Zs.current,H(t)){if(!Na)throw Error(i(176));if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=Qs))switch(a.tag){case 27:case 5:r=a.memoizedProps}jo(e,n,t,r)||B(t)}else t.stateNode=Ea(r,e,n,t)}return Kn(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=H(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!Na)throw Error(i(344));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));Vo(a,t)}else W(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Kn(t),a=!1}else null!==nl&&(Yr(nl),nl=null),a=!0;if(!a)return 256&t.flags?(Ne(t),t):(Ne(t),null)}if(Ne(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Yn(t,t.updateQueue),Kn(t),null;case 4:return F(),Wn(e,t),null===e&&Ia(t.stateNode.containerInfo),Kn(t),null;case 10:return Tn(t.type),Kn(t),null;case 19:if(v(Ll),null===(a=t.memoizedState))return Kn(t),null;if(r=0!==(128&t.flags),null===(o=a.rendering))if(r)Zn(a,!1);else{if(0!==Uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Le(e))){for(t.flags|=128,Zn(a,!1),e=o.updateQueue,t.updateQueue=e,Yn(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ci(n,e),n=n.sibling;return y(Ll,1&Ll.current|2),t.child}e=e.sibling}null!==a.tail&&Rs()>Yc&&(t.flags|=128,r=!0,Zn(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Le(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Yn(t,e),Zn(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!tl)return Kn(t),null}else 2*Rs()-a.renderingStartTime>Yc&&536870912!==n&&(t.flags|=128,r=!0,Zn(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=a.last)?e.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Rs(),t.sibling=null,e=Ll.current,y(Ll,r?1&e|2:1&e),t):(Kn(t),null);case 22:case 23:return Ne(t),Ae(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Kn(t),6&t.subtreeFlags&&(t.flags|=8192)):Kn(t),null!==(n=t.updateQueue)&&Yn(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&v(cc),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Tn(sc),Kn(t),null;case 25:return null}throw Error(i(156,t.tag))}function $n(e,t){switch(O(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Tn(sc),F(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return z(t),null;case 13:if(Ne(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));W()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return v(Ll),null;case 4:return F(),null;case 10:return Tn(t.type),null;case 22:case 23:return Ne(t),Ae(),null!==e&&v(cc),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Tn(sc),null;default:return null}}function Qn(e,t){switch(O(t),t.tag){case 3:Tn(sc),F();break;case 26:case 27:case 5:z(t);break;case 4:F();break;case 13:Ne(t);break;case 19:v(Ll);break;case 10:Tn(t.type);break;case 22:case 23:Ne(t),Ae(),null!==e&&v(cc);break;case 24:Tn(sc)}}function er(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(Rg){yi(t,t.return,Rg)}}function tr(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n;try{s()}catch(Rg){yi(i,l,Rg)}}}r=r.next}while(r!==a)}}catch(Rg){yi(t,t.return,Rg)}}function nr(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{me(t,n)}catch(Rg){yi(e,e.return,Rg)}}}function rr(e,t,n){n.props=Zt(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(Rg){yi(e,t,Rg)}}function ir(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=ga(r);break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(Rg){yi(e,t,Rg)}}function ar(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(Rg){yi(e,t,Rg)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){yi(e,t,i)}else n.current=null}function or(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{so(r,t,n,e)}catch(Rg){yi(e,e.return,Rg)}}function sr(e,t,n){try{lo(e.stateNode,e.type,n,t,e)}catch(Rg){yi(e,e.return,Rg)}}function lr(e){return 5===e.tag||3===e.tag||!!Jo&&26===e.tag||!!ds&&27===e.tag||4===e.tag}function cr(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lr(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&(!ds||27!==e.tag)&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ur(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?uo(n,e,t):ao(n,e);else if(!(4===r||ds&&27===r)&&null!==(e=e.child))for(ur(e,t,n),e=e.sibling;null!==e;)ur(e,t,n),e=e.sibling}function dr(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?co(n,e,t):io(n,e);else if(!(4===r||ds&&27===r)&&null!==(e=e.child))for(dr(e,t,n),e=e.sibling;null!==e;)dr(e,t,n),e=e.sibling}function hr(e,t,n){e=e.containerInfo;try{Mo(e,n)}catch(Rg){yi(t,t.return,Rg)}}function fr(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Sr(e,n),4&r&&er(5,n);break;case 1:if(Sr(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(Rg){yi(n,n.return,Rg)}else{var i=Zt(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){yi(n,n.return,s)}}64&r&&nr(n),512&r&&ir(n,n.return);break;case 3:if(Sr(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:e=ga(n.child.stateNode);break;case 1:e=n.child.stateNode}try{me(r,e)}catch(Rg){yi(n,n.return,Rg)}}break;case 26:if(Jo){Sr(e,n),512&r&&ir(n,n.return);break}case 27:case 5:Sr(e,n),null===t&&4&r&&or(n),512&r&&ir(n,n.return);break;case 12:Sr(e,n);break;case 13:Sr(e,n),4&r&&vr(e,n);break;case 22:if(!(i=null!==n.memoizedState||uc)){t=null!==t&&null!==t.memoizedState||dc;var a=uc,o=dc;uc=i,(dc=t)&&!o?Er(e,n,0!==(8772&n.subtreeFlags)):Sr(e,n),uc=a,dc=o}512&r&&("manual"===n.memoizedProps.mode?ir(n,n.return):ar(n,n.return));break;default:Sr(e,n)}}function pr(e){var t=e.alternate;null!==t&&(e.alternate=null,pr(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&za(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mr(e,t,n){for(n=n.child;null!==n;)gr(e,t,n),n=n.sibling}function gr(e,t,n){if(Fs&&"function"===typeof Fs.onCommitFiberUnmount)try{Fs.onCommitFiberUnmount(Ds,n)}catch(a){}switch(n.tag){case 26:if(Jo){dc||ar(n,t),mr(e,t,n),n.memoizedState?ns(n.memoizedState):n.stateNode&&as(n.stateNode);break}case 27:if(ds){dc||ar(n,t);var r=gc,i=vc;gc=n.stateNode,mr(e,t,n),ms(n.stateNode),gc=r,vc=i;break}case 5:dc||ar(n,t);case 6:if(Pa){if(r=gc,i=vc,gc=null,mr(e,t,n),vc=i,null!==(gc=r))if(vc)try{fo(gc,n.stateNode)}catch(Rg){yi(n,t,Rg)}else try{ho(gc,n.stateNode)}catch(Rg){yi(n,t,Rg)}}else mr(e,t,n);break;case 18:Pa&&null!==gc&&(vc?qo(gc,n.stateNode):Xo(gc,n.stateNode));break;case 4:Pa?(r=gc,i=vc,gc=n.stateNode.containerInfo,vc=!0,mr(e,t,n),gc=r,vc=i):(ka&&hr(n.stateNode,n,_o()),mr(e,t,n));break;case 0:case 11:case 14:case 15:dc||tr(2,n,t),dc||tr(4,n,t),mr(e,t,n);break;case 1:dc||(ar(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&rr(n,t,r)),mr(e,t,n);break;case 21:mr(e,t,n);break;case 22:dc||ar(n,t),dc=(r=dc)||null!==n.memoizedState,mr(e,t,n),dc=r;break;default:mr(e,t,n)}}function vr(e,t){if(Na&&null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Go(e)}catch(Rg){yi(t,t.return,Rg)}}function yr(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new fc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new fc),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var r=Si.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function br(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t;if(Pa){var l=s;e:for(;null!==l;){switch(l.tag){case 27:case 5:gc=l.stateNode,vc=!1;break e;case 3:case 4:gc=l.stateNode.containerInfo,vc=!0;break e}l=l.return}if(null===gc)throw Error(i(160));gr(o,s,a),gc=null,vc=!1}else gr(o,s,a);null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)xr(t,e),t=t.sibling}function xr(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:br(t,e),_r(e),4&r&&(tr(3,e,e.return),er(3,e),tr(5,e,e.return));break;case 1:br(t,e),_r(e),512&r&&(dc||null===n||ar(n,n.return)),64&r&&uc&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:if(Jo){var a=yc;br(t,e),_r(e),512&r&&(dc||null===n||ar(n,n.return)),4&r&&(r=null!==n?n.memoizedState:null,t=e.memoizedState,null===n?null===t?null===e.stateNode?e.stateNode=rs(a,e.type,e.memoizedProps,e):is(a,e.type,e.stateNode):e.stateNode=ts(a,t,e.memoizedProps):r!==t?(null===r?null!==n.stateNode&&as(n.stateNode):ns(r),null===t?is(a,e.type,e.stateNode):ts(a,t,e.memoizedProps)):null===t&&null!==e.stateNode&&sr(e,e.memoizedProps,n.memoizedProps));break}case 27:if(ds&&4&r&&null===e.alternate){a=e.stateNode;var o=e.memoizedProps;try{fs(a),ps(e.type,o,a,e)}catch(Rg){yi(e,e.return,Rg)}}case 5:if(br(t,e),_r(e),512&r&&(dc||null===n||ar(n,n.return)),Pa){if(32&e.flags){t=e.stateNode;try{po(t)}catch(Rg){yi(e,e.return,Rg)}}4&r&&null!=e.stateNode&&sr(e,t=e.memoizedProps,null!==n?n.memoizedProps:t),1024&r&&(hc=!0)}break;case 6:if(br(t,e),_r(e),4&r&&Pa){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=null!==n?n.memoizedProps:r,t=e.stateNode;try{oo(t,n,r)}catch(Rg){yi(e,e.return,Rg)}}break;case 3:if(Jo?(ss(),a=yc,yc=Qo(t.containerInfo),br(t,e),yc=a):br(t,e),_r(e),4&r){if(Pa&&Na&&null!==n&&n.memoizedState.isDehydrated)try{Wo(t.containerInfo)}catch(Rg){yi(e,e.return,Rg)}if(ka){r=t.containerInfo,n=t.pendingChildren;try{Mo(r,n)}catch(Rg){yi(e,e.return,Rg)}}}hc&&(hc=!1,wr(e));break;case 4:Jo?(n=yc,yc=Qo(e.stateNode.containerInfo),br(t,e),_r(e),yc=n):(br(t,e),_r(e)),4&r&&ka&&hr(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:br(t,e),_r(e);break;case 13:br(t,e),_r(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(qc=Rs()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,yr(e,r)));break;case 22:512&r&&(dc||null===n||ar(n,n.return)),a=null!==e.memoizedState;var s=null!==n&&null!==n.memoizedState,l=uc,c=dc;if(uc=l||a,dc=c||s,br(t,e),dc=c,uc=l,_r(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=a?-2&t._visibility:1|t._visibility,a&&(t=uc||dc,null===n||s||t||Mr(e)),Pa&&(null===e.memoizedProps||"manual"!==e.memoizedProps.mode)))e:if(n=null,Pa)for(t=e;;){if(5===t.tag||Jo&&26===t.tag||ds&&27===t.tag){if(null===n){s=n=t;try{o=s.stateNode,a?mo(o):vo(s.stateNode,s.memoizedProps)}catch(Rg){yi(s,s.return,Rg)}}}else if(6===t.tag){if(null===n){s=t;try{var u=s.stateNode;a?go(u):yo(u,s.memoizedProps)}catch(Rg){yi(s,s.return,Rg)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,yr(e,n))));break;case 19:br(t,e),_r(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,yr(e,r)));break;case 21:break;default:br(t,e),_r(e)}}function _r(e){var t=e.flags;if(2&t){try{if(Pa&&(!ds||27!==e.tag)){e:{for(var n=e.return;null!==n;){if(lr(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 27:if(ds){var a=r.stateNode;dr(e,cr(e),a);break}case 5:var o=r.stateNode;32&r.flags&&(po(o),r.flags&=-33),dr(e,cr(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ur(e,cr(e),s);break;default:throw Error(i(161))}}}catch(Rg){yi(e,e.return,Rg)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wr(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;wr(t),5===t.tag&&1024&t.flags&&qa(t.stateNode),e=e.sibling}}function Sr(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)fr(e,t.alternate,t),t=t.sibling}function Mr(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:tr(4,t,t.return),Mr(t);break;case 1:ar(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&rr(t,t.return,n),Mr(t);break;case 26:case 27:case 5:ar(t,t.return),Mr(t);break;case 22:ar(t,t.return),null===t.memoizedState&&Mr(t);break;default:Mr(t)}e=e.sibling}}function Er(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Er(i,a,n),er(4,a);break;case 1:if(Er(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(Rg){yi(r,r.return,Rg)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)pe(l[i],s)}catch(Rg){yi(r,r.return,Rg)}}n&&64&o&&nr(a),ir(a,a.return);break;case 26:case 27:case 5:Er(i,a,n),n&&null===r&&4&o&&or(a),ir(a,a.return);break;case 12:default:Er(i,a,n);break;case 13:Er(i,a,n),n&&4&o&&vr(i,a);break;case 22:null===a.memoizedState&&Er(i,a,n),ir(a,a.return)}t=t.sibling}}function Tr(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Dn(n))}function Cr(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Dn(e))}function Ar(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Rr(e,t,n,r),t=t.sibling}function Rr(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ar(e,t,n,r),2048&i&&er(9,t);break;case 3:Ar(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Dn(e)));break;case 12:if(2048&i){Ar(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(Rg){yi(t,t.return,Rg)}}else Ar(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,null!==t.memoizedState?4&a._visibility?Ar(e,t,n,r):kr(e,t):4&a._visibility?Ar(e,t,n,r):(a._visibility|=4,Pr(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Tr(t.alternate,t);break;case 24:Ar(e,t,n,r),2048&i&&Cr(t.alternate,t);break;default:Ar(e,t,n,r)}}function Pr(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Pr(a,o,s,l,i),er(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?4&u._visibility?Pr(a,o,s,l,i):kr(a,o):(u._visibility|=4,Pr(a,o,s,l,i)),i&&2048&c&&Tr(o.alternate,o);break;case 24:Pr(a,o,s,l,i),i&&2048&c&&Cr(o.alternate,o);break;default:Pr(a,o,s,l,i)}t=t.sibling}}function kr(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:kr(n,r),2048&i&&Tr(r.alternate,r);break;case 24:kr(n,r),2048&i&&Cr(r.alternate,r);break;default:kr(n,r)}t=t.sibling}}function Nr(e){if(e.subtreeFlags&bc)for(e=e.child;null!==e;)Lr(e),e=e.sibling}function Lr(e){switch(e.tag){case 26:Nr(e),e.flags&bc&&(null!==e.memoizedState?us(yc,e.memoizedState,e.memoizedProps):Ha(e.type,e.memoizedProps));break;case 5:Nr(e),e.flags&bc&&Ha(e.type,e.memoizedProps);break;case 3:case 4:if(Jo){var t=yc;yc=Qo(e.stateNode.containerInfo),Nr(e),yc=t}else Nr(e);break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=bc,bc=16777216,Nr(e),bc=t):Nr(e));break;default:Nr(e)}}function Ir(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Or(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];pc=r,Ur(r,e)}Ir(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Dr(e),e=e.sibling}function Dr(e){switch(e.tag){case 0:case 11:case 15:Or(e),2048&e.flags&&tr(9,e,e.return);break;case 3:case 12:default:Or(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Fr(e)):Or(e)}}function Fr(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];pc=r,Ur(r,e)}Ir(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:tr(8,t,t.return),Fr(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Fr(t));break;default:Fr(t)}e=e.sibling}}function Ur(e,t){for(;null!==pc;){var n=pc;switch(n.tag){case 0:case 11:case 15:tr(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Dn(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,pc=r;else e:for(n=e;null!==pc;){var i=(r=pc).sibling,a=r.return;if(pr(r),r===n){pc=null;break e}if(null!==i){i.return=a,pc=i;break e}pc=a}}}function zr(e){var t=La(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(i(364));return t}if(null===(e=Ja(e)))throw Error(i(362));return e.stateNode.current}function Br(e,t){var n=e.tag;switch(t.$$typeof){case _c:if(e.type===t.value)return!0;break;case wc:e:{for(t=t.value,e=[e,0],n=0;n<e.length;){var r=e[n++],a=r.tag,o=e[n++],s=t[o];if(5!==a&&26!==a&&27!==a||!eo(r)){for(;null!=s&&Br(r,s);)s=t[++o];if(o===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,o),r=r.sibling}}t=!1}return t;case Sc:if((5===n||26===n||27===n)&&to(e.stateNode,t.value))return!0;break;case Ec:if((5===n||6===n||26===n||27===n)&&(null!==(e=Qa(e))&&0<=e.indexOf(t.value)))return!0;break;case Mc:if((5===n||26===n||27===n)&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function jr(e){switch(e.$$typeof){case _c:return"<"+(o(e.value)||"Unknown")+">";case wc:return":has("+(jr(e)||"")+")";case Sc:return'[role="'+e.value+'"]';case Ec:return'"'+e.value+'"';case Mc:return'[data-testname="'+e.value+'"]';default:throw Error(i(365))}}function Vr(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=i.tag,o=e[r++],s=t[o];if(5!==a&&26!==a&&27!==a||!eo(i)){for(;null!=s&&Br(i,s);)s=t[++o];if(o===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}return n}function Hr(e,t){if(!Ka)throw Error(i(363));e=Vr(e=zr(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++],a=r.tag;if(5===a||26===a||27===a)eo(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}function Wr(){if(0!==(2&Ac)&&0!==kc)return kc&-kc;if(null!==ua.T){return 0!==gl?gl:ie()}return Fa()}function Gr(){0===Vc&&(Vc=0===(536870912&kc)||tl?S():536870912);var e=kl.current;return null!==e&&(e.flags|=32),Vc}function Xr(e,t,n){(e===Rc&&2===Nc||null!==e.cancelPendingCommit)&&(ei(e,0),Jr(e,kc,Vc,!1)),T(e,n),0!==(2&Ac)&&e===Rc||(e===Rc&&(0===(2&Ac)&&(Bc|=n),4===Uc&&Jr(e,kc,Vc,!1)),$(e))}function qr(e,t,n){if(0!==(6&Ac))throw Error(i(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||_(e,t),a=r?function(e,t){var n=Ac;Ac|=2;var r=ri(),a=ii();Rc!==e||kc!==t?(Zc=null,Yc=Rs()+500,ei(e,t)):Oc=_(e,t);e:for(;;)try{if(0!==Nc&&null!==Pc){t=Pc;var o=Lc;t:switch(Nc){case 1:Nc=0,Lc=null,di(e,t,o,1);break;case 2:if(ve(o)){Nc=0,Lc=null,ui(t);break}t=function(){2===Nc&&Rc===e&&(Nc=7),$(e)},o.then(t,t);break e;case 3:Nc=7;break e;case 4:Nc=5;break e;case 7:ve(o)?(Nc=0,Lc=null,ui(t)):(Nc=0,Lc=null,di(e,t,o,7));break;case 5:var s=null;switch(Pc.tag){case 26:s=Pc.memoizedState;case 5:case 27:var l=Pc,c=l.type,u=l.pendingProps;if(s?cs(s):ja(c,u)){Nc=0,Lc=null;var d=l.sibling;if(null!==d)Pc=d;else{var h=l.return;null!==h?(Pc=h,hi(h)):Pc=null}break t}}Nc=0,Lc=null,di(e,t,o,5);break;case 6:Nc=0,Lc=null,di(e,t,o,6);break;case 8:Qr(),Uc=6;break e;default:throw Error(i(462))}}li();break}catch(f){ti(e,f)}return rc=nc=null,ua.H=r,ua.A=a,Ac=n,null!==Pc?0:(Rc=null,kc=0,X(),Uc)}(e,t):oi(e,t,!0),o=r;;){if(0===a){Oc&&!r&&Jr(e,t,0,!1);break}if(6===a)Jr(e,t,0,!Ic);else{if(n=e.current.alternate,o&&!Kr(n)){a=oi(e,t,!1),o=!1;continue}if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;a=Wc;var c=Na&&l.current.memoizedState.isDehydrated;if(c&&(ei(l,s).flags|=256),2!==(s=oi(l,s,!1))){if(Dc&&!c){l.errorRecoveryDisabledLanes|=o,Bc|=o,a=4;break e}o=Gc,Gc=a,null!==o&&Yr(o)}a=s}if(o=!1,2!==a)continue}}if(1===a){ei(e,0),Jr(e,t,0,!0);break}e:{switch(r=e,a){case 0:case 1:throw Error(i(345));case 4:if((4194176&t)===t){Jr(r,t,Vc,!Ic);break e}break;case 2:Gc=null;break;case 3:case 5:break;default:throw Error(i(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(o=qc+300-Rs())){if(Jr(r,t,Vc,!Ic),0!==x(r,0))break e;r.timeoutHandle=Ta(Zr.bind(null,r,n,Gc,Zc,Xc,t,Vc,Bc,Hc,Ic,2,-0,0),o)}else Zr(r,n,Gc,Zc,Xc,t,Vc,Bc,Hc,Ic,0,-0,0)}}break}$(e)}function Yr(e){null===Gc?Gc=e:Gc.push.apply(Gc,e)}function Zr(e,t,n,r,i,a,o,s,l,c,u,d,h){var f=t.subtreeFlags;if((8192&f||16785408===(16785408&f))&&(Va(),Lr(t),null!==(t=Wa())))return e.cancelPendingCommit=t(pi.bind(null,e,n,r,i,o,s,l,1,d,h)),void Jr(e,a,o,!c);pi(e,n,r,i,o,s,l,u,d,h)}function Kr(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Us(a(),i))return!1}catch(Rg){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jr(e,t,n,r){t&=~jc,t&=~Bc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-xs(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&C(e,n,t)}function $r(){return 0!==(6&Ac)||(Q(0,!1),!1)}function Qr(){if(null!==Pc){if(0===Nc)var e=Pc.return;else rc=nc=null,Ve(e=Pc),El=null,Tl=0,e=Pc;for(;null!==e;)Qn(e.alternate,e),e=e.return;Pc=null}}function ei(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;n!==Aa&&(e.timeoutHandle=Aa,Ca(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Qr(),Rc=e,Pc=n=Ti(e.current,null),kc=t,Nc=0,Lc=null,Ic=!1,Oc=_(e,t),Dc=!1,Hc=Vc=jc=Bc=zc=Uc=0,Gc=Wc=null,Xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-xs(r),a=1<<i;t|=e[i],r&=~a}return Fc=t,X(),n}function ti(e,t){Ol=null,ua.H=Xl,t===_l?(t=xe(),Nc=3):t===wl?(t=xe(),Nc=4):Nc=t===$l?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,Lc=t,null===Pc&&(Uc=1,Kt(e,k(t,e.current)))}function ni(){var e=kl.current;return null===e||((4194176&kc)===kc?null===Nl:((62914560&kc)===kc||0!==(536870912&kc))&&e===Nl)}function ri(){var e=ua.H;return ua.H=Xl,null===e?Xl:e}function ii(){var e=ua.A;return ua.A=xc,e}function ai(){Uc=4,Ic||(4194176&kc)!==kc&&null!==kl.current||(Oc=!0),0===(134217727&zc)&&0===(134217727&Bc)||null===Rc||Jr(Rc,kc,Vc,!1)}function oi(e,t,n){var r=Ac;Ac|=2;var i=ri(),a=ii();Rc===e&&kc===t||(Zc=null,ei(e,t)),t=!1;var o=Uc;e:for(;;)try{if(0!==Nc&&null!==Pc){var s=Pc,l=Lc;switch(Nc){case 8:Qr(),o=6;break e;case 3:case 2:case 6:null===kl.current&&(t=!0);var c=Nc;if(Nc=0,Lc=null,di(e,s,l,c),n&&Oc){o=0;break e}break;default:c=Nc,Nc=0,Lc=null,di(e,s,l,c)}}si(),o=Uc;break}catch(u){ti(e,u)}return t&&e.shellSuspendCounter++,rc=nc=null,Ac=r,ua.H=i,ua.A=a,null===Pc&&(Rc=null,kc=0,X()),o}function si(){for(;null!==Pc;)ci(Pc)}function li(){for(;null!==Pc&&!Cs();)ci(Pc)}function ci(e){var t=Mn(e.alternate,e,Fc);e.memoizedProps=e.pendingProps,null===t?hi(e):Pc=t}function ui(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=un(n,t,t.pendingProps,t.type,void 0,kc);break;case 11:t=un(n,t,t.pendingProps,t.type.render,t.ref,kc);break;case 5:Ve(t);default:Qn(n,t),t=Mn(n,t=Pc=Ci(t,Fc),Fc)}e.memoizedProps=e.pendingProps,null===t?hi(e):Pc=t}function di(e,t,n,r){rc=nc=null,Ve(t),El=null,Tl=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Rn(t,n,a,!0),null!==(n=kl.current)){switch(n.tag){case 13:return null===Nl?ai():null===n.alternate&&0===Uc&&(Uc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Sl?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),bi(e,r,a)),!1;case 22:return n.flags|=65536,r===Sl?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),bi(e,r,a)),!1}throw Error(i(435,n.tag))}return bi(e,r,a),ai(),!1}if(tl)return null!==(t=kl.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==il&&G(k(e=Error(i(422),{cause:r}),n))):(r!==il&&G(k(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=k(r,n),de(e,a=$t(e.stateNode,r,a)),4!==Uc&&(Uc=2)),!1;var o=Error(i(520),{cause:r});if(o=k(o,n),null===Wc?Wc=[o]:Wc.push(o),4!==Uc&&(Uc=2),null===t)return!0;r=k(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,de(n,e=$t(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Kc||!Kc.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,en(a=Qt(a),e,n,r),de(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,kc))return Uc=1,Kt(e,k(n,e.current)),void(Pc=null)}catch(Rg){if(null!==a)throw Pc=a,Rg;return Uc=1,Kt(e,k(n,e.current)),void(Pc=null)}32768&t.flags?(tl||1===r?e=!0:Oc||0!==(536870912&kc)?e=!1:(Ic=e=!0,(2===r||3===r||6===r)&&(null!==(r=kl.current)&&13===r.tag&&(r.flags|=16384))),fi(t,e)):hi(t)}function hi(e){var t=e;do{if(0!==(32768&t.flags))return void fi(t,Ic);e=t.return;var n=Jn(t.alternate,t,Fc);if(null!==n)return void(Pc=n);if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Uc&&(Uc=5)}function fi(e,t){do{var n=$n(e.alternate,e);if(null!==n)return n.flags&=32767,void(Pc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(Pc=e);Pc=e=n}while(null!==e);Uc=6,Pc=null}function pi(e,t,n,r,a,o,s,l,c,u){var d=ua.T,h=Da();try{Oa(2),ua.T=null,function(e,t,n,r,a,o,s,l){do{gi()}while(null!==$c);if(0!==(6&Ac))throw Error(i(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-xs(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&C(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,r,u|=sl,o,s,l),e===Rc&&(Pc=Rc=null,kc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Jc||(Jc=!0,eu=u,tu=n,function(e,t){Es(e,t)}(Ns,function(){return gi(),null})),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=ua.T,ua.T=null,o=Da(),Oa(2),s=Ac,Ac|=4,function(e,t){for(ba(e.containerInfo),pc=t;null!==pc;)if(t=(e=pc).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,pc=t;else for(;null!==pc;){var n=(e=pc).alternate;switch(t=e.flags,e.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&t)&&null!==n){t=void 0;var r=e,a=n.memoizedProps;n=n.memoizedState;var o=r.stateNode;try{var s=Zt(r.type,a,(r.elementType,r.type));t=o.getSnapshotBeforeUpdate(s,n),o.__reactInternalSnapshotBeforeUpdate=t}catch(Rg){yi(r,r.return,Rg)}}break;case 3:0!==(1024&t)&&Pa&&bo(e.stateNode.containerInfo);break;default:if(0!==(1024&t))throw Error(i(163))}if(null!==(t=e.sibling)){t.return=e.return,pc=t;break}pc=e.return}s=mc,mc=!1}(e,c),xr(c,e),xa(e.containerInfo),e.current=c,fr(e,c.alternate,c),As(),Ac=s,Oa(o),ua.T=n):e.current=c,Jc?(Jc=!1,$c=e,Qc=r):mi(e,u),u=e.pendingLanes,0===u&&(Kc=null),function(e){if(Fs&&"function"===typeof Fs.onCommitFiberRoot)try{Fs.onCommitFiberRoot(Ds,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),$(e),null!==t)for(a=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],a(u.value,{componentStack:u.stack});0!==(3&Qc)&&gi(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===ru?nu++:(nu=0,ru=e):nu=0,Q(0,!1)}(e,t,n,r,h,a,o,s)}finally{ua.T=d,Oa(h)}}function mi(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Dn(t)))}function gi(){if(null!==$c){var e=$c,t=eu;eu=0;var n=R(Qc),r=32>n?32:n;n=ua.T;var a=Da();try{if(Oa(r),ua.T=null,null===$c)var o=!1;else{r=tu,tu=null;var s=$c,l=Qc;if($c=null,Qc=0,0!==(6&Ac))throw Error(i(331));var c=Ac;if(Ac|=4,Dr(s.current),Rr(s,s.current,l,r),Ac=c,Q(0,!1),Fs&&"function"===typeof Fs.onPostCommitFiberRoot)try{Fs.onPostCommitFiberRoot(Ds,s)}catch(u){}o=!0}return o}finally{Oa(a),ua.T=n,mi(e,t)}}return!1}function vi(e,t,n){t=k(n,t),null!==(e=ce(e,t=$t(e.stateNode,t,2),2))&&(T(e,2),$(e))}function yi(e,t,n){if(3===e.tag)vi(e,e,n);else for(;null!==t;){if(3===t.tag){vi(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kc||!Kc.has(r))){e=k(n,e),null!==(r=ce(t,n=Qt(2),2))&&(en(n,r,t,e),T(r,2),$(r));break}}t=t.return}}function bi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Cc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(Dc=!0,i.add(n),e=xi.bind(null,e,t,n),t.then(e,e))}function xi(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Rc===e&&(kc&n)===n&&(4===Uc||3===Uc&&(62914560&kc)===kc&&300>Rs()-qc?0===(2&Ac)&&ei(e,0):jc|=n,Hc===kc&&(Hc=0)),$(e)}function _i(e,t){0===t&&(t=M()),null!==(e=Z(e,t))&&(T(e,t),$(e))}function wi(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_i(e,n)}function Si(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),_i(e,n)}function Mi(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ti(e,n){var r=e.alternate;return null===r?((r=t(e.tag,n,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=31457280&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ci(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ai(e,n,r,a,o,s){var l=0;if(a=e,"function"===typeof e)Ei(e)&&(l=1);else if("string"===typeof e)l=Jo&&ds?$o(e,r,Zs.current)?26:gs(e)?27:5:Jo?$o(e,r,Zs.current)?26:5:ds&&gs(e)?27:5;else e:switch(e){case qi:return Ri(r.children,o,s,n);case Yi:l=8,o|=24;break;case Zi:return(e=t(12,r,n,2|o)).elementType=Zi,e.lanes=s,e;case ea:return(e=t(13,r,n,o)).elementType=ea,e.lanes=s,e;case ta:return(e=t(19,r,n,o)).elementType=ta,e.lanes=s,e;case ia:return Pi(r,o,s,n);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Ki:case $i:l=10;break e;case Ji:l=9;break e;case Qi:l=11;break e;case na:l=14;break e;case ra:l=16,a=null;break e}l=29,r=Error(i(130,null===e?"null":typeof e,"")),a=null}return(n=t(l,r,n,o)).elementType=e,n.type=a,n.lanes=s,n}function Ri(e,n,r,i){return(e=t(7,e,i,n)).lanes=r,e}function Pi(e,n,r,a){(e=t(22,e,a,n)).elementType=ia,e.lanes=r;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=o._current;if(null===e)throw Error(i(456));if(0===(2&o._pendingVisibility)){var t=Z(e,2);null!==t&&(o._pendingVisibility|=2,Xr(t,0,2))}},attach:function(){var e=o._current;if(null===e)throw Error(i(456));if(0!==(2&o._pendingVisibility)){var t=Z(e,2);null!==t&&(o._pendingVisibility&=-3,Xr(t,0,2))}}};return e.stateNode=o,e}function ki(e,n,r){return(e=t(6,e,null,n)).lanes=r,e}function Ni(e,n,r){return(n=t(4,null!==e.children?e.children:[],e.key,n)).lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Li(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Aa,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=E(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E(0),this.hiddenUpdates=E(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Ii(e,n,r,i,a,o,s,l,c,u,d,h){return e=new Li(e,n,r,s,l,c,u,h),n=1,!0===o&&(n|=24),o=t(3,null,null,n),e.current=o,o.stateNode=e,(n=On()).refCount++,e.pooledCache=n,n.refCount++,o.memoizedState={element:i,isDehydrated:r,cache:n},oe(o),e}function Oi(e){return e?e=bs:bs}function Di(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=null!==(e=f(t))?p(e):null)?null:ga(e.stateNode)}function Fi(e,t,n,r,i,a){i=Oi(i),null===r.context?r.context=i:r.pendingContext=i,(r=le(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ce(e,r,t))&&(Xr(n,0,t),ue(n,e,t))}function Ui(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function zi(e,t){Ui(e,t),(e=e.alternate)&&Ui(e,t)}var Bi={},ji=n(43),Vi=n(853),Hi=Object.assign,Wi=Symbol.for("react.element"),Gi=Symbol.for("react.transitional.element"),Xi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),Yi=Symbol.for("react.strict_mode"),Zi=Symbol.for("react.profiler"),Ki=Symbol.for("react.provider"),Ji=Symbol.for("react.consumer"),$i=Symbol.for("react.context"),Qi=Symbol.for("react.forward_ref"),ea=Symbol.for("react.suspense"),ta=Symbol.for("react.suspense_list"),na=Symbol.for("react.memo"),ra=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var ia=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var aa,oa,sa=Symbol.for("react.memo_cache_sentinel"),la=Symbol.iterator,ca=Symbol.for("react.client.reference"),ua=ji.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,da=!1,ha=Array.isArray,fa=e.rendererVersion,pa=e.rendererPackageName,ma=e.extraDevToolsConfig,ga=e.getPublicInstance,va=e.getRootHostContext,ya=e.getChildHostContext,ba=e.prepareForCommit,xa=e.resetAfterCommit,_a=e.createInstance,wa=e.appendInitialChild,Sa=e.finalizeInitialChildren,Ma=e.shouldSetTextContent,Ea=e.createTextInstance,Ta=e.scheduleTimeout,Ca=e.cancelTimeout,Aa=e.noTimeout,Ra=e.isPrimaryRenderer;e.warnsIfNotActing;var Pa=e.supportsMutation,ka=e.supportsPersistence,Na=e.supportsHydration,La=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Ia=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Oa=e.setCurrentUpdatePriority,Da=e.getCurrentUpdatePriority,Fa=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Ua=e.shouldAttemptEagerTransition,za=e.detachDeletedInstance;e.requestPostPaintCallback;var Ba=e.maySuspendCommit,ja=e.preloadInstance,Va=e.startSuspendingCommit,Ha=e.suspendInstance,Wa=e.waitForCommitToBeReady,Ga=e.NotPendingTransition,Xa=e.HostTransitionContext,qa=e.resetFormInstance;e.bindToConsole;var Ya=e.supportsMicrotasks,Za=e.scheduleMicrotask,Ka=e.supportsTestSelectors,Ja=e.findFiberRoot,$a=e.getBoundingRect,Qa=e.getTextContent,eo=e.isHiddenSubtree,to=e.matchAccessibilityRole,no=e.setFocusIfFocusable,ro=e.setupIntersectionObserver,io=e.appendChild,ao=e.appendChildToContainer,oo=e.commitTextUpdate,so=e.commitMount,lo=e.commitUpdate,co=e.insertBefore,uo=e.insertInContainerBefore,ho=e.removeChild,fo=e.removeChildFromContainer,po=e.resetTextContent,mo=e.hideInstance,go=e.hideTextInstance,vo=e.unhideInstance,yo=e.unhideTextInstance,bo=e.clearContainer,xo=e.cloneInstance,_o=e.createContainerChildSet,wo=e.appendChildToContainerChildSet,So=e.finalizeContainerChildren,Mo=e.replaceContainerChildren,Eo=e.cloneHiddenInstance,To=e.cloneHiddenTextInstance,Co=e.isSuspenseInstancePending,Ao=e.isSuspenseInstanceFallback,Ro=e.getSuspenseInstanceFallbackErrorDetails,Po=e.registerSuspenseInstanceRetry,ko=e.canHydrateFormStateMarker,No=e.isFormStateMarkerMatching,Lo=e.getNextHydratableSibling,Io=e.getFirstHydratableChild,Oo=e.getFirstHydratableChildWithinContainer,Do=e.getFirstHydratableChildWithinSuspenseInstance,Fo=e.canHydrateInstance,Uo=e.canHydrateTextInstance,zo=e.canHydrateSuspenseInstance,Bo=e.hydrateInstance,jo=e.hydrateTextInstance,Vo=e.hydrateSuspenseInstance,Ho=e.getNextHydratableInstanceAfterSuspenseInstance,Wo=e.commitHydratedContainer,Go=e.commitHydratedSuspenseInstance,Xo=e.clearSuspenseBoundary,qo=e.clearSuspenseBoundaryFromContainer,Yo=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Zo=e.validateHydratableInstance,Ko=e.validateHydratableTextInstance,Jo=e.supportsResources,$o=e.isHostHoistableType,Qo=e.getHoistableRoot,es=e.getResource,ts=e.acquireResource,ns=e.releaseResource,rs=e.hydrateHoistable,is=e.mountHoistable,as=e.unmountHoistable,os=e.createHoistableInstance,ss=e.prepareToCommitHoistables,ls=e.mayResourceSuspendCommit,cs=e.preloadResource,us=e.suspendResource,ds=e.supportsSingletons,hs=e.resolveSingletonInstance,fs=e.clearSingleton,ps=e.acquireSingletonInstance,ms=e.releaseSingletonInstance,gs=e.isHostSingletonType,vs=[],ys=-1,bs={},xs=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_s(e)/ws|0)|0},_s=Math.log,ws=Math.LN2,Ss=128,Ms=4194304,Es=Vi.unstable_scheduleCallback,Ts=Vi.unstable_cancelCallback,Cs=Vi.unstable_shouldYield,As=Vi.unstable_requestPaint,Rs=Vi.unstable_now,Ps=Vi.unstable_ImmediatePriority,ks=Vi.unstable_UserBlockingPriority,Ns=Vi.unstable_NormalPriority,Ls=Vi.unstable_IdlePriority,Is=Vi.log,Os=Vi.unstable_setDisableYieldValue,Ds=null,Fs=null,Us="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},zs=new WeakMap,Bs=[],js=0,Vs=null,Hs=0,Ws=[],Gs=0,Xs=null,qs=1,Ys="",Zs=g(null),Ks=g(null),Js=g(null),$s=g(null),Qs=null,el=null,tl=!1,nl=null,rl=!1,il=Error(i(519)),al=[],ol=0,sl=0,ll=null,cl=null,ul=!1,dl=!1,hl=!1,fl=0,pl=null,ml=0,gl=0,vl=null,yl=!1,bl=!1,xl=Object.prototype.hasOwnProperty,_l=Error(i(460)),wl=Error(i(474)),Sl={then:function(){}},Ml=null,El=null,Tl=0,Cl=Ee(!0),Al=Ee(!1),Rl=g(null),Pl=g(0),kl=g(null),Nl=null,Ll=g(0),Il=0,Ol=null,Dl=null,Fl=null,Ul=!1,zl=!1,Bl=!1,jl=0,Vl=0,Hl=null,Wl=0,Gl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Xl={readContext:Nn,use:Xe,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie};Xl.useCacheRefresh=Ie,Xl.useMemoCache=Ie,Xl.useHostTransitionStatus=Ie,Xl.useFormState=Ie,Xl.useActionState=Ie,Xl.useOptimistic=Ie;var ql={readContext:Nn,use:Xe,useCallback:function(e,t){return He().memoizedState=[e,void 0===t?null:t],e},useContext:Nn,useEffect:wt,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,xt(4194308,4,Tt.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xt(4194308,4,e,t)},useInsertionEffect:function(e,t){xt(4,2,e,t)},useMemo:function(e,t){var n=He();t=void 0===t?null:t;var r=e();if(Bl){P(!0);try{e()}finally{P(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=He();if(void 0!==n){var i=n(t);if(Bl){P(!0);try{n(t)}finally{P(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=zt.bind(null,Ol,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},He().memoizedState=e},useState:function(e){var t=(e=it(e)).queue,n=Bt.bind(null,Ol,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:At,useDeferredValue:function(e,t){return kt(He(),e,t)},useTransition:function(){var e=it(!1);return e=Lt.bind(null,Ol,e.queue,!0,!1),He().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ol,a=He();if(tl){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Rc)throw Error(i(349));0!==(60&kc)||Qe(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,wt(tt.bind(null,r,o,e),[e]),r.flags|=2048,yt(9,et.bind(null,r,o,n,t),{destroy:void 0},null),n},useId:function(){var e=He(),t=Rc.identifierPrefix;if(tl){var n=Ys;t=":"+t+"R"+(n=(qs&~(1<<32-xs(qs)-1)).toString(32)+n),0<(n=jl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Wl++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return He().memoizedState=Ut.bind(null,Ol)}};ql.useMemoCache=qe,ql.useHostTransitionStatus=Ot,ql.useFormState=ft,ql.useActionState=ft,ql.useOptimistic=function(e){var t=He();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vt.bind(null,Ol,!0,n),n.dispatch=t,[e,t]};var Yl={readContext:Nn,use:Xe,useCallback:Rt,useContext:Nn,useEffect:St,useImperativeHandle:Ct,useInsertionEffect:Mt,useLayoutEffect:Et,useMemo:Pt,useReducer:Ze,useRef:bt,useState:function(){return Ze(Ye)},useDebugValue:At,useDeferredValue:function(e,t){return Nt(We(),Dl.memoizedState,e,t)},useTransition:function(){var e=Ze(Ye)[0],t=We().memoizedState;return["boolean"===typeof e?e:Ge(e),t]},useSyncExternalStore:$e,useId:Dt};Yl.useCacheRefresh=Ft,Yl.useMemoCache=qe,Yl.useHostTransitionStatus=Ot,Yl.useFormState=pt,Yl.useActionState=pt,Yl.useOptimistic=function(e,t){return at(We(),0,e,t)};var Zl={readContext:Nn,use:Xe,useCallback:Rt,useContext:Nn,useEffect:St,useImperativeHandle:Ct,useInsertionEffect:Mt,useLayoutEffect:Et,useMemo:Pt,useReducer:Je,useRef:bt,useState:function(){return Je(Ye)},useDebugValue:At,useDeferredValue:function(e,t){var n=We();return null===Dl?kt(n,e,t):Nt(n,Dl.memoizedState,e,t)},useTransition:function(){var e=Je(Ye)[0],t=We().memoizedState;return["boolean"===typeof e?e:Ge(e),t]},useSyncExternalStore:$e,useId:Dt};Zl.useCacheRefresh=Ft,Zl.useMemoCache=qe,Zl.useHostTransitionStatus=Ot,Zl.useFormState=vt,Zl.useActionState=vt,Zl.useOptimistic=function(e,t){var n=We();return null!==Dl?at(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Kl={isMounted:function(e){return!!(e=e._reactInternals)&&d(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wr(),i=le(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ce(e,i,r))&&(Xr(t,0,r),ue(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wr(),i=le(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ce(e,i,r))&&(Xr(t,0,r),ue(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wr(),r=le(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ce(e,r,n))&&(Xr(t,0,n),ue(t,e,n))}},Jl="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},$l=Error(i(461)),Ql=!1,ec={dehydrated:null,treeContext:null,retryLane:0},tc=g(null),nc=null,rc=null,ic="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ac=Vi.unstable_scheduleCallback,oc=Vi.unstable_NormalPriority,sc={$$typeof:$i,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},lc=ua.S;ua.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===pl){var n=pl=[];ml=0,gl=ie(),vl={status:"pending",value:void 0,then:function(e){n.push(e)}}}ml++,t.then(ae,ae)}(0,t),null!==lc&&lc(e,t)};var cc=g(null),uc=!1,dc=!1,hc=!1,fc="function"===typeof WeakSet?WeakSet:Set,pc=null,mc=!1,gc=null,vc=!1,yc=null,bc=8192,xc={getCacheForType:function(e){var t=Nn(sc),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},_c=0,wc=1,Sc=2,Mc=3,Ec=4;if("function"===typeof Symbol&&Symbol.for){var Tc=Symbol.for;_c=Tc("selector.component"),wc=Tc("selector.has_pseudo_class"),Sc=Tc("selector.role"),Mc=Tc("selector.test_id"),Ec=Tc("selector.text")}var Cc="function"===typeof WeakMap?WeakMap:Map,Ac=0,Rc=null,Pc=null,kc=0,Nc=0,Lc=null,Ic=!1,Oc=!1,Dc=!1,Fc=0,Uc=0,zc=0,Bc=0,jc=0,Vc=0,Hc=0,Wc=null,Gc=null,Xc=!1,qc=0,Yc=1/0,Zc=null,Kc=null,Jc=!1,$c=null,Qc=0,eu=0,tu=null,nu=0,ru=null;return Bi.attemptContinuousHydration=function(e){if(13===e.tag){var t=Z(e,67108864);null!==t&&Xr(t,0,67108864),zi(e,67108864)}},Bi.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Wr(),n=Z(e,t);null!==n&&Xr(n,0,t),zi(e,t)}},Bi.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if((e=e.stateNode).current.memoizedState.isDehydrated){var t=b(e.pendingLanes);if(0!==t){for(e.pendingLanes|=2,e.entangledLanes|=2;t;){var n=1<<31-xs(t);e.entanglements[1]|=n,t&=~n}$(e),0===(6&Ac)&&(Yc=Rs()+500,Q(0,!1))}}break;case 13:null!==(t=Z(e,2))&&Xr(t,0,2),$r(),zi(e,2)}},Bi.batchedUpdates=function(e,t){return e(t)},Bi.createComponentSelector=function(e){return{$$typeof:_c,value:e}},Bi.createContainer=function(e,t,n,r,i,a,o,s,l,c){return Ii(e,t,!1,null,0,r,a,o,s,l,0,null)},Bi.createHasPseudoClassSelector=function(e){return{$$typeof:wc,value:e}},Bi.createHydrationContainer=function(e,t,n,r,i,a,o,s,l,c,u,d,h){return(e=Ii(n,r,!0,e,0,a,s,l,c,u,0,h)).context=Oi(null),n=e.current,(i=le(r=Wr())).callback=void 0!==t&&null!==t?t:null,ce(n,i,r),e.current.lanes=r,T(e,r),$(e),e},Bi.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xi,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},Bi.createRoleSelector=function(e){return{$$typeof:Sc,value:e}},Bi.createTestNameSelector=function(e){return{$$typeof:Mc,value:e}},Bi.createTextSelector=function(e){return{$$typeof:Ec,value:e}},Bi.defaultOnCaughtError=function(e){console.error(e)},Bi.defaultOnRecoverableError=function(e){Jl(e)},Bi.defaultOnUncaughtError=function(e){Jl(e)},Bi.deferredUpdates=function(e){var t=ua.T,n=Da();try{return Oa(32),ua.T=null,e()}finally{Oa(n),ua.T=t}},Bi.discreteUpdates=function(e,t,n,r,i){var a=ua.T,o=Da();try{return Oa(2),ua.T=null,e(t,n,r,i)}finally{Oa(o),ua.T=a,0===Ac&&(Yc=Rs()+500)}},Bi.findAllNodes=Hr,Bi.findBoundingRects=function(e,t){if(!Ka)throw Error(i(363));t=Hr(e,t),e=[];for(var n=0;n<t.length;n++)e.push($a(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,a=r+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,d=u+c.width,h=c.y,f=h+c.height;if(r>=u&&o>=h&&a<=d&&s<=f){e.splice(t,1);break}if(!(r!==u||n.width!==c.width||f<o||h>s)){h>o&&(c.height+=h-o,c.y=o),f<s&&(c.height=s-h),e.splice(t,1);break}if(!(o!==h||n.height!==c.height||d<r||u>a)){u>r&&(c.width+=u-r,c.x=r),d<a&&(c.width=a-u),e.splice(t,1);break}}return e},Bi.findHostInstance=Di,Bi.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=f(e))?m(e):null)?null:ga(e.stateNode)},Bi.findHostInstanceWithWarning=function(e){return Di(e)},Bi.flushPassiveEffects=gi,Bi.flushSyncFromReconciler=function(e){var t=Ac;Ac|=1;var n=ua.T,r=Da();try{if(Oa(2),ua.T=null,e)return e()}finally{Oa(r),ua.T=n,0===(6&(Ac=t))&&Q(0,!1)}},Bi.flushSyncWork=$r,Bi.focusWithin=function(e,t){if(!Ka)throw Error(i(363));for(t=Vr(e=zr(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++],r=n.tag;if(!eo(n)){if((5===r||26===r||27===r)&&no(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},Bi.getFindAllNodesFailureDescription=function(e,t){if(!Ka)throw Error(i(363));var n=0,r=[];e=[zr(e),0];for(var a=0;a<e.length;){var o=e[a++],s=o.tag,l=e[a++],c=t[l];if((5!==s&&26!==s&&27!==s||!eo(o))&&(Br(o,c)&&(r.push(jr(c)),++l>n&&(n=l)),l<t.length))for(o=o.child;null!==o;)e.push(o,l),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(jr(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},Bi.getPublicRootInstance=function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 27:case 5:return ga(e.child.stateNode);default:return e.child.stateNode}},Bi.injectIntoDevTools=function(){var e={bundleType:0,version:fa,rendererPackageName:pa,currentDispatcherRef:ua,findFiberByHostInstance:La,reconcilerVersion:"19.0.0"};if(null!==ma&&(e.rendererConfig=ma),"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ds=t.inject(e),Fs=t}catch(n){}e=!!t.checkDCE}}return e},Bi.isAlreadyRendering=function(){return!1},Bi.observeVisibleRects=function(e,t,n,r){if(!Ka)throw Error(i(363));e=Hr(e,t);var a=ro(e,n,r).disconnect;return{disconnect:function(){a()}}},Bi.shouldError=function(){return null},Bi.shouldSuspend=function(){return!1},Bi.startHostTransition=function(e,t,n,a){if(5!==e.tag)throw Error(i(476));var o=It(e).queue;Lt(e,o,t,Ga,null===n?r:function(){var t=It(e).next.queue;return jt(e,t,{},Wr()),n(a)})},Bi.updateContainer=function(e,t,n,r){var i=t.current,a=Wr();return Fi(i,a,e,t,n,r),a},Bi.updateContainerSync=function(e,t,n,r){return 0===t.tag&&gi(),Fi(t.current,2,e,t,n,r),2},Bi},e.exports.default=e.exports,Object.defineProperty(e.exports,"__esModule",{value:!0})},579(e,t,n){e.exports=n(799)},672(e,t,n){var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},717(e,t,n){var r=n(43),i=n(461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var f=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853(e,t,n){e.exports=n(896)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,k();else{var t=r(u);null!==t&&N(_,t.startTime-e)}}var w,S=!1,M=-1,E=5,T=-1;function C(){return!(t.unstable_now()-T<E)}function A(){if(S){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,y(M),M=-1),p=!0;var a=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&N(_,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?w():S=!1}}}if("function"===typeof b)w=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,w=function(){P.postMessage(null)}}else w=function(){v(A,0)};function k(){S||(S=!0,w())}function N(e,n){M=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,k())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(M),M=-1):g=!0,N(_,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,k())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},914(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,_(e),!m)if(null!==r(c))m=!0,M||(M=!0,S());else{var t=r(u);null!==t&&N(w,t.startTime-e)}}var S,M=!1,E=-1,T=5,C=-1;function A(){return!!v||!(t.unstable_now()-C<T)}function R(){if(v=!1,M){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),p=!0;var a=f;try{t:{for(_(e),h=r(c);null!==h&&!(h.expirationTime>e&&A());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,_(e),n=!0;break t}h===r(c)&&i(c),_(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&N(w,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?S():M=!1}}}if("function"===typeof x)S=function(){x(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,k=P.port2;P.port1.onmessage=R,S=function(){k.postMessage(null)}}else S=function(){y(R,0)};function N(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,N(w,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,M||(M=!0,S()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>Hn,hasStandardBrowserEnv:()=>Gn,hasStandardBrowserWebWorkerEnv:()=>Xn,navigator:()=>Wn,origin:()=>qn});var i={};n.r(i),n.d(i,{ACESFilmicToneMapping:()=>If,AddEquation:()=>$h,AddOperation:()=>Rf,AdditiveAnimationBlendMode:()=>vm,AdditiveBlending:()=>Yh,AgXToneMapping:()=>Df,AlphaFormat:()=>yp,AlwaysCompare:()=>tg,AlwaysDepth:()=>xf,AlwaysStencilFunc:()=>qm,AmbientLight:()=>EM,AnimationAction:()=>gE,AnimationClip:()=>qS,AnimationLoader:()=>nM,AnimationMixer:()=>yE,AnimationObjectGroup:()=>mE,AnimationUtils:()=>IS,ArcCurve:()=>iw,ArrayCamera:()=>XM,ArrowHelper:()=>bT,AttachedBindMode:()=>Uf,Audio:()=>eE,AudioAnalyser:()=>oE,AudioContext:()=>BM,AudioListener:()=>QM,AudioLoader:()=>jM,AxesHelper:()=>xT,BackSide:()=>Wh,BasicDepthPacking:()=>_m,BasicShadowMap:()=>zh,BatchedMesh:()=>p_,Bone:()=>Ex,BooleanKeyframeTrack:()=>BS,Box2:()=>OE,Box3:()=>vv,Box3Helper:()=>pT,BoxGeometry:()=>Tb,BoxHelper:()=>fT,BufferAttribute:()=>Zy,BufferGeometry:()=>hb,BufferGeometryLoader:()=>NM,ByteType:()=>op,Cache:()=>ZS,Camera:()=>Nb,CameraHelper:()=>uT,CanvasTexture:()=>V_,CapsuleGeometry:()=>G_,CatmullRomCurve3:()=>uw,CineonToneMapping:()=>Lf,CircleGeometry:()=>X_,ClampToEdgeWrapping:()=>qf,Clock:()=>qM,Color:()=>Dy,ColorKeyframeTrack:()=>jS,ColorManagement:()=>Qg,CompressedArrayTexture:()=>B_,CompressedCubeTexture:()=>j_,CompressedTexture:()=>z_,CompressedTextureLoader:()=>rM,ConeGeometry:()=>Y_,ConstantAlphaFactor:()=>vf,ConstantColorFactor:()=>mf,Controls:()=>wT,CubeCamera:()=>Ub,CubeReflectionMapping:()=>jf,CubeRefractionMapping:()=>Vf,CubeTexture:()=>zb,CubeTextureLoader:()=>oM,CubeUVReflectionMapping:()=>Gf,CubicBezierCurve:()=>pw,CubicBezierCurve3:()=>mw,CubicInterpolant:()=>DS,CullFaceBack:()=>Dh,CullFaceFront:()=>Fh,CullFaceFrontBack:()=>Uh,CullFaceNone:()=>Oh,Curve:()=>nw,CurvePath:()=>ww,CustomBlending:()=>Jh,CustomToneMapping:()=>Of,CylinderGeometry:()=>q_,Cylindrical:()=>NE,Data3DTexture:()=>mv,DataArrayTexture:()=>fv,DataTexture:()=>Tx,DataTextureLoader:()=>sM,DataUtils:()=>Gy,DecrementStencilOp:()=>Dm,DecrementWrapStencilOp:()=>Um,DefaultLoadingManager:()=>JS,DepthFormat:()=>_p,DepthStencilFormat:()=>wp,DepthTexture:()=>H_,DetachedBindMode:()=>zf,DirectionalLight:()=>MM,DirectionalLightHelper:()=>sT,DiscreteInterpolant:()=>US,DodecahedronGeometry:()=>K_,DoubleSide:()=>Gh,DstAlphaFactor:()=>uf,DstColorFactor:()=>hf,DynamicCopyUsage:()=>cg,DynamicDrawUsage:()=>rg,DynamicReadUsage:()=>og,EdgesGeometry:()=>tw,EllipseCurve:()=>rw,EqualCompare:()=>Km,EqualDepth:()=>Sf,EqualStencilFunc:()=>Vm,EquirectangularReflectionMapping:()=>Hf,EquirectangularRefractionMapping:()=>Wf,Euler:()=>ey,EventDispatcher:()=>kg,ExternalTexture:()=>W_,ExtrudeGeometry:()=>tS,FileLoader:()=>tM,Float16BufferAttribute:()=>rb,Float32BufferAttribute:()=>ib,FloatType:()=>dp,Fog:()=>Gb,FogExp2:()=>Wb,FramebufferTexture:()=>U_,FrontSide:()=>Hh,Frustum:()=>Xx,FrustumArray:()=>Zx,GLBufferAttribute:()=>ME,GLSL1:()=>dg,GLSL3:()=>hg,GreaterCompare:()=>$m,GreaterDepth:()=>Ef,GreaterEqualCompare:()=>eg,GreaterEqualDepth:()=>Mf,GreaterEqualStencilFunc:()=>Xm,GreaterStencilFunc:()=>Wm,GridHelper:()=>nT,Group:()=>jb,HalfFloatType:()=>hp,HemisphereLight:()=>uM,HemisphereLightHelper:()=>tT,IcosahedronGeometry:()=>rS,ImageBitmapLoader:()=>UM,ImageLoader:()=>aM,ImageUtils:()=>rv,IncrementStencilOp:()=>Om,IncrementWrapStencilOp:()=>Fm,InstancedBufferAttribute:()=>Px,InstancedBufferGeometry:()=>kM,InstancedInterleavedBuffer:()=>SE,InstancedMesh:()=>Ux,Int16BufferAttribute:()=>Qy,Int32BufferAttribute:()=>tb,Int8BufferAttribute:()=>Ky,IntType:()=>cp,InterleavedBuffer:()=>qb,InterleavedBufferAttribute:()=>Zb,Interpolant:()=>OS,InterpolateDiscrete:()=>um,InterpolateLinear:()=>dm,InterpolateSmooth:()=>hm,InterpolationSamplingMode:()=>vg,InterpolationSamplingType:()=>gg,InvertStencilOp:()=>zm,KeepStencilOp:()=>Lm,KeyframeTrack:()=>zS,LOD:()=>px,LatheGeometry:()=>iS,Layers:()=>ty,LessCompare:()=>Zm,LessDepth:()=>_f,LessEqualCompare:()=>Jm,LessEqualDepth:()=>wf,LessEqualStencilFunc:()=>Hm,LessStencilFunc:()=>jm,Light:()=>cM,LightProbe:()=>AM,Line:()=>S_,Line3:()=>HE,LineBasicMaterial:()=>m_,LineCurve:()=>gw,LineCurve3:()=>vw,LineDashedMaterial:()=>AS,LineLoop:()=>A_,LineSegments:()=>C_,LinearFilter:()=>ep,LinearInterpolant:()=>FS,LinearMipMapLinearFilter:()=>ip,LinearMipMapNearestFilter:()=>np,LinearMipmapLinearFilter:()=>rp,LinearMipmapNearestFilter:()=>tp,LinearSRGBColorSpace:()=>Rm,LinearToneMapping:()=>kf,LinearTransfer:()=>Pm,Loader:()=>$S,LoaderUtils:()=>PM,LoadingManager:()=>KS,LoopOnce:()=>sm,LoopPingPong:()=>cm,LoopRepeat:()=>lm,MOUSE:()=>Lh,Material:()=>zy,MaterialLoader:()=>RM,MathUtils:()=>Vg,Matrix2:()=>LE,Matrix3:()=>Yg,Matrix4:()=>Wv,MaxEquation:()=>nf,Mesh:()=>Mb,MeshBasicMaterial:()=>By,MeshDepthMaterial:()=>ES,MeshDistanceMaterial:()=>TS,MeshLambertMaterial:()=>MS,MeshMatcapMaterial:()=>CS,MeshNormalMaterial:()=>SS,MeshPhongMaterial:()=>_S,MeshPhysicalMaterial:()=>xS,MeshStandardMaterial:()=>bS,MeshToonMaterial:()=>wS,MinEquation:()=>tf,MirroredRepeatWrapping:()=>Yf,MixOperation:()=>Af,MultiplyBlending:()=>Kh,MultiplyOperation:()=>Cf,NearestFilter:()=>Zf,NearestMipMapLinearFilter:()=>Qf,NearestMipMapNearestFilter:()=>Jf,NearestMipmapLinearFilter:()=>$f,NearestMipmapNearestFilter:()=>Kf,NeutralToneMapping:()=>Ff,NeverCompare:()=>Ym,NeverDepth:()=>bf,NeverStencilFunc:()=>Bm,NoBlending:()=>Xh,NoColorSpace:()=>Cm,NoToneMapping:()=>Pf,NormalAnimationBlendMode:()=>gm,NormalBlending:()=>qh,NotEqualCompare:()=>Qm,NotEqualDepth:()=>Tf,NotEqualStencilFunc:()=>Gm,NumberKeyframeTrack:()=>VS,Object3D:()=>vy,ObjectLoader:()=>LM,ObjectSpaceNormalMap:()=>Tm,OctahedronGeometry:()=>aS,OneFactor:()=>af,OneMinusConstantAlphaFactor:()=>yf,OneMinusConstantColorFactor:()=>gf,OneMinusDstAlphaFactor:()=>df,OneMinusDstColorFactor:()=>ff,OneMinusSrcAlphaFactor:()=>cf,OneMinusSrcColorFactor:()=>sf,OrthographicCamera:()=>wM,PCFShadowMap:()=>Bh,PCFSoftShadowMap:()=>jh,PMREMGenerator:()=>YT,Path:()=>Sw,PerspectiveCamera:()=>Db,Plane:()=>Vx,PlaneGeometry:()=>oS,PlaneHelper:()=>mT,PointLight:()=>_M,PointLightHelper:()=>JE,Points:()=>I_,PointsMaterial:()=>R_,PolarGridHelper:()=>rT,PolyhedronGeometry:()=>Z_,PositionalAudio:()=>aE,PropertyBinding:()=>pE,PropertyMixer:()=>sE,QuadraticBezierCurve:()=>yw,QuadraticBezierCurve3:()=>bw,Quaternion:()=>Wg,QuaternionKeyframeTrack:()=>WS,QuaternionLinearInterpolant:()=>HS,RED_GREEN_RGTC2_Format:()=>am,RED_RGTC1_Format:()=>rm,REVISION:()=>Nh,RGBADepthPacking:()=>wm,RGBAFormat:()=>xp,RGBAIntegerFormat:()=>Ap,RGBA_ASTC_10x10_Format:()=>Jp,RGBA_ASTC_10x5_Format:()=>Yp,RGBA_ASTC_10x6_Format:()=>Zp,RGBA_ASTC_10x8_Format:()=>Kp,RGBA_ASTC_12x10_Format:()=>$p,RGBA_ASTC_12x12_Format:()=>Qp,RGBA_ASTC_4x4_Format:()=>Bp,RGBA_ASTC_5x4_Format:()=>jp,RGBA_ASTC_5x5_Format:()=>Vp,RGBA_ASTC_6x5_Format:()=>Hp,RGBA_ASTC_6x6_Format:()=>Wp,RGBA_ASTC_8x5_Format:()=>Gp,RGBA_ASTC_8x6_Format:()=>Xp,RGBA_ASTC_8x8_Format:()=>qp,RGBA_BPTC_Format:()=>em,RGBA_ETC2_EAC_Format:()=>zp,RGBA_PVRTC_2BPPV1_Format:()=>Dp,RGBA_PVRTC_4BPPV1_Format:()=>Op,RGBA_S3TC_DXT1_Format:()=>Pp,RGBA_S3TC_DXT3_Format:()=>kp,RGBA_S3TC_DXT5_Format:()=>Np,RGBDepthPacking:()=>Sm,RGBFormat:()=>bp,RGBIntegerFormat:()=>Cp,RGB_BPTC_SIGNED_Format:()=>tm,RGB_BPTC_UNSIGNED_Format:()=>nm,RGB_ETC1_Format:()=>Fp,RGB_ETC2_Format:()=>Up,RGB_PVRTC_2BPPV1_Format:()=>Ip,RGB_PVRTC_4BPPV1_Format:()=>Lp,RGB_S3TC_DXT1_Format:()=>Rp,RGDepthPacking:()=>Mm,RGFormat:()=>Ep,RGIntegerFormat:()=>Tp,RawShaderMaterial:()=>yS,Ray:()=>Hv,Raycaster:()=>TE,RectAreaLight:()=>TM,RedFormat:()=>Sp,RedIntegerFormat:()=>Mp,ReinhardToneMapping:()=>Nf,RenderTarget:()=>dv,RenderTarget3D:()=>bE,RepeatWrapping:()=>Xf,ReplaceStencilOp:()=>Im,ReverseSubtractEquation:()=>ef,RingGeometry:()=>sS,SIGNED_RED_GREEN_RGTC2_Format:()=>om,SIGNED_RED_RGTC1_Format:()=>im,SRGBColorSpace:()=>Am,SRGBTransfer:()=>km,Scene:()=>Xb,ShaderChunk:()=>CT,ShaderLib:()=>RT,ShaderMaterial:()=>kb,ShadowMaterial:()=>vS,Shape:()=>Mw,ShapeGeometry:()=>lS,ShapePath:()=>_T,ShapeUtils:()=>$w,ShortType:()=>sp,Skeleton:()=>Rx,SkeletonHelper:()=>ZE,SkinnedMesh:()=>Mx,Source:()=>av,Sphere:()=>Ov,SphereGeometry:()=>cS,Spherical:()=>kE,SphericalHarmonics3:()=>CM,SplineCurve:()=>xw,SpotLight:()=>gM,SpotLightHelper:()=>GE,Sprite:()=>ux,SpriteMaterial:()=>Kb,SrcAlphaFactor:()=>lf,SrcAlphaSaturateFactor:()=>pf,SrcColorFactor:()=>of,StaticCopyUsage:()=>lg,StaticDrawUsage:()=>ng,StaticReadUsage:()=>ag,StereoCamera:()=>GM,StreamCopyUsage:()=>ug,StreamDrawUsage:()=>ig,StreamReadUsage:()=>sg,StringKeyframeTrack:()=>GS,SubtractEquation:()=>Qh,SubtractiveBlending:()=>Zh,TOUCH:()=>Ih,TangentSpaceNormalMap:()=>Em,TetrahedronGeometry:()=>uS,Texture:()=>cv,TextureLoader:()=>lM,TextureUtils:()=>MT,Timer:()=>RE,TimestampQuery:()=>mg,TorusGeometry:()=>dS,TorusKnotGeometry:()=>hS,Triangle:()=>ky,TriangleFanDrawMode:()=>xm,TriangleStripDrawMode:()=>bm,TrianglesDrawMode:()=>ym,TubeGeometry:()=>fS,UVMapping:()=>Bf,Uint16BufferAttribute:()=>eb,Uint32BufferAttribute:()=>nb,Uint8BufferAttribute:()=>Jy,Uint8ClampedBufferAttribute:()=>$y,Uniform:()=>xE,UniformsGroup:()=>wE,UniformsLib:()=>AT,UniformsUtils:()=>Pb,UnsignedByteType:()=>ap,UnsignedInt101111Type:()=>vp,UnsignedInt248Type:()=>mp,UnsignedInt5999Type:()=>gp,UnsignedIntType:()=>up,UnsignedShort4444Type:()=>fp,UnsignedShort5551Type:()=>pp,UnsignedShortType:()=>lp,VSMShadowMap:()=>Vh,Vector2:()=>Hg,Vector3:()=>Gg,Vector4:()=>uv,VectorKeyframeTrack:()=>XS,VideoFrameTexture:()=>F_,VideoTexture:()=>D_,WebGL3DRenderTarget:()=>gv,WebGLArrayRenderTarget:()=>pv,WebGLCoordinateSystem:()=>fg,WebGLCubeRenderTarget:()=>Bb,WebGLRenderTarget:()=>hv,WebGLRenderer:()=>aR,WebGLUtils:()=>KA,WebGPUCoordinateSystem:()=>pg,WebXRController:()=>Hb,WireframeGeometry:()=>pS,WrapAroundEnding:()=>mm,ZeroCurvatureEnding:()=>fm,ZeroFactor:()=>rf,ZeroSlopeEnding:()=>pm,ZeroStencilOp:()=>Nm,createCanvasElement:()=>wg,error:()=>Rg,getConsoleFunction:()=>Tg,log:()=>Cg,setConsoleFunction:()=>Eg,warn:()=>Ag,warnOnce:()=>Pg});var a=n(43),o=n.t(a,2),s=n(391);function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}function d(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const p=["sri"],m=["page"],g=["page","matches"],v=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],y=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],b=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var x="popstate";function _(){return A(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=C(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),E("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:T(t))},function(e,t){S("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function S(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function M(e,t){return{usr:e.state,key:e.key,idx:t}}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return f(f({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?C(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function T(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function C(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function A(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){s="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:p.location,delta:t})}function h(e){return R(e)}null==c&&(c=0,o.replaceState(f(f({},o.state),{},{idx:c}),""));let p={get action(){return s},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(x,d),l=e,()=>{i.removeEventListener(x,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=E(p.location,e,t);n&&n(r,e),c=u()+1;let d=M(r,c),h=p.createHref(r);try{o.pushState(d,"",h)}catch(Rg){if(Rg instanceof DOMException&&"DataCloneError"===Rg.name)throw Rg;i.location.assign(h)}a&&l&&l({action:s,location:p.location,delta:1})},replace:function(e,t){s="REPLACE";let r=E(p.location,e,t);n&&n(r,e),c=u();let i=M(r,c),d=p.createHref(r);o.replaceState(i,"",d),a&&l&&l({action:s,location:p.location,delta:0})},go:e=>o.go(e)};return p}function R(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:T(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function P(e,t){return k(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function k(e,t,n,r){let i=X(("string"===typeof t?C(t):t).pathname||"/",n);if(null==i)return null;let a=N(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=G(i);o=V(a[s],e,r)}return o}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;w(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=ee([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),N(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:j(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of L(e.path))a(e,t,!0,r);else a(e,t)}),t}function L(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=L(r.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var I=/^:[\w-]+$/,O=3,D=2,F=1,U=10,z=-2,B=e=>"*"===e;function j(e,t){let n=e.split("/"),r=n.length;return n.some(B)&&(r+=z),t&&(r+=D),n.filter(e=>!B(e)).reduce((e,t)=>e+(I.test(t)?O:""===t?F:U),r)}function V(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=H({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=H({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:ee([a,u.pathname]),pathnameBase:te(ee([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=ee([a,u.pathnameBase]))}return o}function H(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=W(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function W(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];S("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function G(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(Rg){return S(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(Rg,").")),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var q=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y=e=>q.test(e);function Z(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function K(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function J(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function $(e){let t=J(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=C(e):(r=f({},e),w(!r.pathname||!r.pathname.includes("?"),K("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),K("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),K("#","search","hash",r)));let a,o=""===e||""===r.pathname,s=o?"/":r.pathname;if(null==s)a=n;else{let e=t.length-1;if(!i&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:i="",hash:a=""}="string"===typeof e?C(e):e;if(r)if(Y(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),S(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?Z(r.substring(1),"/"):Z(r,n)}else t=n;return{pathname:t,search:ne(i),hash:re(a)}}(r,a),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var ee=e=>e.join("/").replace(/\/\/+/g,"/"),te=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ne=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",re=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ie=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function oe(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function le(e,t){let n=e;if("string"!==typeof n||!q.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(se)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=X(r.pathname,t);r.origin===e.origin&&null!=a?n=a+r.search+r.hash:i=!0}catch(a){S(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:i,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ce=["POST","PUT","PATCH","DELETE"],ue=(new Set(ce),["GET",...ce]);new Set(ue),Symbol("ResetLoaderData");var de=a.createContext(null);de.displayName="DataRouter";var he=a.createContext(null);he.displayName="DataRouterState";var fe=a.createContext(!1);function pe(){return a.useContext(fe)}var me=a.createContext({isTransitioning:!1});me.displayName="ViewTransition";var ge=a.createContext(new Map);ge.displayName="Fetchers";var ve=a.createContext(null);ve.displayName="Await";var ye=a.createContext(null);ye.displayName="Navigation";var be=a.createContext(null);be.displayName="Location";var xe=a.createContext({outlet:null,matches:[],isDataRoute:!1});xe.displayName="Route";var _e=a.createContext(null);_e.displayName="RouteError";var we="REACT_ROUTER_ERROR";function Se(){return null!=a.useContext(be)}function Me(){return w(Se(),"useLocation() may be used only in the context of a <Router> component."),a.useContext(be).location}var Ee="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Te(e){a.useContext(ye).static||a.useLayoutEffect(e)}function Ce(){let{isDataRoute:e}=a.useContext(xe);return e?function(){let{router:e}=Ue("useNavigate"),t=Be("useNavigate"),n=a.useRef(!1);Te(()=>{n.current=!0});let r=a.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(n.current,Ee),n.current&&("number"===typeof r?await e.navigate(r):await e.navigate(r,f({fromRouteId:t},i)))},[e,t]);return r}():function(){w(Se(),"useNavigate() may be used only in the context of a <Router> component.");let e=a.useContext(de),{basename:t,navigator:n}=a.useContext(ye),{matches:r}=a.useContext(xe),{pathname:i}=Me(),o=JSON.stringify($(r)),s=a.useRef(!1);Te(()=>{s.current=!0});let l=a.useCallback(function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(S(s.current,Ee),!s.current)return;if("number"===typeof r)return void n.go(r);let l=Q(r,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ee([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)},[t,n,o,i,e]);return l}()}a.createContext(null);function Ae(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=a.useContext(xe),{pathname:r}=Me(),i=JSON.stringify($(n));return a.useMemo(()=>Q(e,JSON.parse(i),r,"path"===t),[e,i,r,t])}function Re(e,t,n,r,i){w(Se(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=a.useContext(ye),{matches:s}=a.useContext(xe),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";He(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=Me();if(t){var g;let e="string"===typeof t?C(t):t;w("/"===d||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let v=p.pathname||"/",y=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=P(e,{pathname:y});S(h||null!=b,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),S(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let x=De(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ee([d,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:ee([d,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,n,r,i);return t&&x?a.createElement(be.Provider,{value:{location:f({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},x):x}function Pe(){let e=je(),t=ae(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=a.createElement(a.Fragment,null,a.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",a.createElement("code",{style:o},"ErrorBoundary")," or"," ",a.createElement("code",{style:o},"errorElement")," prop on your route.")),a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:i},n):null,s)}var ke=a.createElement(Pe,null),Ne=class extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(we,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new ie(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let t=void 0!==e?a.createElement(xe.Provider,{value:this.props.routeContext},a.createElement(_e.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?a.createElement(Ie,{error:e},t):t}};Ne.contextType=fe;var Le=new WeakMap;function Ie(e){let{children:t,error:n}=e,{basename:r}=a.useContext(ye);if("object"===typeof n&&n&&"digest"in n&&"string"===typeof n.digest){let e=function(e){if(e.startsWith("".concat(we,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(n.digest);if(e){let t=Le.get(n);if(t)throw t;let i=le(e.location,r);if(se&&!Le.get(n)){if(!i.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw Le.set(n,t),t}window.location.href=i.absoluteURL||i.to}return a.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(i.absoluteURL||i.to)})}}return t}function Oe(e){let{routeContext:t,match:n,children:r}=e,i=a.useContext(de);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(xe.Provider,{value:t},r)}function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,l=-1;if(n)for(let a=0;a<i.length;a++){let e=i[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=a),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){s=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}let c=n&&r?(e,t)=>{var i,a;r(e,{location:n.location,params:null!==(i=null===(a=n.matches)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.params)&&void 0!==i?i:{},unstable_pattern:oe(n.matches),errorInfo:t})}:void 0;return i.reduceRight((e,r,u)=>{let d,h=!1,f=null,p=null;n&&(d=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||ke,s&&(l<0&&0===u?(He("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,u+1)),g=()=>{let t;return t=d?f:h?p:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(Oe,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===u)?a.createElement(Ne,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):g()},null)}function Fe(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ue(e){let t=a.useContext(de);return w(t,Fe(e)),t}function ze(e){let t=a.useContext(he);return w(t,Fe(e)),t}function Be(e){let t=function(e){let t=a.useContext(xe);return w(t,Fe(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function je(){var e;let t=a.useContext(_e),n=ze("useRouteError"),r=Be("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Ve={};function He(e,t,n){t||Ve[e]||(Ve[e]=!0,S(!1,n))}var We={};function Ge(e,t){e||We[t]||(We[t]=!0,console.warn(t))}o.useOptimistic;a.memo(function(e){let{routes:t,future:n,state:r,onError:i}=e;return Re(t,void 0,r,i,n)});function Xe(e){let{to:t,replace:n,state:r,relative:i}=e;w(Se(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=a.useContext(ye);S(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=a.useContext(xe),{pathname:l}=Me(),c=Ce(),u=Q(t,$(s),l,"path"===i),d=JSON.stringify(u);return a.useEffect(()=>{c(JSON.parse(d),{replace:n,state:r,relative:i})},[c,d,i,n,r]),null}function qe(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ye(e){let{basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:o,static:s=!1,unstable_useTransitions:l}=e;w(!Se(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=a.useMemo(()=>({basename:c,navigator:o,static:s,unstable_useTransitions:l,future:{}}),[c,o,s,l]);"string"===typeof r&&(r=C(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=a.useMemo(()=>{let e=X(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:i}},[c,d,h,f,p,m,i]);return S(null!=g,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(d).concat(h).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:a.createElement(ye.Provider,{value:u},a.createElement(be.Provider,{children:n,value:g}))}function Ze(e){let{children:t,location:n}=e;return Re(Ke(t),n)}a.Component;function Ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let i=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,Ke(e.props.children,i));w(e.type===qe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ke(e.props.children,i)),n.push(o)}),n}var Je="get",$e="application/x-www-form-urlencoded";function Qe(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var et=null;var tt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nt(e){return null==e||tt.has(e)?e:(S(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat($e,'"')),null)}function rt(e,t){let n,r,i,a,o;if(Qe(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?X(o,t):null,n=e.getAttribute("method")||Je,i=nt(e.getAttribute("enctype"))||$e,a=new FormData(e)}else if(function(e){return Qe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Qe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?X(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Je,i=nt(e.getAttribute("formenctype"))||nt(o.getAttribute("enctype"))||$e,a=new FormData(o,e),!function(){if(null===et)try{new FormData(document.createElement("form"),0),et=!1}catch(e){et=!0}return et}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(Qe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Je,r=null,i=$e,o=e}var s;return a&&"text/plain"===i&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function it(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function at(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===X(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function ot(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(Rg){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(Rg),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function st(e){return null!=e&&"string"===typeof e.page}function lt(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function ct(e,t,n,r,i,a){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function ut(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function dt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!st(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function ht(e,t){return"lazy"===e.mode&&!0===t}function ft(){let e=a.useContext(de);return it(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function pt(){let e=a.useContext(he);return it(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var mt=a.createContext(void 0);function gt(){let e=a.useContext(mt);return it(e,"You must render this element inside a <HydratedRouter> element"),e}function vt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function yt(e,t,n){if(n&&!wt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}mt.displayName="FrameworkContext";function bt(e){let{page:t}=e,n=l(e,m),{router:r}=ft(),i=a.useMemo(()=>P(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?a.createElement(_t,f({page:t,matches:i},n)):null}function xt(e){let{manifest:t,routeModules:n}=gt(),[r,i]=a.useState([]);return a.useEffect(()=>{let r=!1;return async function(e,t,n){return dt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await ot(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(lt).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?f(f({},e),{},{rel:"prefetch",as:"style"}):f(f({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function _t(e){let{page:t,matches:n}=e,r=l(e,g),i=Me(),{manifest:o,routeModules:s}=gt(),{basename:c}=ft(),{loaderData:u,matches:d}=pt(),h=a.useMemo(()=>ct(t,n,d,o,i,"data"),[t,n,d,o,i]),p=a.useMemo(()=>ct(t,n,d,o,i,"assets"),[t,n,d,o,i]),m=a.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=o.routes[t.route.id];i&&i.hasLoader&&(!h.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=s[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let a=at(t,c,"data");return r&&e.size>0&&a.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[c,u,i,o,h,n,t,s]),v=a.useMemo(()=>ut(p,o),[p,o]),y=xt(p);return a.createElement(a.Fragment,null,m.map(e=>a.createElement("link",f({key:e,rel:"prefetch",as:"fetch",href:e},r))),v.map(e=>a.createElement("link",f({key:e,rel:"modulepreload",href:e},r))),y.map(e=>{let{key:t,link:n}=e;return a.createElement("link",f({key:t,nonce:r.nonce},n))}))}var wt=!1;function St(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:i,routeDiscovery:o,ssr:s}=gt(),{router:c,static:u,staticContext:d}=ft(),{matches:h}=pt(),m=pe(),g=ht(o,s);i&&(i.didRenderScripts=!0);let v=yt(h,null,r);a.useEffect(()=>{wt=!0},[]);let y=a.useMemo(()=>{var r;if(m)return null;let i=d?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=u?"".concat(null!==(r=t.hmr)&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];it(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=l(e,p),i=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(a.pop();a.length>0;)o.push("/".concat(a.join("/"))),a.pop();o.forEach(e=>{let n=P(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let s=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return f(f({},r),{},{routes:s,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return a.createElement(a.Fragment,null,a.createElement("script",f(f({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:void 0})),a.createElement("script",f(f({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:"module",async:!0})))},[]),b=wt||m?[]:(x=t.entry.imports.concat(ut(v,t,{includeHydrateFallback:!0})),[...new Set(x)]);var x;let _="object"===typeof t.sri?t.sri:{};return Ge(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),wt||m?null:a.createElement(a.Fragment,null,"object"===typeof t.sri?a.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:_})}}):null,g?null:a.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:_[t.url],suppressHydrationWarning:!0}),a.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:_[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>a.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:_[t],suppressHydrationWarning:!0})),y)}function Mt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}a.Component;function Et(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,i=a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ae(t))return a.createElement(Tt,{title:"Unhandled Thrown Response!"},a.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return a.createElement(Tt,{title:"Application Error!",isOutsideRemixApp:n},a.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),a.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),i)}function Tt(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:i,children:o}=e,{routeModules:s}=gt();return null!==(t=s.root)&&void 0!==t&&t.Layout&&!i?o:a.createElement("html",{lang:"en"},a.createElement("head",null,a.createElement("meta",{charSet:"utf-8"}),a.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),a.createElement("title",null,n)),a.createElement("body",null,a.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?a.createElement(St,null):null)))}var Ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ct&&(window.__reactRouterVersion="7.11.0")}catch(dX){}function At(e){let{basename:t,children:n,unstable_useTransitions:r,window:i}=e,o=a.useRef();null==o.current&&(o.current=_({window:i,v5Compat:!0}));let s=o.current,[l,c]=a.useState({action:s.action,location:s.location}),u=a.useCallback(e=>{!1===r?c(e):a.startTransition(()=>c(e))},[r]);return a.useLayoutEffect(()=>s.listen(u),[s,u]),a.createElement(Ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:r})}var Rt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=a.forwardRef(function(e,t){let{onClick:n,discover:r="render",prefetch:i="none",relative:o,reloadDocument:s,replace:c,state:u,target:d,to:h,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g}=e,y=l(e,v),{basename:b,unstable_useTransitions:x}=a.useContext(ye),_="string"===typeof h&&Rt.test(h),S=le(h,b);h=S.to;let M=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(Se(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=a.useContext(ye),{hash:i,pathname:o,search:s}=Ae(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:ee([n,o])),r.createHref({pathname:l,search:s,hash:i})}(h,{relative:o}),[E,C,A]=function(e,t){let n=a.useContext(mt),[r,i]=a.useState(!1),[o,s]=a.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=a.useRef(null);a.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),a.useEffect(()=>{if(r){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:vt(l,p),onBlur:vt(c,m),onMouseEnter:vt(u,p),onMouseLeave:vt(d,m),onTouchStart:vt(h,p)}]:[!1,f,{}]}(i,y),R=function(e){let{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=Ce(),d=Me(),h=Ae(e,{relative:o});return a.useCallback(f=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(f,t)){f.preventDefault();let t=void 0!==n?n:T(d)===T(h),p=()=>u(e,{replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:s,unstable_defaultShouldRevalidate:l});c?a.startTransition(()=>p()):p()}},[d,u,h,n,r,t,e,i,o,s,l,c])}(h,{replace:c,state:u,target:d,preventScrollReset:p,relative:o,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:x});let P=a.createElement("a",f(f(f({},y),A),{},{href:S.absoluteURL||M,onClick:S.isExternal||s?n:function(e){n&&n(e),e.defaultPrevented||R(e)},ref:Mt(t,C),target:d,"data-discover":_||"render"!==r?void 0:"true"}));return E&&!_?a.createElement(a.Fragment,null,P,a.createElement(bt,{page:M})):P});Pt.displayName="Link",a.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:o=!1,style:s,to:c,viewTransition:u,children:d}=e,h=l(e,y),p=Ae(c,{relative:h.relative}),m=Me(),g=a.useContext(he),{navigator:v,basename:b}=a.useContext(ye),x=null!=g&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.useContext(me);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Lt("useViewTransitionState"),i=Ae(e,{relative:t});if(!n.isTransitioning)return!1;let o=X(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=X(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=H(i.pathname,s)||null!=H(i.pathname,o)}(p)&&!0===u,_=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,S=m.pathname,M=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(S=S.toLowerCase(),M=M?M.toLowerCase():null,_=_.toLowerCase()),M&&b&&(M=X(M,b)||M);const E="/"!==_&&_.endsWith("/")?_.length-1:_.length;let T,C=S===_||!o&&S.startsWith(_)&&"/"===S.charAt(E),A=null!=M&&(M===_||!o&&M.startsWith(_)&&"/"===M.charAt(_.length)),R={isActive:C,isPending:A,isTransitioning:x},P=C?n:void 0;T="function"===typeof i?i(R):[i,C?"active":null,A?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let k="function"===typeof s?s(R):s;return a.createElement(Pt,f(f({},h),{},{"aria-current":P,className:T,ref:t,style:k,to:c,viewTransition:u}),"function"===typeof d?d(R):d)}).displayName="NavLink";var kt=a.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:i,reloadDocument:o,replace:s,state:c,method:u=Je,action:d,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v}=e,y=l(e,b),{unstable_useTransitions:x}=a.useContext(ye),_=Dt(),S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=a.useContext(ye),r=a.useContext(xe);w(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o=f({},Ae(e||".",{relative:t})),s=Me();if(null==e){o.search=s.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:ee([n,o.pathname]));return T(o)}(d,{relative:p}),M="get"===u.toLowerCase()?"get":"post",E="string"===typeof d&&Rt.test(d);return a.createElement("form",f(f({ref:t,method:M,action:S,onSubmit:o?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u,o=()=>_(t||e.currentTarget,{fetcherKey:r,method:n,navigate:i,replace:s,state:c,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v});x&&!1!==i?a.startTransition(()=>o()):o()}},y),{},{"data-discover":E||"render"!==n?void 0:"true"}))});function Nt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Lt(e){let t=a.useContext(de);return w(t,Nt(e)),t}kt.displayName="Form";var It=0,Ot=()=>"__".concat(String(++It),"__");function Dt(){let{router:e}=Lt("useSubmit"),{basename:t}=a.useContext(ye),n=Be("useRouteId"),r=e.fetch,i=e.navigate;return a.useCallback(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:l,formData:c,body:u}=rt(e,t);if(!1===a.navigate){let e=a.fetcherKey||Ot();await r(e,n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||l,flushSync:a.flushSync})}else await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function Ft(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ut}=Object.prototype,{getPrototypeOf:zt}=Object,{iterator:Bt,toStringTag:jt}=Symbol,Vt=(Ht=Object.create(null),e=>{const t=Ut.call(e);return Ht[t]||(Ht[t]=t.slice(8,-1).toLowerCase())});var Ht;const Wt=e=>(e=e.toLowerCase(),t=>Vt(t)===e),Gt=e=>t=>typeof t===e,{isArray:Xt}=Array,qt=Gt("undefined");function Yt(e){return null!==e&&!qt(e)&&null!==e.constructor&&!qt(e.constructor)&&Jt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Zt=Wt("ArrayBuffer");const Kt=Gt("string"),Jt=Gt("function"),$t=Gt("number"),Qt=e=>null!==e&&"object"===typeof e,en=e=>{if("object"!==Vt(e))return!1;const t=zt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(jt in e)&&!(Bt in e)},tn=Wt("Date"),nn=Wt("File"),rn=Wt("Blob"),an=Wt("FileList"),on=Wt("URLSearchParams"),[sn,ln,cn,un]=["ReadableStream","Request","Response","Headers"].map(Wt);function dn(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Xt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(Yt(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let o;for(n=0;n<a;n++)o=r[n],t.call(null,e[o],o,e)}}function hn(e,t){if(Yt(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const fn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:n.g,pn=e=>!qt(e)&&e!==fn;const mn=(gn="undefined"!==typeof Uint8Array&&zt(Uint8Array),e=>gn&&e instanceof gn);var gn;const vn=Wt("HTMLFormElement"),yn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),bn=Wt("RegExp"),xn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};dn(n,(n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)}),Object.defineProperties(e,r)};const _n=Wt("AsyncFunction"),wn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],fn.addEventListener("message",e=>{let{source:t,data:i}=e;t===fn&&i===n&&r.length&&r.shift()()},!1),e=>{r.push(e),fn.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Jt(fn.postMessage)),Sn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(fn):"undefined"!==typeof process&&process.nextTick||wn,Mn={isArray:Xt,isArrayBuffer:Zt,isBuffer:Yt,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Jt(e.append)&&("formdata"===(t=Vt(e))||"object"===t&&Jt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Zt(e.buffer),t},isString:Kt,isNumber:$t,isBoolean:e=>!0===e||!1===e,isObject:Qt,isPlainObject:en,isEmptyObject:e=>{if(!Qt(e)||Yt(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(dX){return!1}},isReadableStream:sn,isRequest:ln,isResponse:cn,isHeaders:un,isUndefined:qt,isDate:tn,isFile:nn,isBlob:rn,isRegExp:bn,isFunction:Jt,isStream:e=>Qt(e)&&Jt(e.pipe),isURLSearchParams:on,isTypedArray:mn,isFileList:an,forEach:dn,merge:function e(){const{caseless:t,skipUndefined:n}=pn(this)&&this||{},r={},i=(i,a)=>{const o=t&&hn(r,a)||a;en(r[o])&&en(i)?r[o]=e(r[o],i):en(i)?r[o]=e({},i):Xt(i)?r[o]=i.slice():n&&qt(i)||(r[o]=i)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&dn(arguments[a],i);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return dn(t,(t,r)=>{n&&Jt(t)?e[r]=Ft(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,o;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&zt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Vt,kindOfTest:Wt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Xt(e))return e;let t=e.length;if(!$t(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Bt]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:vn,hasOwnProperty:yn,hasOwnProp:yn,reduceDescriptors:xn,freezeMethods:e=>{xn(e,(t,n)=>{if(Jt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Jt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Xt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:hn,global:fn,isContextDefined:pn,isSpecCompliantForm:function(e){return!!(e&&Jt(e.append)&&"FormData"===e[jt]&&e[Bt])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Qt(e)){if(t.indexOf(e)>=0)return;if(Yt(e))return e;if(!("toJSON"in e)){t[r]=e;const i=Xt(e)?[]:{};return dn(e,(e,t)=>{const a=n(e,r+1);!qt(a)&&(i[t]=a)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:_n,isThenable:e=>e&&(Qt(e)||Jt(e))&&Jt(e.then)&&Jt(e.catch),setImmediate:wn,asap:Sn,isIterable:e=>null!=e&&Jt(e[Bt])};function En(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Mn.inherits(En,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Mn.toJSONObject(this.config),code:this.code,status:this.status}}});const Tn=En.prototype,Cn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Cn[e]={value:e}}),Object.defineProperties(En,Cn),Object.defineProperty(Tn,"isAxiosError",{value:!0}),En.from=(e,t,n,r,i,a)=>{const o=Object.create(Tn);Mn.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return En.call(o,s,l,n,r,i),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const An=En;function Rn(e){return Mn.isPlainObject(e)||Mn.isArray(e)}function Pn(e){return Mn.endsWith(e,"[]")?e.slice(0,-2):e}function kn(e,t,n){return e?e.concat(t).map(function(e,t){return e=Pn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Nn=Mn.toFlatObject(Mn,{},null,function(e){return/^is[A-Z]/.test(e)});const Ln=function(e,t,n){if(!Mn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Mn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Mn.isUndefined(t[e])})).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Mn.isSpecCompliantForm(t);if(!Mn.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Mn.isDate(e))return e.toISOString();if(Mn.isBoolean(e))return e.toString();if(!s&&Mn.isBlob(e))throw new An("Blob is not supported. Use a Buffer instead.");return Mn.isArrayBuffer(e)||Mn.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(Mn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Mn.isArray(e)&&function(e){return Mn.isArray(e)&&!e.some(Rn)}(e)||(Mn.isFileList(e)||Mn.endsWith(n,"[]"))&&(s=Mn.toArray(e)))return n=Pn(n),s.forEach(function(e,r){!Mn.isUndefined(e)&&null!==e&&t.append(!0===o?kn([n],r,a):null===o?n:n+"[]",l(e))}),!1;return!!Rn(e)||(t.append(kn(i,n,a),l(e)),!1)}const u=[],d=Object.assign(Nn,{defaultVisitor:c,convertValue:l,isVisitable:Rn});if(!Mn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Mn.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Mn.forEach(n,function(n,a){!0===(!(Mn.isUndefined(n)||null===n)&&i.call(t,n,Mn.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])}),u.pop()}}(e),t};function In(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function On(e,t){this._pairs=[],e&&Ln(e,this,t)}const Dn=On.prototype;Dn.append=function(e,t){this._pairs.push([e,t])},Dn.toString=function(e){const t=e?function(t){return e.call(this,t,In)}:In;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Fn=On;function Un(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zn(e,t,n){if(!t)return e;const r=n&&n.encode||Un;Mn.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(a=i?i(t,n):Mn.isURLSearchParams(t)?t.toString():new Fn(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Bn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Mn.forEach(this.handlers,function(t){null!==t&&e(t)})}},jn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Fn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Hn="undefined"!==typeof window&&"undefined"!==typeof document,Wn="object"===typeof navigator&&navigator||void 0,Gn=Hn&&(!Wn||["ReactNative","NativeScript","NS"].indexOf(Wn.product)<0),Xn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,qn=Hn&&window.location.href||"http://localhost",Yn=f(f({},r),Vn);const Zn=function(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),s=i>=e.length;if(a=!a&&Mn.isArray(r)?r.length:a,s)return Mn.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o;r[a]&&Mn.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&Mn.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!o}if(Mn.isFormData(e)&&Mn.isFunction(e.entries)){const n={};return Mn.forEachEntry(e,(e,r)=>{t(function(e){return Mn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Kn={transitional:jn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Mn.isObject(e);i&&Mn.isHTMLForm(e)&&(e=new FormData(e));if(Mn.isFormData(e))return r?JSON.stringify(Zn(e)):e;if(Mn.isArrayBuffer(e)||Mn.isBuffer(e)||Mn.isStream(e)||Mn.isFile(e)||Mn.isBlob(e)||Mn.isReadableStream(e))return e;if(Mn.isArrayBufferView(e))return e.buffer;if(Mn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ln(e,new Yn.classes.URLSearchParams,f({visitor:function(e,t,n,r){return Yn.isNode&&Mn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Mn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ln(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Mn.isString(e))try{return(t||JSON.parse)(e),Mn.trim(e)}catch(dX){if("SyntaxError"!==dX.name)throw dX}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Kn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Mn.isResponse(e)||Mn.isReadableStream(e))return e;if(e&&Mn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(dX){if(n){if("SyntaxError"===dX.name)throw An.from(dX,An.ERR_BAD_RESPONSE,this,null,this.response);throw dX}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yn.classes.FormData,Blob:Yn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Mn.forEach(["delete","get","head","post","put","patch"],e=>{Kn.headers[e]={}});const Jn=Kn,$n=Mn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qn=Symbol("internals");function er(e){return e&&String(e).trim().toLowerCase()}function tr(e){return!1===e||null==e?e:Mn.isArray(e)?e.map(tr):String(e)}function nr(e,t,n,r,i){return Mn.isFunction(r)?r.call(this,t,n):(i&&(t=n),Mn.isString(t)?Mn.isString(r)?-1!==t.indexOf(r):Mn.isRegExp(r)?r.test(t):void 0:void 0)}class rr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=er(t);if(!i)throw new Error("header name must be a non-empty string");const a=Mn.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=tr(e))}const a=(e,t)=>Mn.forEach(e,(e,n)=>i(e,n,t));if(Mn.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Mn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&$n[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Mn.isObject(e)&&Mn.isIterable(e)){let n,r,i={};for(const t of e){if(!Mn.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?Mn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=er(e)){const n=Mn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Mn.isFunction(t))return t.call(this,e,n);if(Mn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=er(e)){const n=Mn.findKey(this,e);return!(!n||void 0===this[n]||t&&!nr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=er(e)){const i=Mn.findKey(n,e);!i||t&&!nr(0,n[i],i,t)||(delete n[i],r=!0)}}return Mn.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!nr(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Mn.forEach(this,(r,i)=>{const a=Mn.findKey(n,i);if(a)return t[a]=tr(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();o!==i&&delete t[i],t[o]=tr(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Mn.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Mn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Qn]=this[Qn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=er(e);t[r]||(!function(e,t){const n=Mn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return Mn.isArray(e)?e.forEach(r):r(e),this}}rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Mn.reduceDescriptors(rr.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Mn.freezeMethods(rr);const ir=rr;function ar(e,t){const n=this||Jn,r=t||n,i=ir.from(r.headers);let a=r.data;return Mn.forEach(e,function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function or(e){return!(!e||!e.__CANCEL__)}function sr(e,t,n){An.call(this,null==e?"canceled":e,An.ERR_CANCELED,t,n),this.name="CanceledError"}Mn.inherits(sr,An,{__CANCEL__:!0});const lr=sr;function cr(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new An("Request failed with status code "+n.status,[An.ERR_BAD_REQUEST,An.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const ur=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[o];i||(i=l),n[a]=s,r[a]=l;let u=o,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const dr=function(e,t){let n,r,i=0,a=1e3/t;const o=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=a?o(l,e):(n=l,r||(r=setTimeout(()=>{r=null,o(n)},a-t)))},()=>n&&o(n)]},hr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=ur(50,250);return dr(n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,s=a-r,l=i(s);r=a;e({loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},fr=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},pr=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mn.asap(()=>e(...n))},mr=Yn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Yn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Yn.origin),Yn.navigator&&/(msie|trident)/i.test(Yn.navigator.userAgent)):()=>!0,gr=Yn.hasStandardBrowserEnv?{write(e,t,n,r,i,a,o){if("undefined"===typeof document)return;const s=["".concat(e,"=").concat(encodeURIComponent(t))];Mn.isNumber(n)&&s.push("expires=".concat(new Date(n).toUTCString())),Mn.isString(r)&&s.push("path=".concat(r)),Mn.isString(i)&&s.push("domain=".concat(i)),!0===a&&s.push("secure"),Mn.isString(o)&&s.push("SameSite=".concat(o)),document.cookie=s.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function vr(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const yr=e=>e instanceof ir?f({},e):e;function br(e,t){t=t||{};const n={};function r(e,t,n,r){return Mn.isPlainObject(e)&&Mn.isPlainObject(t)?Mn.merge.call({caseless:r},e,t):Mn.isPlainObject(t)?Mn.merge({},t):Mn.isArray(t)?t.slice():t}function i(e,t,n,i){return Mn.isUndefined(t)?Mn.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function a(e,t){if(!Mn.isUndefined(t))return r(void 0,t)}function o(e,t){return Mn.isUndefined(t)?Mn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t,n)=>i(yr(e),yr(t),0,!0)};return Mn.forEach(Object.keys(f(f({},e),t)),function(r){const a=l[r]||i,o=a(e[r],t[r],r);Mn.isUndefined(o)&&a!==s||(n[r]=o)}),n}const xr=e=>{const t=br({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=ir.from(o),t.url=zn(vr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Mn.isFormData(n))if(Yn.hasStandardBrowserEnv||Yn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Mn.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&o.set(n,r)})}if(Yn.hasStandardBrowserEnv&&(r&&Mn.isFunction(r)&&(r=r(t)),r||!1!==r&&mr(t.url))){const e=i&&a&&gr.read(a);e&&o.set(i,e)}return t},_r="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=xr(e);let i=r.data;const a=ir.from(r.headers).normalize();let o,s,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=ir.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());cr(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new An("Request aborted",An.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",i=new An(r,An.ERR_NETWORK,e,m);i.event=t||null,n(i),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||jn;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new An(t,i.clarifyTimeoutError?An.ETIMEDOUT:An.ECONNABORTED,e,m)),m=null},void 0===i&&a.setContentType(null),"setRequestHeader"in m&&Mn.forEach(a.toJSON(),function(e,t){m.setRequestHeader(t,e)}),Mn.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=hr(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([s,c]=hr(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{m&&(n(!t||t.type?new lr(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===Yn.protocols.indexOf(v)?n(new An("Unsupported protocol "+v+":",An.ERR_BAD_REQUEST,e)):m.send(i||null)})},wr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof An?t:new lr(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,i(new An("timeout ".concat(t," of ms exceeded"),An.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:s}=r;return s.unsubscribe=()=>Mn.asap(o),s}};function Sr(e,t){this.v=e,this.k=t}function Mr(e){return function(){return new Er(e.apply(this,arguments))}}function Er(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,s=o instanceof Sr;Promise.resolve(s?o.v:o).then(function(n){if(s){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}i(a.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(a,o){var s={key:e,arg:i,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,r(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function Tr(e){return new Sr(e,0)}function Cr(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Sr(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Ar(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Rr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Rr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Rr=function(e){this.s=e,this.n=e.next},Rr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Rr(e)}Er.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Er.prototype.next=function(e){return this._invoke("next",e)},Er.prototype.throw=function(e){return this._invoke("throw",e)},Er.prototype.return=function(e){return this._invoke("return",e)};const Pr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},kr=function(){var e=Mr(function*(e,t){var n,r=!1,i=!1;try{for(var a,o=Ar(Nr(e));r=!(a=yield Tr(o.next())).done;r=!1){const e=a.value;yield*Cr(Ar(Pr(e,t)))}}catch(s){i=!0,n=s}finally{try{r&&null!=o.return&&(yield Tr(o.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Nr=function(){var e=Mr(function*(e){if(e[Symbol.asyncIterator])return void(yield*Cr(Ar(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Tr(t.read());if(e)break;yield n}}finally{yield Tr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Lr=(e,t,n,r)=>{const i=kr(e,t);let a,o=0,s=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let a=r.byteLength;if(n){let e=o+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},{isFunction:Ir}=Mn,Or=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(Mn.global),{ReadableStream:Dr,TextEncoder:Fr}=Mn.global,Ur=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(dX){return!1}},zr=e=>{e=Mn.merge.call({skipUndefined:!0},Or,e);const{fetch:t,Request:n,Response:r}=e,i=t?Ir(t):"function"===typeof fetch,a=Ir(n),o=Ir(r);if(!i)return!1;const s=i&&Ir(Dr),l=i&&("function"===typeof Fr?(c=new Fr,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=a&&s&&Ur(()=>{let e=!1;const t=new n(Yn.origin,{body:new Dr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=o&&s&&Ur(()=>Mn.isReadableStream(new r("").body)),h={stream:d&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new An("Response type '".concat(e,"' is not supported"),An.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const r=Mn.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Mn.isBlob(e))return e.size;if(Mn.isSpecCompliantForm(e)){const t=new n(Yn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Mn.isArrayBufferView(e)||Mn.isArrayBuffer(e)?e.byteLength:(Mn.isURLSearchParams(e)&&(e+=""),Mn.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:i,method:o,data:s,signal:l,cancelToken:c,timeout:m,onDownloadProgress:g,onUploadProgress:v,responseType:y,headers:b,withCredentials:x="same-origin",fetchOptions:_}=xr(e),w=t||fetch;y=y?(y+"").toLowerCase():"text";let S=wr([l,c&&c.toAbortSignal()],m),M=null;const E=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let T;try{if(v&&u&&"get"!==o&&"head"!==o&&0!==(T=await p(b,s))){let e,t=new n(i,{method:"POST",body:s,duplex:"half"});if(Mn.isFormData(s)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=fr(T,hr(pr(v)));s=Lr(t.body,65536,e,n)}}Mn.isString(x)||(x=x?"include":"omit");const t=a&&"credentials"in n.prototype,l=f(f({},_),{},{signal:S,method:o.toUpperCase(),headers:b.normalize().toJSON(),body:s,duplex:"half",credentials:t?x:void 0});M=a&&new n(i,l);let c=await(a?w(M,_):w(i,l));const m=d&&("stream"===y||"response"===y);if(d&&(g||m&&E)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Mn.toFiniteNumber(c.headers.get("content-length")),[n,i]=g&&fr(t,hr(pr(g),!0))||[];c=new r(Lr(c.body,65536,n,()=>{i&&i(),E&&E()}),e)}y=y||"text";let C=await h[Mn.findKey(h,y)||"text"](c,e);return!m&&E&&E(),await new Promise((t,n)=>{cr(t,n,{data:C,headers:ir.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:M})})}catch(C){if(E&&E(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new An("Network Error",An.ERR_NETWORK,e,M),{cause:C.cause||C});throw An.from(C,C&&C.code,e,M)}}},Br=new Map,jr=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let o,s,l=a.length,c=Br;for(;l--;)o=a[l],s=c.get(o),void 0===s&&c.set(o,s=l?new Map:zr(t)),c=s;return s},Vr=(jr(),{http:null,xhr:_r,fetch:{get:jr}});Mn.forEach(Vr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(dX){}Object.defineProperty(e,"adapterName",{value:t})}});const Hr=e=>"- ".concat(e),Wr=e=>Mn.isFunction(e)||null===e||!1===e;const Gr={getAdapter:function(e,t){e=Mn.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let o=0;o<n;o++){let n;if(r=e[o],i=r,!Wr(r)&&(i=Vr[(n=String(r)).toLowerCase()],void 0===i))throw new An("Unknown adapter '".concat(n,"'"));if(i&&(Mn.isFunction(i)||(i=i.get(t))))break;a[n||"#"+o]=i}if(!i){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Hr).join("\n"):" "+Hr(e[0]):"as no adapter specified";throw new An("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i},adapters:Vr};function Xr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lr(null,e)}function qr(e){Xr(e),e.headers=ir.from(e.headers),e.data=ar.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Gr.getAdapter(e.adapter||Jn.adapter,e)(e).then(function(t){return Xr(e),t.data=ar.call(e,e.transformResponse,t),t.headers=ir.from(t.headers),t},function(t){return or(t)||(Xr(e),t&&t.response&&(t.response.data=ar.call(e,e.transformResponse,t.response),t.response.headers=ir.from(t.response.headers))),Promise.reject(t)})}const Yr="1.13.2",Zr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Zr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Kr={};Zr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Yr+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new An(r(i," has been removed"+(t?" in "+t:"")),An.ERR_DEPRECATED);return t&&!Kr[i]&&(Kr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},Zr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Jr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new An("options must be an object",An.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new An("option "+a+" must be "+n,An.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new An("Unknown option "+a,An.ERR_BAD_OPTION)}},validators:Zr},$r=Jr.validators;class Qr{constructor(e){this.defaults=e||{},this.interceptors={request:new Bn,response:new Bn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(dX){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=br(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Jr.assertOptions(n,{silentJSONParsing:$r.transitional($r.boolean),forcedJSONParsing:$r.transitional($r.boolean),clarifyTimeoutError:$r.transitional($r.boolean)},!1),null!=r&&(Mn.isFunction(r)?t.paramsSerializer={serialize:r}:Jr.assertOptions(r,{encode:$r.function,serialize:$r.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Jr.assertOptions(t,{baseUrl:$r.spelling("baseURL"),withXsrfToken:$r.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&Mn.merge(i.common,i[t.method]);i&&Mn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=ir.concat(a,i);const o=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!s){const e=[qr.bind(this),void 0];for(e.unshift(...o),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(Rg){t.call(this,Rg);break}}try{c=qr.call(this,h)}catch(Rg){return Promise.reject(Rg)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return zn(vr((e=br(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Mn.forEach(["delete","get","head","options"],function(e){Qr.prototype[e]=function(t,n){return this.request(br(n||{},{method:e,url:t,data:(n||{}).data}))}}),Mn.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(br(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Qr.prototype[e]=t(),Qr.prototype[e+"Form"]=t(!0)});const ei=Qr;class ti{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new lr(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ti(function(t){e=t});return{token:t,cancel:e}}}const ni=ti;const ri={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ri).forEach(e=>{let[t,n]=e;ri[n]=t});const ii=ri;const ai=function e(t){const n=new ei(t),r=Ft(ei.prototype.request,n);return Mn.extend(r,ei.prototype,n,{allOwnKeys:!0}),Mn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(br(t,n))},r}(Jn);ai.Axios=ei,ai.CanceledError=lr,ai.CancelToken=ni,ai.isCancel=or,ai.VERSION=Yr,ai.toFormData=Ln,ai.AxiosError=An,ai.Cancel=ai.CanceledError,ai.all=function(e){return Promise.all(e)},ai.spread=function(e){return function(t){return e.apply(null,t)}},ai.isAxiosError=function(e){return Mn.isObject(e)&&!0===e.isAxiosError},ai.mergeConfig=br,ai.AxiosHeaders=ir,ai.formToJSON=e=>Zn(Mn.isHTMLForm(e)?new FormData(e):e),ai.getAdapter=Gr.getAdapter,ai.HttpStatusCode=ii,ai.default=ai;const oi=ai;function si(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function li(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ci,ui,di,hi,fi,pi,mi,gi,vi,yi,bi,xi={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_i={duration:.5,overwrite:!1,delay:0},wi=1e8,Si=1e-8,Mi=2*Math.PI,Ei=Mi/4,Ti=0,Ci=Math.sqrt,Ai=Math.cos,Ri=Math.sin,Pi=function(e){return"string"===typeof e},ki=function(e){return"function"===typeof e},Ni=function(e){return"number"===typeof e},Li=function(e){return"undefined"===typeof e},Ii=function(e){return"object"===typeof e},Oi=function(e){return!1!==e},Di=function(){return"undefined"!==typeof window},Fi=function(e){return ki(e)||Pi(e)},Ui="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},zi=Array.isArray,Bi=/random\([^)]+\)/g,ji=/,\s*/g,Vi=/(?:-?\.?\d|\.)+/gi,Hi=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Wi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Gi=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Xi=/[+-]=-?[.\d]+/,qi=/[^,'"\[\]\s]+/gi,Yi=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Zi={},Ki={},Ji=function(e){return(Ki=Ca(e,Zi))&&As},$i=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Qi=function(e,t){return!t&&console.warn(e)},ea=function(e,t){return e&&(Zi[e]=t)&&Ki&&(Ki[e]=t)||Zi},ta=function(){return 0},na={suppressEvents:!0,isStart:!0,kill:!1},ra={suppressEvents:!0,kill:!1},ia={suppressEvents:!0},aa={},oa=[],sa={},la={},ca={},ua=30,da=[],ha="",fa=function(e){var t,n,r=e[0];if(Ii(r)||ki(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=da.length;n--&&!da[n].targetTest(r););t=da[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Vo(e[n],t)))||e.splice(n,1);return e},pa=function(e){return e._gsap||fa(io(e))[0]._gsap},ma=function(e,t,n){return(n=e[t])&&ki(n)?e[t]():Li(n)&&e.getAttribute&&e.getAttribute(t)||n},ga=function(e,t){return(e=e.split(",")).forEach(t)||e},va=function(e){return Math.round(1e5*e)/1e5||0},ya=function(e){return Math.round(1e7*e)/1e7||0},ba=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},xa=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},_a=function(){var e,t,n=oa.length,r=oa.slice(0);for(sa={},oa.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},wa=function(e){return!!(e._initted||e._startAt||e.add)},Sa=function(e,t,n,r){oa.length&&!ui&&_a(),e.render(t,n,r||!!(ui&&t<0&&wa(e))),oa.length&&!ui&&_a()},Ma=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(qi).length<2?t:Pi(e)?e.trim():e},Ea=function(e){return e},Ta=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Ca=function(e,t){for(var n in t)e[n]=t[n];return e},Aa=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=Ii(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Ra=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Pa=function(e){var t,n=e.parent||hi,r=e.keyframes?(t=zi(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):Ta;if(Oi(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},ka=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=e[r];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},Na=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,a=t._next;i?i._next=a:e[n]===t&&(e[n]=a),a?a._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},La=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ia=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Oa=function(e,t,n,r){return e._startAt&&(ui?e._startAt.revert(ra):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Da=function e(t){return!t||t._ts&&e(t.parent)},Fa=function(e){return e._repeat?Ua(e._tTime,e=e.duration()+e._rDelay)*e:0},Ua=function(e,t){var n=Math.floor(e=ya(e/t));return e&&n===e?n-1:n},za=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ba=function(e){return e._end=ya(e._start+(e._tDur/Math.abs(e._ts||e._rts||Si)||0))},ja=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=ya(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ba(e),n._dirty||Ia(n,e)),e},Va=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=za(e.rawTime(),t),(!t._dur||eo(0,t.totalDuration(),n)-t._tTime>Si)&&t.render(n,!0)),Ia(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Ha=function(e,t,n,r){return t.parent&&La(t),t._start=ya((Ni(n)?n:n||e!==hi?Ja(e,n,t):e._time)+t._delay),t._end=ya(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),ka(e,t,"_first","_last",e._sort?"_start":0),qa(t)||(e._recent=t),r||Va(e,t),e._ts<0&&ja(e,e._tTime),e},Wa=function(e,t){return(Zi.ScrollTrigger||$i("scrollTrigger",t))&&Zi.ScrollTrigger.create(t,e)},Ga=function(e,t,n,r,i){return Ko(e,t,i),e._initted?!n&&e._pt&&!ui&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&vi!==Ro.frame?(oa.push(e),e._lazy=[i,r],1):void 0:1},Xa=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},qa=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Ya=function(e,t,n,r){var i=e._repeat,a=ya(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:ya(a*(i+1)+e._rDelay*i):a,o>0&&!r&&ja(e,e._tTime=e._tDur*o),e.parent&&Ba(e),n||Ia(e.parent,e),e},Za=function(e){return e instanceof Wo?Ia(e):Ya(e,e._dur)},Ka={_start:0,endTime:ta,totalDuration:ta},Ja=function e(t,n,r){var i,a,o,s=t.labels,l=t._recent||Ka,c=t.duration()>=wi?l.endTime(!1):t._dur;return Pi(n)&&(isNaN(n)||n in s)?(a=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===a||">"===a?(i>=0&&(n=n.replace(/=/,"")),("<"===a?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?l:r).totalDuration()/100:1)):i<0?(n in s||(s[n]=c),s[n]):(a=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(a=a/100*(zi(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+a:c+a)):null==n?c:+n},$a=function(e,t,n){var r,i,a=Ni(t[1]),o=(a?2:1)+(e<2?0:1),s=t[o];if(a&&(s.duration=t[1]),s.parent=n,e){for(r=s,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=Oi(i.vars.inherit)&&i.parent;s.immediateRender=Oi(r.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return new ts(t[0],s,t[o+1])},Qa=function(e,t){return e||0===e?t(e):t},eo=function(e,t,n){return n<e?e:n>t?t:n},to=function(e,t){return Pi(e)&&(t=Yi.exec(e))?t[1]:""},no=[].slice,ro=function(e,t){return e&&Ii(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Ii(e[0]))&&!e.nodeType&&e!==fi},io=function(e,t,n){return di&&!t&&di.selector?di.selector(e):!Pi(e)||n||!pi&&Po()?zi(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach(function(e){var r;return Pi(e)&&!t||ro(e,1)?(r=n).push.apply(r,io(e)):n.push(e)})||n}(e,n):ro(e)?no.call(e,0):e?[e]:[]:no.call((t||mi).querySelectorAll(e),0)},ao=function(e){return e=io(e)[0]||Qi("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return io(t,n.querySelectorAll?n:n===e?Qi("Invalid scope")||mi.createElement("div"):e)}},oo=function(e){return e.sort(function(){return.5-Math.random()})},so=function(e){if(ki(e))return e;var t=Ii(e)?e:{each:e},n=Fo(t.ease),r=t.from||0,i=parseFloat(t.base)||0,a={},o=r>0&&r<1,s=isNaN(r)||o,l=t.axis,c=r,u=r;return Pi(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!o&&s&&(c=r[0],u=r[1]),function(e,o,d){var h,f,p,m,g,v,y,b,x,_=(d||t).length,w=a[_];if(!w){if(!(x="auto"===t.grid?0:(t.grid||[1,wi])[1])){for(y=-wi;y<(y=d[x++].getBoundingClientRect().left)&&x<_;);x<_&&x--}for(w=a[_]=[],h=s?Math.min(x,_)*c-.5:r%x,f=x===wi?0:s?_*u/x-.5:r/x|0,y=0,b=wi,v=0;v<_;v++)p=v%x-h,m=f-(v/x|0),w[v]=g=l?Math.abs("y"===l?m:p):Ci(p*p+m*m),g>y&&(y=g),g<b&&(b=g);"random"===r&&oo(w),w.max=y-b,w.min=b,w.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(x>_?_-1:l?"y"===l?_/x:x:Math.max(x,_/x))||0)*("edges"===r?-1:1),w.b=_<0?i-_:i,w.u=to(t.amount||t.each)||0,n=n&&_<0?Oo(n):n}return _=(w[e]-w.min)/w.max||0,ya(w.b+(n?n(_):_)*w.v)+w.u}},lo=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=ya(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Ni(n)?0:to(n))}},co=function(e,t){var n,r,i=zi(e);return!i&&Ii(e)&&(n=i=e.radius||wi,e.values?(e=io(e.values),(r=!Ni(e[0]))&&(n*=n)):e=lo(e.increment)),Qa(t,i?ki(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,a,o=parseFloat(r?t.x:t),s=parseFloat(r?t.y:0),l=wi,c=0,u=e.length;u--;)(i=r?(i=e[u].x-o)*i+(a=e[u].y-s)*a:Math.abs(e[u]-o))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||Ni(t)?c:c+to(t)}:lo(e))},uo=function(e,t,n,r){return Qa(zi(e)?!t:!0===n?!!(n=0):!r,function(){return zi(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r})},ho=function(e,t,n){return Qa(n,function(n){return e[~~t(n)]})},fo=function(e){return e.replace(Bi,function(e){var t=e.indexOf("[")+1,n=e.substring(t||7,t?e.indexOf("]"):e.length-1).split(ji);return uo(t?n:+n[0],t?0:+n[1],+n[2]||1e-5)})},po=function(e,t,n,r,i){var a=t-e,o=r-n;return Qa(i,function(t){return n+((t-e)/a*o||0)})},mo=function(e,t,n){var r,i,a,o=e.labels,s=wi;for(r in o)(i=o[r]-t)<0===!!n&&i&&s>(i=Math.abs(i))&&(a=r,s=i);return a},go=function(e,t,n){var r,i,a,o=e.vars,s=o[t],l=di,c=e._ctx;if(s)return r=o[t+"Params"],i=o.callbackScope||e,n&&oa.length&&_a(),c&&(di=c),a=r?s.apply(i,r):s.call(i),di=l,a},vo=function(e){return La(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ui),e.progress()<1&&go(e,"onInterrupt"),e},yo=[],bo=function(e){if(e)if(e=!e.name&&e.default||e,Di()||e.headless){var t=e.name,n=ki(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:ta,render:us,add:Yo,kill:hs,modifier:ds,rawVars:0},a={targetTest:0,get:0,getSetter:os,aliases:{},register:0};if(Po(),e!==r){if(la[t])return;Ta(r,Ta(Ra(e,i),a)),Ca(r.prototype,Ca(i,Ra(e,a))),la[r.prop=t]=r,e.targetTest&&(da.push(r),aa[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}ea(t,r),e.register&&e.register(As,r,ms)}else yo.push(e)},xo=255,_o={aqua:[0,xo,xo],lime:[0,xo,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xo],navy:[0,0,128],white:[xo,xo,xo],olive:[128,128,0],yellow:[xo,xo,0],orange:[xo,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xo,0,0],pink:[xo,192,203],cyan:[0,xo,xo],transparent:[xo,xo,xo,0]},wo=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*xo+.5|0},So=function(e,t,n){var r,i,a,o,s,l,c,u,d,h,f=e?Ni(e)?[e>>16,e>>8&xo,e&xo]:0:_o.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),_o[e])f=_o[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+r+r+i+i+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&xo,f&xo,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&xo,e&xo]}else if("hsl"===e.substr(0,3))if(f=h=e.match(Vi),t){if(~e.indexOf("="))return f=e.match(Hi),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,s=+f[1]/100,r=2*(l=+f[2]/100)-(i=l<=.5?l*(s+1):l+s-l*s),f.length>3&&(f[3]*=1),f[0]=wo(o+1/3,r,i),f[1]=wo(o,r,i),f[2]=wo(o-1/3,r,i);else f=e.match(Vi)||_o.transparent;f=f.map(Number)}return t&&!h&&(r=f[0]/xo,i=f[1]/xo,a=f[2]/xo,l=((c=Math.max(r,i,a))+(u=Math.min(r,i,a)))/2,c===u?o=s=0:(d=c-u,s=l>.5?d/(2-c-u):d/(c+u),o=c===r?(i-a)/d+(i<a?6:0):c===i?(a-r)/d+2:(r-i)/d+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*s+.5),f[2]=~~(100*l+.5)),n&&f.length<4&&(f[3]=1),f},Mo=function(e){var t=[],n=[],r=-1;return e.split(To).forEach(function(e){var i=e.match(Wi)||[];t.push.apply(t,i),n.push(r+=i.length+1)}),t.c=n,t},Eo=function(e,t,n){var r,i,a,o,s="",l=(e+s).match(To),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map(function(e){return(e=So(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),n&&(a=Mo(e),(r=n.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(To,"1").split(Wi)).length-1;u<o;u++)s+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(a.length?a:l.length?l:n).shift());if(!i)for(o=(i=e.split(To)).length-1;u<o;u++)s+=i[u]+l[u];return s+i[o]},To=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in _o)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Co=/hsl[a]?\(/,Ao=function(e){var t,n=e.join(" ");if(To.lastIndex=0,To.test(n))return t=Co.test(n),e[1]=Eo(e[1],t),e[0]=Eo(e[0],t,Mo(e[1])),!0},Ro=function(){var e,t,n,r,i,a,o=Date.now,s=500,l=33,c=o(),u=c,d=1e3/240,h=d,f=[],p=function n(p){var m,g,v,y,b=o()-u,x=!0===p;if((b>s||b<0)&&(c+=b-l),((m=(v=(u+=b)-c)-h)>0||x)&&(y=++r.frame,i=v-1e3*r.time,r.time=v/=1e3,h+=m+(m>=d?4:d-m),g=1),x||(e=t(n)),g)for(a=0;a<f.length;a++)f[a](v,i,y,p)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){gi&&(!pi&&Di()&&(fi=pi=window,mi=fi.document||{},Zi.gsap=As,(fi.gsapVersions||(fi.gsapVersions=[])).push(As.version),Ji(Ki||fi.GreenSockGlobals||!fi.gsap&&fi||{}),yo.forEach(bo)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,h-1e3*r.time+1|0)},bi=1,p(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),bi=0,t=ta},lagSmoothing:function(e,t){s=e||1/0,l=Math.min(t||33,s)},fps:function(e){d=1e3/(e||240),h=1e3*r.time+d},add:function(e,t,n){var i=t?function(t,n,a,o){e(t,n,a,o),r.remove(i)}:e;return r.remove(e),f[n?"unshift":"push"](i),Po(),i},remove:function(e,t){~(t=f.indexOf(e))&&f.splice(t,1)&&a>=t&&a--},_listeners:f},r}(),Po=function(){return!bi&&Ro.wake()},ko={},No=/^[\d.\-M][\d.\-,\s]/,Lo=/["']/g,Io=function(e){for(var t,n,r,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,l=a.length;s<l;s++)n=a[s],t=s!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(Lo,"").trim():+r,o=n.substr(t+1).trim();return i},Oo=function(e){return function(t){return 1-e(1-t)}},Do=function e(t,n){for(var r,i=t._first;i;)i instanceof Wo?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Fo=function(e,t){return e&&(ki(e)?e:ko[e]||function(e){var t=(e+"").split("("),n=ko[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Io(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(Ma)):ko._CE&&No.test(e)?ko._CE("",e):n}(e))||t},Uo=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:n,easeInOut:r};return ga(e,function(e){for(var t in ko[e]=Zi[e]=a,ko[i=e.toLowerCase()]=n,a)ko[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=ko[e+"."+t]=a[t]}),a},zo=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Bo=function e(t,n,r){var i=n>=1?n:1,a=(r||(t?.3:.45))/(n<1?n:1),o=a/Mi*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*Ri((e-o)*a)+1},l="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:zo(s);return a=Mi/a,l.config=function(n,r){return e(t,n,r)},l},jo=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:zo(r);return i.config=function(n){return e(t,n)},i};ga("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;Uo(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},function(e){return 1-Math.pow(1-e,n)},function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2})}),ko.Linear.easeNone=ko.none=ko.Linear.easeIn,Uo("Elastic",Bo("in"),Bo("out"),Bo()),function(e,t){var n=1/t,r=2*n,i=2.5*n,a=function(a){return a<n?e*a*a:a<r?e*Math.pow(a-1.5/t,2)+.75:a<i?e*(a-=2.25/t)*a+.9375:e*Math.pow(a-2.625/t,2)+.984375};Uo("Bounce",function(e){return 1-a(1-e)},a)}(7.5625,2.75),Uo("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),Uo("Circ",function(e){return-(Ci(1-e*e)-1)}),Uo("Sine",function(e){return 1===e?1:1-Ai(e*Ei)}),Uo("Back",jo("in"),jo("out"),jo()),ko.SteppedEase=ko.steps=Zi.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*eo(0,.99999999,e)|0)+i)*n}}},_i.ease=ko["quad.out"],ga("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return ha+=e+","+e+"Params,"});var Vo=function(e,t){this.id=Ti++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:ma,this.set=t?t.getSetter:os},Ho=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Ya(this,+e.duration,1,1),this.data=e.data,di&&(this._ctx=di,di.data.push(this)),bi||Ro.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Ya(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Po(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(ja(this,e),!n._dp||n.parent||Va(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Ha(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===Si||!this._initted&&this._dur&&e||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Sa(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Fa(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Fa(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Ua(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?za(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(eo(-Math.abs(this._delay),this.totalDuration(),n),!1!==t),Ba(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Po(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Si&&(this._tTime-=Si)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=ya(e);var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Ha(t,this,this._start-this._delay),this}return this._start},t.endTime=function(e){return this._start+(Oi(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?za(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=ia);var t=ui;return ui=e,wa(this)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),ui=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,Za(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,Za(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Ja(this,e),Oi(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,Oi(t)),this._dur||(this._zTime=-1e-8),this},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-Si))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this,n=t._prom;return new Promise(function(r){var i=ki(e)?e:Ea,a=function(){var e=t.then;t.then=null,n&&n(),ki(i)&&(i=i(t))&&(i.then||i===t)&&(t.then=e),r(i),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?a():t._prom=a})},t.kill=function(){vo(this)},e}();Ta(Ho.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Wo=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=Oi(t.sortChildren),hi&&Ha(t.parent||hi,si(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&Wa(si(r),t.scrollTrigger),r}li(t,e);var n=t.prototype;return n.to=function(e,t,n){return $a(0,arguments,this),this},n.from=function(e,t,n){return $a(1,arguments,this),this},n.fromTo=function(e,t,n,r){return $a(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,Pa(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new ts(e,t,Ja(this,n),1),this},n.call=function(e,t,n){return Ha(this,ts.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,a,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new ts(e,n,Ja(this,i)),this},n.staggerFrom=function(e,t,n,r,i,a,o){return n.runBackwards=1,Pa(n).immediateRender=Oi(n.immediateRender),this.staggerTo(e,t,n,r,i,a,o)},n.staggerFromTo=function(e,t,n,r,i,a,o,s){return r.startAt=n,Pa(r).immediateRender=Oi(r.immediateRender),this.staggerTo(e,t,r,i,a,o,s)},n.render=function(e,t,n){var r,i,a,o,s,l,c,u,d,h,f,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=e<=0?0:ya(e),b=this._zTime<0!==e<0&&(this._initted||!v);if(this!==hi&&y>g&&e>=0&&(y=g),y!==this._tTime||n||b){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),r=y,d=this._start,l=!(u=this._ts),b&&(v||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,s=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*s+e,t,n);if(r=ya(y%s),y===g?(o=this._repeat,r=v):((o=~~(h=ya(y/s)))&&o===h&&(r=v,o--),r>v&&(r=v)),h=Ua(this._tTime,s),!m&&this._tTime&&h!==o&&this._tTime-h*s-this._dur<=0&&(h=o),f&&1&o&&(r=v-r,p=1),o!==h&&!this._lock){var x=f&&1&h,_=x===(f&&1&o);if(o<h&&(x=!x),m=x?0:y%v?v:y,this._lock=1,this.render(m||(p?0:ya(o*s)),t,!v)._lock=0,this._tTime=y,!t&&this.parent&&go(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1,h=o),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,_&&(this._lock=2,m=x?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;Do(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,ya(m),ya(r)),c&&(y-=r-(r=c._start))),this._tTime=y,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&y&&v&&!t&&!h&&(go(this,"onStart"),this._tTime!==y))return this;if(r>=m&&e>=0)for(i=this._first;i;){if(a=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){c=0,a&&(y+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var w=e<0?e:r;i;){if(a=i._prev,(i._act||w<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(w-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(w-i._start)*i._ts,t,n||ui&&wa(i)),r!==this._time||!this._ts&&!l){c=0,a&&(y+=this._zTime=w?-1e-8:Si);break}}i=a}}if(c&&!t&&(this.pause(),c.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=d,Ba(this),this.render(e,t,n);this._onUpdate&&!t&&go(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(d!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&La(this,1),t||e<0&&!m||!y&&!m&&g||(go(this,y===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(Ni(t)||(t=Ja(this,t,e)),!(e instanceof Ho)){if(zi(e))return e.forEach(function(e){return n.add(e,t)}),this;if(Pi(e))return this.addLabel(e,t);if(!ki(e))return this;e=ts.delayedCall(0,e)}return this!==e?Ha(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-wi);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof ts?t&&i.push(a):(n&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,n)))),a=a._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return Pi(e)?this.removeLabel(e):ki(e)?this.killTweensOf(e):(e.parent===this&&Na(this,e),e===this._recent&&(this._recent=this._last),Ia(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ya(Ro.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=Ja(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=ts.delayedCall(0,t||ta,n);return r.data="isPause",this._hasPause=1,Ha(this,r,Ja(this,e))},n.removePause=function(e){var t=this._first;for(e=Ja(this,e);t;)t._start===e&&"isPause"===t.data&&La(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Go!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=io(e),a=this._first,o=Ni(t);a;)a instanceof ts?xa(a._targets,i)&&(o?(!Go||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&r.push(a):(n=a.getTweensOf(i,t)).length&&r.push.apply(r,n),a=a._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=Ja(r,e),a=t,o=a.startAt,s=a.onStart,l=a.onStartParams,c=a.immediateRender,u=ts.to(r,Ta({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||Si,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());u._dur!==e&&Ya(u,e,0,1).render(u._time,!0,!0),n=1}s&&s.apply(u,l||[])}},t));return c?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,Ta({startAt:{time:Ja(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),mo(this,Ja(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),mo(this,Ja(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+Si)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);var r,i=this._first,a=this.labels;for(e=ya(e);i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return Ia(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Ia(this)},n.totalDuration=function(e){var t,n,r,i=0,a=this,o=a._last,s=wi;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-e:e));if(a._dirty){for(r=a.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>s&&a._sort&&o._ts&&!a._lock?(a._lock=1,Ha(a,o,n-o._delay,1)._lock=0):s=n,n<0&&o._ts&&(i-=n,(!r&&!a._dp||r&&r.smoothChildTiming)&&(a._start+=ya(n/a._ts),a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-Infinity),s=0),o._end>i&&o._ts&&(i=o._end),o=t;Ya(a,a===hi&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(e){if(hi._ts&&(Sa(hi,za(e,hi)),vi=Ro.frame),Ro.frame>=ua){ua+=xi.autoSleep||120;var t=hi._first;if((!t||!t._ts)&&xi.autoSleep&&Ro._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||Ro.sleep()}}},t}(Ho);Ta(Wo.prototype,{_lock:0,_hasPause:0,_forcing:0});var Go,Xo,qo=function(e,t,n,r,i,a,o){var s,l,c,u,d,h,f,p,m=new ms(this._pt,e,t,0,1,cs,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=fo(r)),a&&(a(p=[n,r],e,t),n=p[0],r=p[1]),l=n.match(Gi)||[];s=Gi.exec(r);)u=s[0],d=r.substring(g,s.index),c?c=(c+1)%5:"rgba("===d.substr(-5)&&(c=1),u!==l[v++]&&(h=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:d||1===v?d:",",s:h,c:"="===u.charAt(1)?ba(h,u)-h:parseFloat(u)-h,m:c&&c<4?Math.round:0},g=Gi.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=o,(Xi.test(r)||f)&&(m.e=0),this._pt=m,m},Yo=function(e,t,n,r,i,a,o,s,l,c){ki(r)&&(r=r(i||0,e,a));var u,d=e[t],h="get"!==n?n:ki(d)?l?e[t.indexOf("set")||!ki(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():d,f=ki(d)?l?is:rs:ns;if(Pi(r)&&(~r.indexOf("random(")&&(r=fo(r)),"="===r.charAt(1)&&((u=ba(h,r)+(to(h)||0))||0===u)&&(r=u)),!c||h!==r||Xo)return isNaN(h*r)||""===r?(!d&&!(t in e)&&$i(t,r),qo.call(this,e,t,h,r,f,s||xi.stringFilter,l)):(u=new ms(this._pt,e,t,+h||0,r-(h||0),"boolean"===typeof d?ls:ss,0,f),l&&(u.fp=l),o&&u.modifier(o,this,e),this._pt=u)},Zo=function(e,t,n,r,i,a){var o,s,l,c;if(la[e]&&!1!==(o=new la[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(ki(e)&&(e=$o(e,i,t,n,r)),!Ii(e)||e.style&&e.nodeType||zi(e)||Ui(e))return Pi(e)?$o(e,i,t,n,r):e;var a,o={};for(a in e)o[a]=$o(e[a],i,t,n,r);return o}(t[e],r,i,a,n),n,r,a)&&(n._pt=s=new ms(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==yi))for(l=n._ptLookup[n._targets.indexOf(i)],c=o._props.length;c--;)l[o._props[c]]=s;return o},Ko=function e(t,n,r){var i,a,o,s,l,c,u,d,h,f,p,m,g,v=t.vars,y=v.ease,b=v.startAt,x=v.immediateRender,_=v.lazy,w=v.onUpdate,S=v.runBackwards,M=v.yoyoEase,E=v.keyframes,T=v.autoRevert,C=t._dur,A=t._startAt,R=t._targets,P=t.parent,k=P&&"nested"===P.data?P.vars.targets:R,N="auto"===t._overwrite&&!ci,L=t.timeline;if(L&&(!E||!y)&&(y="none"),t._ease=Fo(y,_i.ease),t._yEase=M?Oo(Fo(!0===M?y:M,_i.ease)):0,M&&t._yoyo&&!t._repeat&&(M=t._yEase,t._yEase=t._ease,t._ease=M),t._from=!L&&!!v.runBackwards,!L||E&&!v.stagger){if(m=(d=R[0]?pa(R[0]).harness:0)&&v[d.prop],i=Ra(v,aa),A&&(A._zTime<0&&A.progress(1),n<0&&S&&x&&!T?A.render(-1,!0):A.revert(S&&C?ra:na),A._lazy=0),b){if(La(t._startAt=ts.set(R,Ta({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:!A&&Oi(_),startAt:null,delay:0,onUpdate:w&&function(){return go(t,"onUpdate")},stagger:0},b))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(ui||!x&&!T)&&t._startAt.revert(ra),x&&C&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(S&&C&&!A)if(n&&(x=!1),o=Ta({overwrite:!1,data:"isFromStart",lazy:x&&!A&&Oi(_),immediateRender:x,stagger:0,parent:P},i),m&&(o[d.prop]=m),La(t._startAt=ts.set(R,o)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(ui?t._startAt.revert(ra):t._startAt.render(-1,!0)),t._zTime=n,x){if(!n)return}else e(t._startAt,Si,Si);for(t._pt=t._ptCache=0,_=C&&Oi(_)||_&&!C,a=0;a<R.length;a++){if(u=(l=R[a])._gsap||fa(R)[a]._gsap,t._ptLookup[a]=f={},sa[u.id]&&oa.length&&_a(),p=k===R?a:k.indexOf(l),d&&!1!==(h=new d).init(l,m||i,t,p,k)&&(t._pt=s=new ms(t._pt,l,h.name,0,1,h.render,h,0,h.priority),h._props.forEach(function(e){f[e]=s}),h.priority&&(c=1)),!d||m)for(o in i)la[o]&&(h=Zo(o,i,t,p,l,k))?h.priority&&(c=1):f[o]=s=Yo.call(t,l,o,"get",i[o],p,k,0,v.stringFilter);t._op&&t._op[a]&&t.kill(l,t._op[a]),N&&t._pt&&(Go=t,hi.killTweensOf(l,f,t.globalTime(n)),g=!t.parent,Go=0),t._pt&&_&&(sa[u.id]=1)}c&&ps(t),t._onInit&&t._onInit(t)}t._onUpdate=w,t._initted=(!t._op||t._pt)&&!g,E&&n<=0&&L.render(wi,!0,!0)},Jo=function(e,t,n,r){var i,a,o=t.ease||r||"power1.inOut";if(zi(t))a=n[e]||(n[e]=[]),t.forEach(function(e,n){return a.push({t:n/(t.length-1)*100,v:e,e:o})});else for(i in t)a=n[i]||(n[i]=[]),"ease"===i||a.push({t:parseFloat(e),v:t[i],e:o})},$o=function(e,t,n,r,i){return ki(e)?e.call(t,n,r,i):Pi(e)&&~e.indexOf("random(")?fo(e):e},Qo=ha+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",es={};ga(Qo+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return es[e]=1});var ts=function(e){function t(t,n,r,i){var a;"number"===typeof n&&(r.duration=n,n=r,r=null);var o,s,l,c,u,d,h,f,p=(a=e.call(this,i?n:Pa(n))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,b=p.overwrite,x=p.keyframes,_=p.defaults,w=p.scrollTrigger,S=p.yoyoEase,M=n.parent||hi,E=(zi(t)||Ui(t)?Ni(t[0]):"length"in n)?[t]:io(t);if(a._targets=E.length?fa(E):Qi("GSAP target "+t+" not found. https://gsap.com",!xi.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=b,x||y||Fi(m)||Fi(g)){if(n=a.vars,(o=a.timeline=new Wo({data:"nested",defaults:_||{},targets:M&&"nested"===M.data?M.vars.targets:E})).kill(),o.parent=o._dp=si(a),o._start=0,y||Fi(m)||Fi(g)){if(c=E.length,h=y&&so(y),Ii(y))for(u in y)~Qo.indexOf(u)&&(f||(f={}),f[u]=y[u]);for(s=0;s<c;s++)(l=Ra(n,es)).stagger=0,S&&(l.yoyoEase=S),f&&Ca(l,f),d=E[s],l.duration=+$o(m,si(a),s,d,E),l.delay=(+$o(g,si(a),s,d,E)||0)-a._delay,!y&&1===c&&l.delay&&(a._delay=g=l.delay,a._start+=g,l.delay=0),o.to(d,l,h?h(s,d,E):0),o._ease=ko.none;o.duration()?m=g=0:a.timeline=0}else if(x){Pa(Ta(o.vars.defaults,{ease:"none"})),o._ease=Fo(x.ease||n.ease||"none");var T,C,A,R=0;if(zi(x))x.forEach(function(e){return o.to(E,e,">")}),o.duration();else{for(u in l={},x)"ease"===u||"easeEach"===u||Jo(u,x[u],l,x.easeEach);for(u in l)for(T=l[u].sort(function(e,t){return e.t-t.t}),R=0,s=0;s<T.length;s++)(A={ease:(C=T[s]).e,duration:(C.t-(s?T[s-1].t:0))/100*m})[u]=C.v,o.to(E,A,R),R+=A.duration;o.duration()<m&&o.to({},{duration:m-o.duration()})}}m||a.duration(m=o.duration())}else a.timeline=0;return!0!==b||ci||(Go=si(a),hi.killTweensOf(E),Go=0),Ha(M,si(a),r),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(v||!m&&!x&&a._start===ya(M._time)&&Oi(v)&&Da(si(a))&&"nested"!==M.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-g)||0)),w&&Wa(si(a),w),a}li(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,a,o,s,l,c,u,d,h=this._time,f=this._tDur,p=this._dur,m=e<0,g=e>f-Si&&!m?f:e<Si?0:e;if(p){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(r=g,u=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*o+e,t,n);if(r=ya(g%o),g===f?(a=this._repeat,r=p):(a=~~(s=ya(g/o)))&&a===s?(r=p,a--):r>p&&(r=p),(l=this._yoyo&&1&a)&&(d=this._yEase,r=p-r),s=Ua(this._tTime,o),r===h&&!n&&this._initted&&a===s)return this._tTime=g,this;a!==s&&(u&&this._yEase&&Do(u,l),this.vars.repeatRefresh&&!l&&!this._lock&&r!==o&&this._initted&&(this._lock=n=1,this.render(ya(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(Ga(this,m?e:r,n,t,g))return this._tTime=0,this;if(h!==this._time&&(!n||!this.vars.repeatRefresh||a===s))return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(d||this._ease)(r/p),this._from&&(this.ratio=c=1-c),!h&&g&&!t&&!s&&(go(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(e<0?e:u._dur*u._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Oa(this,e,0,n),go(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&go(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&Oa(this,e,0,!0),(e||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&La(this,1),t||m&&!h||!(g||h||l)||(go(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,a,o,s=e.ratio,l=t<0||!t&&(!e._start&&Xa(e)&&(e._initted||!qa(e))||(e._ts<0||e._dp._ts<0)&&!qa(e))?0:1,c=e._rDelay,u=0;if(c&&e._repeat&&(u=eo(0,e._tDur,t),a=Ua(u,c),e._yoyo&&1&a&&(l=1-l),a!==Ua(e._tTime,c)&&(s=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==s||ui||r||e._zTime===Si||!t&&e._zTime){if(!e._initted&&Ga(e,t,r,n,u))return;for(o=e._zTime,e._zTime=t||(n?Si:0),n||(n=t&&!o),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=u,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&Oa(e,t,0,!0),e._onUpdate&&!n&&go(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&go(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&La(e,1),n||ui||(go(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){bi||Ro.wake(),this._ts||this.play();var a=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Ko(this,a),function(e,t,n,r,i,a,o,s){var l,c,u,d,h=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!h)for(h=e._ptCache[t]=[],u=e._ptLookup,d=e._targets.length;d--;){if((l=u[d][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return Xo=1,e.vars[t]="+=0",Ko(e,o),Xo=0,s?Qi(t+" not eligible for reset"):1;h.push(l)}for(d=h.length;d--;)(l=(c=h[d])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+a*l.c:r,l.c=n-l.s,c.e&&(c.e=va(n)+to(c.e)),c.b&&(c.b=l.s+to(c.b))}(this,e,t,n,r,this._ease(a/this._dur),a,i)?this.resetTo(e,t,n,r,1):(ja(this,0),this.parent||ka(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?vo(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ui),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Go&&!0!==Go.vars.overwrite)._first||vo(this),this.parent&&n!==this.timeline.totalDuration()&&Ya(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,a,o,s,l,c,u=this._targets,d=e?io(e):u,h=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,d))return"all"===t&&(this._pt=0),vo(this);for(r=this._op=this._op||[],"all"!==t&&(Pi(t)&&(s={},ga(t,function(e){return s[e]=1}),t=s),t=function(e,t){var n,r,i,a,o=e[0]?pa(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(r in n=Ca({},t),s)if(r in n)for(i=(a=s[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~d.indexOf(u[c]))for(s in i=h[c],"all"===t?(r[c]=t,o=i,a={}):(a=r[c]=r[c]||{},o=t),o)(l=i&&i[s])&&("kill"in l.d&&!0!==l.d.kill(s)||Na(this,l,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&f&&vo(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return $a(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return $a(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return hi.killTweensOf(e,t,n)},t}(Ho);Ta(ts.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ga("staggerTo,staggerFrom,staggerFromTo",function(e){ts[e]=function(){var t=new Wo,n=no.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}});var ns=function(e,t,n){return e[t]=n},rs=function(e,t,n){return e[t](n)},is=function(e,t,n,r){return e[t](r.fp,n)},as=function(e,t,n){return e.setAttribute(t,n)},os=function(e,t){return ki(e[t])?rs:Li(e[t])&&e.setAttribute?as:ns},ss=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},ls=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},cs=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},us=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},ds=function(e,t,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(e,t,n),a=i},hs=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Na(this,r,"_pt"):r.dep||(t=1),r=n;return!t},fs=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},ps=function(e){for(var t,n,r,i,a=e._pt;a;){for(t=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=t}e._pt=r},ms=function(){function e(e,t,n,r,i,a,o,s,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=a||ss,this.d=o||this,this.set=s||ns,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=fs,this.m=e,this.mt=n,this.tween=t},e}();ga(ha+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return aa[e]=1}),Zi.TweenMax=Zi.TweenLite=ts,Zi.TimelineLite=Zi.TimelineMax=Wo,hi=new Wo({sortChildren:!1,defaults:_i,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),xi.stringFilter=Ao;var gs=[],vs={},ys=[],bs=0,xs=0,_s=function(e){return(vs[e]||ys).map(function(e){return e()})},ws=function(){var e=Date.now(),t=[];e-bs>2&&(_s("matchMediaInit"),gs.forEach(function(e){var n,r,i,a,o=e.queries,s=e.conditions;for(r in o)(n=fi.matchMedia(o[r]).matches)&&(i=1),n!==s[r]&&(s[r]=n,a=1);a&&(e.revert(),i&&t.push(e))}),_s("matchMediaRevert"),t.forEach(function(e){return e.onMatch(e,function(t){return e.add(null,t)})}),bs=e,_s("matchMedia"))},Ss=function(){function e(e,t){this.selector=t&&ao(t),this.data=[],this._r=[],this.isReverted=!1,this.id=xs++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){ki(e)&&(n=t,t=e,e=ki);var r=this,i=function(){var e,i=di,a=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=ao(n)),di=r,e=t.apply(r,arguments),ki(e)&&r._r.push(e),di=i,r.selector=a,r.isReverted=!1,e};return r.last=i,e===ki?i(r,function(e){return r.add(null,e)}):e?r[e]=i:i},t.ignore=function(e){var t=di;di=null,e(this),di=t},t.getTweens=function(){var t=[];return this.data.forEach(function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof ts&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)}),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach(function(e){return r.splice(r.indexOf(e),1)}));for(r.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,t){return t.g-e.g||-1/0}).forEach(function(t){return t.t.revert(e)}),i=n.data.length;i--;)(t=n.data[i])instanceof Wo?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof ts)&&t.revert&&t.revert(e);n._r.forEach(function(t){return t(e,n)}),n.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),t)for(var r=gs.length;r--;)gs[r].id===this.id&&gs.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),Ms=function(){function e(e){this.contexts=[],this.scope=e,di&&di.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){Ii(e)||(e={matches:e});var r,i,a,o=new Ss(0,n||this.scope),s=o.conditions={};for(i in di&&!o.selector&&(o.selector=di.selector),this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===i?a=1:(r=fi.matchMedia(e[i]))&&(gs.indexOf(o)<0&&gs.push(o),(s[i]=r.matches)&&(a=1),r.addListener?r.addListener(ws):r.addEventListener("change",ws));return a&&t(o,function(e){return o.add(null,e)}),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach(function(t){return t.kill(e,!0)})},e}(),Es={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return bo(e)})},timeline:function(e){return new Wo(e)},getTweensOf:function(e,t){return hi.getTweensOf(e,t)},getProperty:function(e,t,n,r){Pi(e)&&(e=io(e)[0]);var i=pa(e||{}).get,a=n?Ea:Ma;return"native"===n&&(n=""),e?t?a((la[t]&&la[t].get||i)(e,t,n,r)):function(t,n,r){return a((la[t]&&la[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=io(e)).length>1){var r=e.map(function(e){return As.quickSetter(e,t,n)}),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var a=la[t],o=pa(e),s=o.harness&&(o.harness.aliases||{})[t]||t,l=a?function(t){var r=new a;yi._pt=0,r.init(e,n?t+n:t,yi,0,[e]),r.render(1,r),yi._pt&&us(1,yi)}:o.set(e,s);return a?l:function(t){return l(e,s,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=As.to(e,Ta(((r={})[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),a=function(e,n,r){return i.resetTo(t,e,n,r)};return a.tween=i,a},isTweening:function(e){return hi.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Fo(e.ease,_i.ease)),Aa(_i,e||{})},config:function(e){return Aa(xi,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(e){return e&&!la[e]&&!Zi[e]&&Qi(t+" effect requires "+e+" plugin.")}),ca[t]=function(e,t,r){return n(io(e),Ta(t||{},i),r)},a&&(Wo.prototype[t]=function(e,n,r){return this.add(ca[t](e,Ii(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){ko[e]=Fo(t)},parseEase:function(e,t){return arguments.length?Fo(e,t):ko},getById:function(e){return hi.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new Wo(e);for(i.smoothChildTiming=Oi(e.smoothChildTiming),hi.remove(i),i._dp=0,i._time=i._tTime=hi._time,n=hi._first;n;)r=n._next,!t&&!n._dur&&n instanceof ts&&n.vars.onComplete===n._targets[0]||Ha(i,n,n._start-n._delay),n=r;return Ha(hi,i,0),i},context:function(e,t){return e?new Ss(e,t):di},matchMedia:function(e){return new Ms(e)},matchMediaRefresh:function(){return gs.forEach(function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()})||ws()},addEventListener:function(e,t){var n=vs[e]||(vs[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=vs[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return zi(t)?ho(t,e(0,t.length),n):Qa(r,function(e){return(i+(e-t)%i)%i+t})},wrapYoyo:function e(t,n,r){var i=n-t,a=2*i;return zi(t)?ho(t,e(0,t.length-1),n):Qa(r,function(e){return t+((e=(a+(e-t)%a)%a||0)>i?a-e:e)})},distribute:so,random:uo,snap:co,normalize:function(e,t,n){return po(e,t,0,1,n)},getUnit:to,clamp:function(e,t,n){return Qa(n,function(n){return eo(e,t,n)})},splitColor:So,toArray:io,selector:ao,mapRange:po,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||to(n))}},interpolate:function e(t,n,r,i){var a=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!a){var o,s,l,c,u,d=Pi(t),h={};if(!0===r&&(i=1)&&(r=null),d)t={p:t},n={p:n};else if(zi(t)&&!zi(n)){for(l=[],c=t.length,u=c-2,s=1;s<c;s++)l.push(e(t[s-1],t[s]));c--,a=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=Ca(zi(t)?[]:{},t));if(!l){for(o in n)Yo.call(h,t,o,"get",n[o]);a=function(e){return us(e,h)||(d?t.p:t)}}}return Qa(r,a)},shuffle:oo},install:Ji,effects:ca,ticker:Ro,updateRoot:Wo.updateRoot,plugins:la,globalTimeline:hi,core:{PropTween:ms,globals:ea,Tween:ts,Timeline:Wo,Animation:Ho,getCache:pa,_removeLinkedListItem:Na,reverting:function(){return ui},context:function(e){return e&&di&&(di.data.push(e),e._ctx=di),di},suppressOverwrites:function(e){return ci=e}}};ga("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Es[e]=ts[e]}),Ro.add(Wo.updateRoot),yi=Es.to({},{duration:0});var Ts=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Cs=function(e,t){return{name:e,headless:1,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(Pi(n)&&(r={},ga(n,function(e){return r[e]=1}),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,a=e._targets;for(n in t)for(r=a.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=Ts(i,n)),i&&i.modifier&&i.modifier(t[n],e,a[r],n))}(e,n)}}}},As=Es.registerPlugin({name:"attr",init:function(e,t,n,r,i){var a,o,s;for(a in this.tween=n,t)s=e.getAttribute(a)||"",(o=this.add(e,"setAttribute",(s||0)+"",t[a],r,i,0,0,a)).op=a,o.b=s,this._props.push(a)},render:function(e,t){for(var n=t._pt;n;)ui?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Cs("roundProps",lo),Cs("modifiers"),Cs("snap",co))||Es;ts.version=Wo.version=As.version="3.14.2",gi=1,Di()&&Po();ko.Power0,ko.Power1,ko.Power2,ko.Power3,ko.Power4,ko.Linear,ko.Quad,ko.Cubic,ko.Quart,ko.Quint,ko.Strong,ko.Elastic,ko.Back,ko.SteppedEase,ko.Bounce,ko.Sine,ko.Expo,ko.Circ;var Rs,Ps,ks,Ns,Ls,Is,Os,Ds,Fs={},Us=180/Math.PI,zs=Math.PI/180,Bs=Math.atan2,js=/([A-Z])/g,Vs=/(left|right|width|margin|padding|x)/i,Hs=/[\s,\(]\S/,Ws={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Gs=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Xs=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},qs=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Ys=function(e,t){return t.set(t.t,t.p,1===e?t.e:e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Zs=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},Ks=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Js=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},$s=function(e,t,n){return e.style[t]=n},Qs=function(e,t,n){return e.style.setProperty(t,n)},el=function(e,t,n){return e._gsap[t]=n},tl=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},nl=function(e,t,n,r,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},rl=function(e,t,n,r,i){var a=e._gsap;a[t]=n,a.renderTransform(i,a)},il="transform",al=il+"Origin",ol=function e(t,n){var r=this,i=this.target,a=i.style,o=i._gsap;if(t in Fs&&a){if(this.tfm=this.tfm||{},"transform"===t)return Ws.transform.split(",").forEach(function(t){return e.call(r,t,n)});if(~(t=Ws[t]||t).indexOf(",")?t.split(",").forEach(function(e){return r.tfm[e]=Ml(i,e)}):this.tfm[t]=o.x?o[t]:Ml(i,t),t===al&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(il)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(al,n,"")),t=il}(a||n)&&this.props.push(t,n,a[t])},sl=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},ll=function(){var e,t,n=this.props,r=this.target,i=r.style,a=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?2===n[e+1]?r[n[e]](n[e+2]):r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(js,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)a[t]=this.tfm[t];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=Os())&&e.isStart||i[il]||(sl(i),a.zOrigin&&i[al]&&(i[al]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},cl=function(e,t){var n={target:e,props:[],revert:ll,save:ol};return e._gsap||As.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(e){return n.save(e)}),n},ul=function(e,t){var n=Ps.createElementNS?Ps.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ps.createElement(e);return n&&n.style?n:Ps.createElement(e)},dl=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(js,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,fl(n)||n,1)||""},hl="O,Moz,ms,Ms,Webkit".split(","),fl=function(e,t,n){var r=(t||Ls).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(hl[i]+e in r););return i<0?null:(3===i?"ms":i>=0?hl[i]:"")+e},pl=function(){"undefined"!==typeof window&&window.document&&(Rs=window,Ps=Rs.document,ks=Ps.documentElement,Ls=ul("div")||{style:{}},ul("div"),il=fl(il),al=il+"Origin",Ls.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ds=!!fl("perspective"),Os=As.core.reverting,Ns=1)},ml=function(e){var t,n=e.ownerSVGElement,r=ul("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0);i.style.display="block",r.appendChild(i),ks.appendChild(r);try{t=i.getBBox()}catch(dX){}return r.removeChild(i),ks.removeChild(r),t},gl=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},vl=function(e){var t,n;try{t=e.getBBox()}catch(Rg){t=ml(e),n=1}return t&&(t.width||t.height)||n||(t=ml(e)),!t||t.width||t.x||t.y?t:{x:+gl(e,["x","cx","x1"])||0,y:+gl(e,["y","cy","y1"])||0,width:0,height:0}},yl=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!vl(e))},bl=function(e,t){if(t){var n,r=e.style;t in Fs&&t!==al&&(t=il),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(js,"-$1").toLowerCase())):r.removeAttribute(t)}},xl=function(e,t,n,r,i,a){var o=new ms(e._pt,t,n,0,1,a?Js:Ks);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},_l={deg:1,rad:1,turn:1},wl={grid:1,flex:1},Sl=function e(t,n,r,i){var a,o,s,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",d=Ls.style,h=Vs.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(h?"Width":"Height"),m=100,g="px"===i,v="%"===i;if(i===u||!c||_l[i]||_l[u])return c;if("px"!==u&&!g&&(c=e(t,n,r,"px")),l=t.getCTM&&yl(t),(v||"%"===u)&&(Fs[n]||~n.indexOf("adius")))return a=l?t.getBBox()[h?"width":"height"]:t[p],va(v?c/a*m:c/100*a);if(d[h?"width":"height"]=m+(g?u:i),o="rem"!==i&&~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==Ps&&o.appendChild||(o=Ps.body),(s=o._gsap)&&v&&s.width&&h&&s.time===Ro.time&&!s.uncache)return va(c/s.width*m);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!wl[dl(o,"display")]&&(d.position=dl(t,"position")),o===t&&(d.position="static"),o.appendChild(Ls),a=Ls[p],o.removeChild(Ls),d.position="absolute";else{var y=t.style[n];t.style[n]=m+i,a=t[p],y?t.style[n]=y:bl(t,n)}return h&&v&&((s=pa(o)).time=Ro.time,s.width=o[p]),va(g?a*c/m:a&&c?m/a*c:0)},Ml=function(e,t,n,r){var i;return Ns||pl(),t in Ws&&"transform"!==t&&~(t=Ws[t]).indexOf(",")&&(t=t.split(",")[0]),Fs[t]&&"transform"!==t?(i=Dl(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:Fl(dl(e,al))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=Rl[t]&&Rl[t](e,t,n)||dl(e,t)||ma(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?Sl(e,t,i,n)+n:i},El=function(e,t,n,r){if(!n||"none"===n){var i=fl(t,e,1),a=i&&dl(e,i,1);a&&a!==n?(t=i,n=a):"borderColor"===t&&(n=dl(e,"borderTopColor"))}var o,s,l,c,u,d,h,f,p,m,g,v=new ms(this._pt,e.style,t,0,1,cs),y=0,b=0;if(v.b=n,v.e=r,n+="","var(--"===(r+="").substring(0,6)&&(r=dl(e,r.substring(4,r.indexOf(")")))),"auto"===r&&(d=e.style[t],e.style[t]=r,r=dl(e,t)||r,d?e.style[t]=d:bl(e,t)),Ao(o=[n,r]),r=o[1],l=(n=o[0]).match(Wi)||[],(r.match(Wi)||[]).length){for(;s=Wi.exec(r);)h=s[0],p=r.substring(y,s.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),h!==(d=l[b++]||"")&&(c=parseFloat(d)||0,g=d.substr((c+"").length),"="===h.charAt(1)&&(h=ba(c,h)+g),f=parseFloat(h),m=h.substr((f+"").length),y=Wi.lastIndex-m.length,m||(m=m||xi.units[t]||g,y===r.length&&(r+=m,v.e+=m)),g!==m&&(c=Sl(e,t,d,m)||0),v._pt={_next:v._pt,p:p||1===b?p:",",s:c,c:f-c,m:u&&u<4||"zIndex"===t?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===t&&"none"===r?Js:Ks;return Xi.test(r)&&(v.e=0),this._pt=v,v},Tl={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Cl=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=Tl[n]||n,t[1]=Tl[r]||r,t.join(" ")},Al=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,a=t.t,o=a.style,s=t.u,l=a._gsap;if("all"===s||!0===s)o.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],Fs[n]&&(r=1,n="transformOrigin"===n?al:il),bl(a,n);r&&(bl(a,il),l&&(l.svg&&a.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",Dl(a,1),l.uncache=1,sl(o)))}},Rl={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var a=e._pt=new ms(e._pt,t,n,0,0,Al);return a.u=r,a.pr=-10,a.tween=i,e._props.push(n),1}}},Pl=[1,0,0,1,0,0],kl={},Nl=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Ll=function(e){var t=dl(e,il);return Nl(t)?Pl:t.substr(7).match(Hi).map(va)},Il=function(e,t){var n,r,i,a,o=e._gsap||pa(e),s=e.style,l=Ll(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Pl:l:(l!==Pl||e.offsetParent||e===ks||o.svg||(i=s.display,s.display="block",(n=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(a=1,r=e.nextElementSibling,ks.appendChild(e)),l=Ll(e),i?s.display=i:bl(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):ks.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Ol=function(e,t,n,r,i,a){var o,s,l,c=e._gsap,u=i||Il(e,!0),d=c.xOrigin||0,h=c.yOrigin||0,f=c.xOffset||0,p=c.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],b=u[4],x=u[5],_=t.split(" "),w=parseFloat(_[0])||0,S=parseFloat(_[1])||0;n?u!==Pl&&(s=m*y-g*v)&&(l=w*(-g/s)+S*(m/s)-(m*x-g*b)/s,w=w*(y/s)+S*(-v/s)+(v*x-y*b)/s,S=l):(w=(o=vl(e)).x+(~_[0].indexOf("%")?w/100*o.width:w),S=o.y+(~(_[1]||_[0]).indexOf("%")?S/100*o.height:S)),r||!1!==r&&c.smooth?(b=w-d,x=S-h,c.xOffset=f+(b*m+x*v)-b,c.yOffset=p+(b*g+x*y)-x):c.xOffset=c.yOffset=0,c.xOrigin=w,c.yOrigin=S,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[al]="0px 0px",a&&(xl(a,c,"xOrigin",d,w),xl(a,c,"yOrigin",h,S),xl(a,c,"xOffset",f,c.xOffset),xl(a,c,"yOffset",p,c.yOffset)),e.setAttribute("data-svg-origin",w+" "+S)},Dl=function(e,t){var n=e._gsap||new Vo(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,a,o,s,l,c,u,d,h,f,p,m,g,v,y,b,x,_,w,S,M,E,T,C,A,R,P,k,N,L,I,O=e.style,D=n.scaleX<0,F="px",U="deg",z=getComputedStyle(e),B=dl(e,al)||"0";return r=i=a=l=c=u=d=h=f=0,o=s=1,n.svg=!(!e.getCTM||!yl(e)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(O[il]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[il]?z[il]:"")),O.scale=O.rotate=O.translate="none"),g=Il(e,n.svg),n.svg&&(n.uncache?(C=e.getBBox(),B=n.xOrigin-C.x+"px "+(n.yOrigin-C.y)+"px",T=""):T=!t&&e.getAttribute("data-svg-origin"),Ol(e,T||B,!!T||n.originIsAbsolute,!1!==n.smooth,g)),p=n.xOrigin||0,m=n.yOrigin||0,g!==Pl&&(x=g[0],_=g[1],w=g[2],S=g[3],r=M=g[4],i=E=g[5],6===g.length?(o=Math.sqrt(x*x+_*_),s=Math.sqrt(S*S+w*w),l=x||_?Bs(_,x)*Us:0,(d=w||S?Bs(w,S)*Us+l:0)&&(s*=Math.abs(Math.cos(d*zs))),n.svg&&(r-=p-(p*x+m*w),i-=m-(p*_+m*S))):(I=g[6],N=g[7],R=g[8],P=g[9],k=g[10],L=g[11],r=g[12],i=g[13],a=g[14],c=(v=Bs(I,k))*Us,v&&(T=M*(y=Math.cos(-v))+R*(b=Math.sin(-v)),C=E*y+P*b,A=I*y+k*b,R=M*-b+R*y,P=E*-b+P*y,k=I*-b+k*y,L=N*-b+L*y,M=T,E=C,I=A),u=(v=Bs(-w,k))*Us,v&&(y=Math.cos(-v),L=S*(b=Math.sin(-v))+L*y,x=T=x*y-R*b,_=C=_*y-P*b,w=A=w*y-k*b),l=(v=Bs(_,x))*Us,v&&(T=x*(y=Math.cos(v))+_*(b=Math.sin(v)),C=M*y+E*b,_=_*y-x*b,E=E*y-M*b,x=T,M=C),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),o=va(Math.sqrt(x*x+_*_+w*w)),s=va(Math.sqrt(E*E+I*I)),v=Bs(M,E),d=Math.abs(v)>2e-4?v*Us:0,f=L?1/(L<0?-L:L):0),n.svg&&(T=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Nl(dl(e,il)),T&&e.setAttribute("transform",T))),Math.abs(d)>90&&Math.abs(d)<270&&(D?(o*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,d+=d<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+F,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+F,n.z=a+F,n.scaleX=va(o),n.scaleY=va(s),n.rotation=va(l)+U,n.rotationX=va(c)+U,n.rotationY=va(u)+U,n.skewX=d+U,n.skewY=h+U,n.transformPerspective=f+F,(n.zOrigin=parseFloat(B.split(" ")[2])||!t&&n.zOrigin||0)&&(O[al]=Fl(B)),n.xOffset=n.yOffset=0,n.force3D=xi.force3D,n.renderTransform=n.svg?Wl:Ds?Hl:zl,n.uncache=0,n},Fl=function(e){return(e=e.split(" "))[0]+" "+e[1]},Ul=function(e,t,n){var r=to(t);return va(parseFloat(t)+parseFloat(Sl(e,"x",n+"px",r)))+r},zl=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Hl(e,t)},Bl="0deg",jl="0px",Vl=") ",Hl=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,d=n.skewX,h=n.skewY,f=n.scaleX,p=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,b="",x="auto"===g&&e&&1!==e||!0===g;if(y&&(u!==Bl||c!==Bl)){var _,w=parseFloat(c)*zs,S=Math.sin(w),M=Math.cos(w);w=parseFloat(u)*zs,_=Math.cos(w),a=Ul(v,a,S*_*-y),o=Ul(v,o,-Math.sin(w)*-y),s=Ul(v,s,M*_*-y+y)}m!==jl&&(b+="perspective("+m+Vl),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(x||a!==jl||o!==jl||s!==jl)&&(b+=s!==jl||x?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+Vl),l!==Bl&&(b+="rotate("+l+Vl),c!==Bl&&(b+="rotateY("+c+Vl),u!==Bl&&(b+="rotateX("+u+Vl),d===Bl&&h===Bl||(b+="skew("+d+", "+h+Vl),1===f&&1===p||(b+="scale("+f+", "+p+Vl),v.style[il]=b||"translate(0, 0)"},Wl=function(e,t){var n,r,i,a,o,s=t||this,l=s.xPercent,c=s.yPercent,u=s.x,d=s.y,h=s.rotation,f=s.skewX,p=s.skewY,m=s.scaleX,g=s.scaleY,v=s.target,y=s.xOrigin,b=s.yOrigin,x=s.xOffset,_=s.yOffset,w=s.forceCSS,S=parseFloat(u),M=parseFloat(d);h=parseFloat(h),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),h+=p),h||f?(h*=zs,f*=zs,n=Math.cos(h)*m,r=Math.sin(h)*m,i=Math.sin(h-f)*-g,a=Math.cos(h-f)*g,f&&(p*=zs,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),a*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=va(n),r=va(r),i=va(i),a=va(a)):(n=m,a=g,r=i=0),(S&&!~(u+"").indexOf("px")||M&&!~(d+"").indexOf("px"))&&(S=Sl(v,"x",u,"px"),M=Sl(v,"y",d,"px")),(y||b||x||_)&&(S=va(S+y-(y*n+b*i)+x),M=va(M+b-(y*r+b*a)+_)),(l||c)&&(o=v.getBBox(),S=va(S+l/100*o.width),M=va(M+c/100*o.height)),o="matrix("+n+","+r+","+i+","+a+","+S+","+M+")",v.setAttribute("transform",o),w&&(v.style[il]=o)},Gl=function(e,t,n,r,i){var a,o,s=360,l=Pi(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?Us:1)-r,u=r+c+"deg";return l&&("short"===(a=i.split("_")[1])&&(c%=s)!==c%180&&(c+=c<0?s:-360),"cw"===a&&c<0?c=(c+36e9)%s-~~(c/s)*s:"ccw"===a&&c>0&&(c=(c-36e9)%s-~~(c/s)*s)),e._pt=o=new ms(e._pt,t,n,r,c,Xs),o.e=u,o.u="deg",e._props.push(n),o},Xl=function(e,t){for(var n in t)e[n]=t[n];return e},ql=function(e,t,n){var r,i,a,o,s,l,c,u=Xl({},n._gsap),d=n.style;for(i in u.svg?(a=n.getAttribute("transform"),n.setAttribute("transform",""),d[il]=t,r=Dl(n,1),bl(n,il),n.setAttribute("transform",a)):(a=getComputedStyle(n)[il],d[il]=t,r=Dl(n,1),d[il]=a),Fs)(a=u[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=to(a)!==(c=to(o))?Sl(n,i,a,c):parseFloat(a),l=parseFloat(o),e._pt=new ms(e._pt,r,i,s,l-s,Gs),e._pt.u=c||0,e._props.push(i));Xl(r,u)};ga("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",a="Left",o=(t<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map(function(n){return t<2?e+n:"border"+n+e});Rl[t>1?"border"+e:e]=function(e,t,n,r,i){var a,s;if(arguments.length<4)return a=o.map(function(t){return Ml(e,t,n)}),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(r+"").split(" "),s={},o.forEach(function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]}),e.init(t,s,i)}});var Yl={name:"css",register:pl,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var a,o,s,l,c,u,d,h,f,p,m,g,v,y,b,x,_,w=this._props,S=e.style,M=n.vars.startAt;for(d in Ns||pl(),this.styles=this.styles||cl(e),x=this.styles.props,this.tween=n,t)if("autoRound"!==d&&(o=t[d],!la[d]||!Zo(d,t,n,r,e,i)))if(c=typeof o,u=Rl[d],"function"===c&&(c=typeof(o=o.call(n,r,e,i))),"string"===c&&~o.indexOf("random(")&&(o=fo(o)),u)u(this,e,d,o,n)&&(b=1);else if("--"===d.substr(0,2))a=(getComputedStyle(e).getPropertyValue(d)+"").trim(),o+="",To.lastIndex=0,To.test(a)||(h=to(a),(f=to(o))?h!==f&&(a=Sl(e,d,a,f)+f):h&&(o+=h)),this.add(S,"setProperty",a,o,r,i,0,0,d),w.push(d),x.push(d,0,S[d]);else if("undefined"!==c){if(M&&d in M?(a="function"===typeof M[d]?M[d].call(n,r,e,i):M[d],Pi(a)&&~a.indexOf("random(")&&(a=fo(a)),to(a+"")||"auto"===a||(a+=xi.units[d]||to(Ml(e,d))||""),"="===(a+"").charAt(1)&&(a=Ml(e,d))):a=Ml(e,d),l=parseFloat(a),(p="string"===c&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),s=parseFloat(o),d in Ws&&("autoAlpha"===d&&(1===l&&"hidden"===Ml(e,"visibility")&&s&&(l=0),x.push("visibility",0,S.visibility),xl(this,S,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==d&&"transform"!==d&&~(d=Ws[d]).indexOf(",")&&(d=d.split(",")[0])),m=d in Fs){if(this.styles.save(d),_=o,"string"===c&&"var(--"===o.substring(0,6)){if("calc("===(o=dl(e,o.substring(4,o.indexOf(")")))).substring(0,5)){var E=e.style.perspective;e.style.perspective=o,o=dl(e,"perspective"),E?e.style.perspective=E:bl(e,"perspective")}s=parseFloat(o)}if(g||((v=e._gsap).renderTransform&&!t.parseTransform||Dl(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new ms(this._pt,S,il,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===d)this._pt=new ms(this._pt,v,"scaleY",v.scaleY,(p?ba(v.scaleY,p+s):s)-v.scaleY||0,Gs),this._pt.u=0,w.push("scaleY",d),d+="X";else{if("transformOrigin"===d){x.push(al,0,S[al]),o=Cl(o),v.svg?Ol(e,o,0,y,0,this):((f=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&xl(this,v,"zOrigin",v.zOrigin,f),xl(this,S,d,Fl(a),Fl(o)));continue}if("svgOrigin"===d){Ol(e,o,1,y,0,this);continue}if(d in kl){Gl(this,v,d,l,p?ba(l,p+o):o);continue}if("smoothOrigin"===d){xl(this,v,"smooth",v.smooth,o);continue}if("force3D"===d){v[d]=o;continue}if("transform"===d){ql(this,o,e);continue}}}else d in S||(d=fl(d)||d);if(m||(s||0===s)&&(l||0===l)&&!Hs.test(o)&&d in S)s||(s=0),(h=(a+"").substr((l+"").length))!==(f=to(o)||(d in xi.units?xi.units[d]:h))&&(l=Sl(e,d,a,f)),this._pt=new ms(this._pt,m?v:S,d,l,(p?ba(l,p+s):s)-l,m||"px"!==f&&"zIndex"!==d||!1===t.autoRound?Gs:Zs),this._pt.u=f||0,m&&_!==o?(this._pt.b=a,this._pt.e=_,this._pt.r=Ys):h!==f&&"%"!==f&&(this._pt.b=a,this._pt.r=qs);else if(d in S)El.call(this,e,d,a,p?p+o:o);else if(d in e)this.add(e,d,a||e[d],p?p+o:o,r,i);else if("parseTransform"!==d){$i(d,o);continue}m||(d in S?x.push(d,0,S[d]):"function"===typeof e[d]?x.push(d,2,e[d]()):x.push(d,1,a||e[d])),w.push(d)}b&&ps(this)},render:function(e,t){if(t.tween._time||!Os())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Ml,aliases:Ws,getSetter:function(e,t,n){var r=Ws[t];return r&&r.indexOf(",")<0&&(t=r),t in Fs&&t!==al&&(e._gsap.x||Ml(e,"x"))?n&&Is===n?"scale"===t?tl:el:(Is=n||{})&&("scale"===t?nl:rl):e.style&&!Li(e.style[t])?$s:~t.indexOf("-")?Qs:os(e,t)},core:{_removeProperty:bl,_getMatrix:Il}};As.utils.checkPrefix=fl,As.core.getStyleSaver=cl,function(e,t){var n=ga(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){Fs[e]=1});ga(t,function(e){xi.units[e]="deg",kl[e]=1}),Ws[n[13]]=e+","+t,ga("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");Ws[t[1]]=n[t[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),ga("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){xi.units[e]="px"}),As.registerPlugin(Yl);var Zl=As.registerPlugin(Yl)||As;Zl.core.Tween;function Kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jl,$l,Ql,ec,tc,nc,rc,ic,ac,oc,sc,lc,cc,uc=function(){return Jl||"undefined"!==typeof window&&(Jl=window.gsap)&&Jl.registerPlugin&&Jl},dc=1,hc=[],fc=[],pc=[],mc=Date.now,gc=function(e,t){return t},vc=function(e,t){return~pc.indexOf(e)&&pc[pc.indexOf(e)+1][t]},yc=function(e){return!!~oc.indexOf(e)},bc=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!1!==r,capture:!!i})},xc=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},_c="scrollLeft",wc="scrollTop",Sc=function(){return sc&&sc.isPressed||fc.cache++},Mc=function(e,t){var n=function n(r){if(r||0===r){dc&&(Ql.history.scrollRestoration="manual");var i=sc&&sc.isPressed;r=n.v=Math.round(r)||(sc&&sc.iOS?1:0),e(r),n.cacheID=fc.cache,i&&gc("ss",r)}else(t||fc.cache!==n.cacheID||gc("ref"))&&(n.cacheID=fc.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},Ec={s:_c,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Mc(function(e){return arguments.length?Ql.scrollTo(e,Tc.sc()):Ql.pageXOffset||ec[_c]||tc[_c]||nc[_c]||0})},Tc={s:wc,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ec,sc:Mc(function(e){return arguments.length?Ql.scrollTo(Ec.sc(),e):Ql.pageYOffset||ec[wc]||tc[wc]||nc[wc]||0})},Cc=function(e,t){return(t&&t._ctx&&t._ctx.selector||Jl.utils.toArray)(e)[0]||("string"===typeof e&&!1!==Jl.config().nullTargetWarn?console.warn("Element not found:",e):null)},Ac=function(e,t){var n=t.s,r=t.sc;yc(e)&&(e=ec.scrollingElement||tc);var i=fc.indexOf(e),a=r===Tc.sc?1:2;!~i&&(i=fc.push(e)-1),fc[i+a]||bc(e,"scroll",Sc);var o=fc[i+a],s=o||(fc[i+a]=Mc(vc(e,n),!0)||(yc(e)?r:Mc(function(t){return arguments.length?e[n]=t:e[n]})));return s.target=e,o||(s.smooth="smooth"===Jl.getProperty(e,"scrollBehavior")),s},Rc=function(e,t,n){var r=e,i=e,a=mc(),o=a,s=t||50,l=Math.max(500,3*s),c=function(e,t){var l=mc();t||l-a>s?(i=r,r=e,o=a,a=l):n?r+=e:r=i+(e-i)/(l-o)*(a-o)};return{update:c,reset:function(){i=r=n?0:r,o=a=0},getVelocity:function(e){var t=o,s=i,u=mc();return(e||0===e)&&e!==r&&c(e),a===o||u-o>l?0:(r+(n?s:-s))/((n?u:a)-t)*1e3}}},Pc=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},kc=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},Nc=function(){(ac=Jl.core.globals().ScrollTrigger)&&ac.core&&function(){var e=ac.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,fc),r.push.apply(r,pc),fc=n,pc=r,gc=function(e,n){return t[e](n)}}()},Lc=function(e){return Jl=e||uc(),!$l&&Jl&&"undefined"!==typeof document&&document.body&&(Ql=window,ec=document,tc=ec.documentElement,nc=ec.body,oc=[Ql,ec,tc,nc],Jl.utils.clamp,cc=Jl.core.context||function(){},ic="onpointerenter"in nc?"pointer":"mouse",rc=Ic.isTouch=Ql.matchMedia&&Ql.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ql||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,lc=Ic.eventTypes=("ontouchstart"in tc?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in tc?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return dc=0},500),Nc(),$l=1),$l};Ec.op=Tc,fc.cache=0;var Ic=function(){function e(e){this.init(e)}var t,n,r;return e.prototype.init=function(e){$l||Lc(Jl)||console.warn("Please gsap.registerPlugin(Observer)"),ac||Nc();var t=e.tolerance,n=e.dragMinimum,r=e.type,i=e.target,a=e.lineHeight,o=e.debounce,s=e.preventDefault,l=e.onStop,c=e.onStopDelay,u=e.ignore,d=e.wheelSpeed,h=e.event,f=e.onDragStart,p=e.onDragEnd,m=e.onDrag,g=e.onPress,v=e.onRelease,y=e.onRight,b=e.onLeft,x=e.onUp,_=e.onDown,w=e.onChangeX,S=e.onChangeY,M=e.onChange,E=e.onToggleX,T=e.onToggleY,C=e.onHover,A=e.onHoverEnd,R=e.onMove,P=e.ignoreCheck,k=e.isNormalizer,N=e.onGestureStart,L=e.onGestureEnd,I=e.onWheel,O=e.onEnable,D=e.onDisable,F=e.onClick,U=e.scrollSpeed,z=e.capture,B=e.allowClicks,j=e.lockAxis,V=e.onLockAxis;this.target=i=Cc(i)||tc,this.vars=e,u&&(u=Jl.utils.toArray(u)),t=t||1e-9,n=n||0,d=d||1,U=U||1,r=r||"wheel,touch,pointer",o=!1!==o,a||(a=parseFloat(Ql.getComputedStyle(nc).lineHeight)||22);var H,W,G,X,q,Y,Z,K=this,J=0,$=0,Q=e.passive||!s&&!1!==e.passive,ee=Ac(i,Ec),te=Ac(i,Tc),ne=ee(),re=te(),ie=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===lc[0],ae=yc(i),oe=i.ownerDocument||ec,se=[0,0,0],le=[0,0,0],ce=0,ue=function(){return ce=mc()},de=function(e,t){return(K.event=e)&&u&&function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1}(e.target,u)||t&&ie&&"touch"!==e.pointerType||P&&P(e,t)},he=function(){var e=K.deltaX=kc(se),n=K.deltaY=kc(le),r=Math.abs(e)>=t,i=Math.abs(n)>=t;M&&(r||i)&&M(K,e,n,se,le),r&&(y&&K.deltaX>0&&y(K),b&&K.deltaX<0&&b(K),w&&w(K),E&&K.deltaX<0!==J<0&&E(K),J=K.deltaX,se[0]=se[1]=se[2]=0),i&&(_&&K.deltaY>0&&_(K),x&&K.deltaY<0&&x(K),S&&S(K),T&&K.deltaY<0!==$<0&&T(K),$=K.deltaY,le[0]=le[1]=le[2]=0),(X||G)&&(R&&R(K),G&&(f&&1===G&&f(K),m&&m(K),G=0),X=!1),Y&&!(Y=!1)&&V&&V(K),q&&(I(K),q=!1),H=0},fe=function(e,t,n){se[n]+=e,le[n]+=t,K._vx.update(e),K._vy.update(t),o?H||(H=requestAnimationFrame(he)):he()},pe=function(e,t){j&&!Z&&(K.axis=Z=Math.abs(e)>Math.abs(t)?"x":"y",Y=!0),"y"!==Z&&(se[2]+=e,K._vx.update(e,!0)),"x"!==Z&&(le[2]+=t,K._vy.update(t,!0)),o?H||(H=requestAnimationFrame(he)):he()},me=function(e){if(!de(e,1)){var t=(e=Pc(e,s)).clientX,r=e.clientY,i=t-K.x,a=r-K.y,o=K.isDragging;K.x=t,K.y=r,(o||(i||a)&&(Math.abs(K.startX-t)>=n||Math.abs(K.startY-r)>=n))&&(G||(G=o?2:1),o||(K.isDragging=!0),pe(i,a))}},ge=K.onPress=function(e){de(e,1)||e&&e.button||(K.axis=Z=null,W.pause(),K.isPressed=!0,e=Pc(e),J=$=0,K.startX=K.x=e.clientX,K.startY=K.y=e.clientY,K._vx.reset(),K._vy.reset(),bc(k?i:oe,lc[1],me,Q,!0),K.deltaX=K.deltaY=0,g&&g(K))},ve=K.onRelease=function(e){if(!de(e,1)){xc(k?i:oe,lc[1],me,!0);var t=!isNaN(K.y-K.startY),n=K.isDragging,r=n&&(Math.abs(K.x-K.startX)>3||Math.abs(K.y-K.startY)>3),a=Pc(e);!r&&t&&(K._vx.reset(),K._vy.reset(),s&&B&&Jl.delayedCall(.08,function(){if(mc()-ce>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(oe.createEvent){var t=oe.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,Ql,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),K.isDragging=K.isGesturing=K.isPressed=!1,l&&n&&!k&&W.restart(!0),G&&he(),p&&n&&p(K),v&&v(K,r)}},ye=function(e){return e.touches&&e.touches.length>1&&(K.isGesturing=!0)&&N(e,K.isDragging)},be=function(){return(K.isGesturing=!1)||L(K)},xe=function(e){if(!de(e)){var t=ee(),n=te();fe((t-ne)*U,(n-re)*U,1),ne=t,re=n,l&&W.restart(!0)}},_e=function(e){if(!de(e)){e=Pc(e,s),I&&(q=!0);var t=(1===e.deltaMode?a:2===e.deltaMode?Ql.innerHeight:1)*d;fe(e.deltaX*t,e.deltaY*t,0),l&&!k&&W.restart(!0)}},we=function(e){if(!de(e)){var t=e.clientX,n=e.clientY,r=t-K.x,i=n-K.y;K.x=t,K.y=n,X=!0,l&&W.restart(!0),(r||i)&&pe(r,i)}},Se=function(e){K.event=e,C(K)},Me=function(e){K.event=e,A(K)},Ee=function(e){return de(e)||Pc(e,s)&&F(K)};W=K._dc=Jl.delayedCall(c||.25,function(){K._vx.reset(),K._vy.reset(),W.pause(),l&&l(K)}).pause(),K.deltaX=K.deltaY=0,K._vx=Rc(0,50,!0),K._vy=Rc(0,50,!0),K.scrollX=ee,K.scrollY=te,K.isDragging=K.isGesturing=K.isPressed=!1,cc(this),K.enable=function(e){return K.isEnabled||(bc(ae?oe:i,"scroll",Sc),r.indexOf("scroll")>=0&&bc(ae?oe:i,"scroll",xe,Q,z),r.indexOf("wheel")>=0&&bc(i,"wheel",_e,Q,z),(r.indexOf("touch")>=0&&rc||r.indexOf("pointer")>=0)&&(bc(i,lc[0],ge,Q,z),bc(oe,lc[2],ve),bc(oe,lc[3],ve),B&&bc(i,"click",ue,!0,!0),F&&bc(i,"click",Ee),N&&bc(oe,"gesturestart",ye),L&&bc(oe,"gestureend",be),C&&bc(i,ic+"enter",Se),A&&bc(i,ic+"leave",Me),R&&bc(i,ic+"move",we)),K.isEnabled=!0,K.isDragging=K.isGesturing=K.isPressed=X=G=!1,K._vx.reset(),K._vy.reset(),ne=ee(),re=te(),e&&e.type&&ge(e),O&&O(K)),K},K.disable=function(){K.isEnabled&&(hc.filter(function(e){return e!==K&&yc(e.target)}).length||xc(ae?oe:i,"scroll",Sc),K.isPressed&&(K._vx.reset(),K._vy.reset(),xc(k?i:oe,lc[1],me,!0)),xc(ae?oe:i,"scroll",xe,z),xc(i,"wheel",_e,z),xc(i,lc[0],ge,z),xc(oe,lc[2],ve),xc(oe,lc[3],ve),xc(i,"click",ue,!0),xc(i,"click",Ee),xc(oe,"gesturestart",ye),xc(oe,"gestureend",be),xc(i,ic+"enter",Se),xc(i,ic+"leave",Me),xc(i,ic+"move",we),K.isEnabled=K.isPressed=K.isDragging=!1,D&&D(K))},K.kill=K.revert=function(){K.disable();var e=hc.indexOf(K);e>=0&&hc.splice(e,1),sc===K&&(sc=0)},hc.push(K),k&&yc(i)&&(sc=K),K.enable(h)},t=e,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&Kl(t.prototype,n),r&&Kl(t,r),e}();Ic.version="3.14.2",Ic.create=function(e){return new Ic(e)},Ic.register=Lc,Ic.getAll=function(){return hc.slice()},Ic.getById=function(e){return hc.filter(function(t){return t.vars.id===e})[0]},uc()&&Jl.registerPlugin(Ic);var Oc,Dc,Fc,Uc,zc,Bc,jc,Vc,Hc,Wc,Gc,Xc,qc,Yc,Zc,Kc,Jc,$c,Qc,eu,tu,nu,ru,iu,au,ou,su,lu,cu,uu,du,hu,fu,pu,mu,gu,vu,yu,bu=1,xu=Date.now,_u=xu(),wu=0,Su=0,Mu=function(e,t,n){var r=Uu(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},Eu=function(e,t){return!t||Uu(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},Tu=function e(){return Su&&requestAnimationFrame(e)},Cu=function(){return Yc=1},Au=function(){return Yc=0},Ru=function(e){return e},Pu=function(e){return Math.round(1e5*e)/1e5||0},ku=function(){return"undefined"!==typeof window},Nu=function(){return Oc||ku()&&(Oc=window.gsap)&&Oc.registerPlugin&&Oc},Lu=function(e){return!!~jc.indexOf(e)},Iu=function(e){return("Height"===e?du:Fc["inner"+e])||zc["client"+e]||Bc["client"+e]},Ou=function(e){return vc(e,"getBoundingClientRect")||(Lu(e)?function(){return Zd.width=Fc.innerWidth,Zd.height=du,Zd}:function(){return sd(e)})},Du=function(e,t){var n=t.s,r=t.d2,i=t.d,a=t.a;return Math.max(0,(n="scroll"+r)&&(a=vc(e,n))?a()-Ou(e)()[i]:Lu(e)?(zc[n]||Bc[n])-Iu(r):e[n]-e["offset"+r])},Fu=function(e,t){for(var n=0;n<Qc.length;n+=3)(!t||~t.indexOf(Qc[n+1]))&&e(Qc[n],Qc[n+1],Qc[n+2])},Uu=function(e){return"string"===typeof e},zu=function(e){return"function"===typeof e},Bu=function(e){return"number"===typeof e},ju=function(e){return"object"===typeof e},Vu=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},Hu=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},Wu=Math.abs,Gu="left",Xu="right",qu="bottom",Yu="width",Zu="height",Ku="Right",Ju="Left",$u="Top",Qu="Bottom",ed="padding",td="margin",nd="Width",rd="Height",id="px",ad=function(e){return Fc.getComputedStyle(e)},od=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},sd=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==ad(e)[Zc]&&Oc.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},ld=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},cd=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},ud=function(e){var t=Oc.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return n?function(e,r,i){var a;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,a=0;a<n.length;a++)if(n[a]>=e)return n[a];return n[a-1]}for(a=n.length,e+=i;a--;)if(n[a]<=e)return n[a];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var a=t(n);return!r||Math.abs(a-n)<i||a-n<0===r<0?a:t(r<0?n-e:n+e)}},dd=function(e,t,n,r){return n.split(",").forEach(function(n){return e(t,n,r)})},hd=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},fd=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},pd=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},md={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},gd={toggleActions:"play",anticipatePin:0},vd={top:0,left:0,center:.5,bottom:1,right:1},yd=function(e,t){if(Uu(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in vd?vd[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},bd=function(e,t,n,r,i,a,o,s){var l=i.startColor,c=i.endColor,u=i.fontSize,d=i.indent,h=i.fontWeight,f=Uc.createElement("div"),p=Lu(n)||"fixed"===vc(n,"pinType"),m=-1!==e.indexOf("scroller"),g=p?Bc:n,v=-1!==e.indexOf("start"),y=v?l:c,b="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+h+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((m||s)&&p?"fixed;":"absolute;"),(m||s||!p)&&(b+=(r===Tc?Xu:qu)+":"+(a+parseFloat(d))+"px;"),o&&(b+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),f._isStart=v,f.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),f.style.cssText=b,f.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(f,g.children[0]):g.appendChild(f),f._offset=f["offset"+r.op.d2],xd(f,0,r,v),f},xd=function(e,t,n,r){var i={display:"block"},a=n[r?"os2":"p2"],o=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+a+nd]=1,i["border"+o+nd]=0,i[n.p]=t+"px",Oc.set(e,i)},_d=[],wd={},Sd=function(){return xu()-wu>34&&(mu||(mu=requestAnimationFrame(Vd)))},Md=function(){(!ru||!ru.isPressed||ru.startX>Bc.clientWidth)&&(fc.cache++,ru?mu||(mu=requestAnimationFrame(Vd)):Vd(),wu||Pd("scrollStart"),wu=xu())},Ed=function(){ou=Fc.innerWidth,au=Fc.innerHeight},Td=function(e){fc.cache++,(!0===e||!qc&&!nu&&!Uc.fullscreenElement&&!Uc.webkitFullscreenElement&&(!iu||ou!==Fc.innerWidth||Math.abs(Fc.innerHeight-au)>.25*Fc.innerHeight))&&Vc.restart(!0)},Cd={},Ad=[],Rd=function e(){return fd(nh,"scrollEnd",e)||zd(!0)},Pd=function(e){return Cd[e]&&Cd[e].map(function(e){return e()})||Ad},kd=[],Nd=function(e){for(var t=0;t<kd.length;t+=5)(!e||kd[t+4]&&kd[t+4].query===e)&&(kd[t].style.cssText=kd[t+1],kd[t].getBBox&&kd[t].setAttribute("transform",kd[t+2]||""),kd[t+3].uncache=1)},Ld=function(){return fc.forEach(function(e){return zu(e)&&++e.cacheID&&(e.rec=e())})},Id=function(e,t){var n;for(Kc=0;Kc<_d.length;Kc++)!(n=_d[Kc])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));hu=!0,t&&Nd(t),t||Pd("revert")},Od=function(e,t){fc.cache++,(t||!gu)&&fc.forEach(function(e){return zu(e)&&e.cacheID++&&(e.rec=0)}),Uu(e)&&(Fc.history.scrollRestoration=cu=e)},Dd=0,Fd=function(){Bc.appendChild(uu),du=!ru&&uu.offsetHeight||Fc.innerHeight,Bc.removeChild(uu)},Ud=function(e){return Hc(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},zd=function(e,t){if(zc=Uc.documentElement,Bc=Uc.body,jc=[Fc,Uc,zc,Bc],!wu||e||hu){Fd(),gu=nh.isRefreshing=!0,hu||Ld();var n=Pd("refreshInit");eu&&nh.sort(),t||Id(),fc.forEach(function(e){zu(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),_d.slice(0).forEach(function(e){return e.refresh()}),hu=!1,_d.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}}),fu=1,Ud(!0),_d.forEach(function(e){var t=Du(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)}),Ud(!1),fu=0,n.forEach(function(e){return e&&e.render&&e.render(-1)}),fc.forEach(function(e){zu(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),Od(cu,1),Vc.pause(),Dd++,gu=2,Vd(2),_d.forEach(function(e){return zu(e.vars.onRefresh)&&e.vars.onRefresh(e)}),gu=nh.isRefreshing=!1,Pd("refresh")}else hd(nh,"scrollEnd",Rd)},Bd=0,jd=1,Vd=function(e){if(2===e||!gu&&!hu){nh.isUpdating=!0,yu&&yu.update(0);var t=_d.length,n=xu(),r=n-_u>=50,i=t&&_d[0].scroll();if(jd=Bd>i?-1:1,gu||(Bd=i),r&&(wu&&!Yc&&n-wu>200&&(wu=0,Pd("scrollEnd")),Gc=_u,_u=n),jd<0){for(Kc=t;Kc-- >0;)_d[Kc]&&_d[Kc].update(0,r);jd=1}else for(Kc=0;Kc<t;Kc++)_d[Kc]&&_d[Kc].update(0,r);nh.isUpdating=!1}mu=0},Hd=[Gu,"top",qu,Xu,td+Qu,td+Ku,td+$u,td+Ju,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Wd=Hd.concat([Yu,Zu,"boxSizing","max"+nd,"max"+rd,"position",td,ed,ed+$u,ed+Ku,ed+Qu,ed+Ju]),Gd=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,a=Hd.length,o=t.style,s=e.style;a--;)o[i=Hd[a]]=n[i];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),s[qu]=s[Xu]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Yu]=ld(e,Ec)+id,o[Zu]=ld(e,Tc)+id,o[ed]=s[td]=s.top=s[Gu]="0",qd(r),s[Yu]=s["max"+nd]=n[Yu],s[Zu]=s["max"+rd]=n[Zu],s[ed]=n[ed],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},Xd=/([A-Z])/g,qd=function(e){if(e){var t,n,r=e.t.style,i=e.length,a=0;for((e.t._gsap||Oc.core.getCache(e.t)).uncache=1;a<i;a+=2)n=e[a+1],t=e[a],n?r[t]=n:r[t]&&r.removeProperty(t.replace(Xd,"-$1").toLowerCase())}},Yd=function(e){for(var t=Wd.length,n=e.style,r=[],i=0;i<t;i++)r.push(Wd[i],n[Wd[i]]);return r.t=e,r},Zd={left:0,top:0},Kd=function(e,t,n,r,i,a,o,s,l,c,u,d,h,f){zu(e)&&(e=e(s)),Uu(e)&&"max"===e.substr(0,3)&&(e=d+("="===e.charAt(4)?yd("0"+e.substr(3),n):0));var p,m,g,v=h?h.time():0;if(h&&h.seek(0),isNaN(e)||(e=+e),Bu(e))h&&(e=Oc.utils.mapRange(h.scrollTrigger.start,h.scrollTrigger.end,0,d,e)),o&&xd(o,n,r,!0);else{zu(t)&&(t=t(s));var y,b,x,_,w=(e||"0").split(" ");g=Cc(t,s)||Bc,(y=sd(g)||{})&&(y.left||y.top)||"none"!==ad(g).display||(_=g.style.display,g.style.display="block",y=sd(g),_?g.style.display=_:g.style.removeProperty("display")),b=yd(w[0],y[r.d]),x=yd(w[1]||"0",n),e=y[r.p]-l[r.p]-c+b+i-x,o&&xd(o,x,r,n-x<20||o._isStart&&x>20),n-=n-x}if(f&&(s[f]=e||-.001,e<0&&(e=0)),a){var S=e+n,M=a._isStart;p="scroll"+r.d2,xd(a,S,r,M&&S>20||!M&&(u?Math.max(Bc[p],zc[p]):a.parentNode[p])<=S+1),u&&(l=sd(o),u&&(a.style[r.op.p]=l[r.op.p]-r.op.m-a._offset+id))}return h&&g&&(p=sd(g),h.seek(d),m=sd(g),h._caScrollDist=p[r.p]-m[r.p],e=e/h._caScrollDist*d),h&&h.seek(v),h?e:Math.round(e)},Jd=/(webkit|moz|length|cssText|inset)/i,$d=function(e,t,n,r){if(e.parentNode!==t){var i,a,o=e.style;if(t===Bc){for(i in e._stOrig=o.cssText,a=ad(e))+i||Jd.test(i)||!a[i]||"string"!==typeof o[i]||"0"===i||(o[i]=a[i]);o.top=n,o.left=r}else o.cssText=e._stOrig;Oc.core.getCache(e).uncache=1,t.appendChild(e)}},Qd=function(e,t,n){var r=t,i=r;return function(t){var a=Math.round(e());return a!==r&&a!==i&&Math.abs(a-r)>3&&Math.abs(a-i)>3&&(t=a,n&&n()),i=r,r=Math.round(t)}},eh=function(e,t,n){var r={};r[t.p]="+="+n,Oc.set(e,r)},th=function(e,t){var n=Ac(e,t),r="_scroll"+t.p2,i=function t(i,a,o,s,l){var c=t.tween,u=a.onComplete,d={};o=o||n();var h=Qd(n,o,function(){c.kill(),t.tween=0});return l=s&&l||0,s=s||i-o,c&&c.kill(),a[r]=i,a.inherit=!1,a.modifiers=d,d[r]=function(){return h(o+s*c.ratio+l*c.ratio*c.ratio)},a.onUpdate=function(){fc.cache++,t.tween&&Vd()},a.onComplete=function(){t.tween=0,u&&u.call(c)},c=t.tween=Oc.to(e,a)};return e[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},hd(e,"wheel",n.wheelHandler),nh.isTouch&&hd(e,"touchmove",n.wheelHandler),i},nh=function(){function e(t,n){Dc||e.register(Oc)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),lu(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Su){var r,i,a,o,s,l,c,u,d,h,f,p,m,g,v,y,b,x,_,w,S,M,E,T,C,A,R,P,k,N,L,I,O,D,F,U,z,B,j,V,H=t=od(Uu(t)||Bu(t)||t.nodeType?{trigger:t}:t,gd),W=H.onUpdate,G=H.toggleClass,X=H.id,q=H.onToggle,Y=H.onRefresh,Z=H.scrub,K=H.trigger,J=H.pin,$=H.pinSpacing,Q=H.invalidateOnRefresh,ee=H.anticipatePin,te=H.onScrubComplete,ne=H.onSnapComplete,re=H.once,ie=H.snap,ae=H.pinReparent,oe=H.pinSpacer,se=H.containerAnimation,le=H.fastScrollEnd,ce=H.preventOverlaps,ue=t.horizontal||t.containerAnimation&&!1!==t.horizontal?Ec:Tc,de=!Z&&0!==Z,he=Cc(t.scroller||Fc),fe=Oc.core.getCache(he),pe=Lu(he),me="fixed"===("pinType"in t?t.pinType:vc(he,"pinType")||pe&&"fixed"),ge=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],ve=de&&t.toggleActions.split(" "),ye="markers"in t?t.markers:gd.markers,be=pe?0:parseFloat(ad(he)["border"+ue.p2+nd])||0,xe=this,_e=t.onRefreshInit&&function(){return t.onRefreshInit(xe)},we=function(e,t,n){var r=n.d,i=n.d2,a=n.a;return(a=vc(e,"getBoundingClientRect"))?function(){return a()[r]}:function(){return(t?Iu(i):e["client"+i])||0}}(he,pe,ue),Se=function(e,t){return!t||~pc.indexOf(e)?Ou(e):function(){return Zd}}(he,pe),Me=0,Ee=0,Te=0,Ce=Ac(he,ue);if(xe._startClamp=xe._endClamp=!1,xe._dir=ue,ee*=45,xe.scroller=he,xe.scroll=se?se.time.bind(se):Ce,o=Ce(),xe.vars=t,n=n||t.animation,"refreshPriority"in t&&(eu=1,-9999===t.refreshPriority&&(yu=xe)),fe.tweenScroll=fe.tweenScroll||{top:th(he,Tc),left:th(he,Ec)},xe.tweenTo=r=fe.tweenScroll[ue.p],xe.scrubDuration=function(e){(O=Bu(e)&&e)?I?I.duration(e):I=Oc.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:O,paused:!0,onComplete:function(){return te&&te(xe)}}):(I&&I.progress(1).kill(),I=0)},n&&(n.vars.lazy=!1,n._initted&&!xe.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),xe.animation=n.pause(),n.scrollTrigger=xe,xe.scrubDuration(Z),N=0,X||(X=n.vars.id)),ie&&(ju(ie)&&!ie.push||(ie={snapTo:ie}),"scrollBehavior"in Bc.style&&Oc.set(pe?[Bc,zc]:he,{scrollBehavior:"auto"}),fc.forEach(function(e){return zu(e)&&e.target===(pe?Uc.scrollingElement||zc:he)&&(e.smooth=!1)}),a=zu(ie.snapTo)?ie.snapTo:"labels"===ie.snapTo?function(e){return function(t){return Oc.utils.snap(cd(e),t)}}(n):"labelsDirectional"===ie.snapTo?(V=n,function(e,t){return ud(cd(V))(e,t.direction)}):!1!==ie.directional?function(e,t){return ud(ie.snapTo)(e,xu()-Ee<500?0:t.direction)}:Oc.utils.snap(ie.snapTo),D=ie.duration||{min:.1,max:2},D=ju(D)?Wc(D.min,D.max):Wc(D,D),F=Oc.delayedCall(ie.delay||O/2||.1,function(){var e=Ce(),t=xu()-Ee<500,i=r.tween;if(!(t||Math.abs(xe.getVelocity())<10)||i||Yc||Me===e)xe.isActive&&Me!==e&&F.restart(!0);else{var o,s,u=(e-l)/g,d=n&&!de?n.totalProgress():u,h=t?0:(d-L)/(xu()-Gc)*1e3||0,f=Oc.utils.clamp(-u,1-u,Wu(h/2)*h/.185),p=u+(!1===ie.inertia?0:f),m=ie,v=m.onStart,y=m.onInterrupt,b=m.onComplete;if(o=a(p,xe),Bu(o)||(o=p),s=Math.max(0,Math.round(l+o*g)),e<=c&&e>=l&&s!==e){if(i&&!i._initted&&i.data<=Wu(s-e))return;!1===ie.inertia&&(f=o-u),r(s,{duration:D(Wu(.185*Math.max(Wu(p-d),Wu(o-d))/h/.05||0)),ease:ie.ease||"power3",data:Wu(s-e),onInterrupt:function(){return F.restart(!0)&&y&&y(xe)},onComplete:function(){xe.update(),Me=Ce(),n&&!de&&(I?I.resetTo("totalProgress",o,n._tTime/n._tDur):n.progress(o)),N=L=n&&!de?n.totalProgress():xe.progress,ne&&ne(xe),b&&b(xe)}},e,f*g,s-e-f*g),v&&v(xe,r.tween)}}}).pause()),X&&(wd[X]=xe),(j=(K=xe.trigger=Cc(K||!0!==J&&J))&&K._gsap&&K._gsap.stRevert)&&(j=j(xe)),J=!0===J?K:Cc(J),Uu(G)&&(G={targets:K,className:G}),J&&(!1===$||$===td||($=!(!$&&J.parentNode&&J.parentNode.style&&"flex"===ad(J.parentNode).display)&&ed),xe.pin=J,(i=Oc.core.getCache(J)).spacer?v=i.pinState:(oe&&((oe=Cc(oe))&&!oe.nodeType&&(oe=oe.current||oe.nativeElement),i.spacerIsNative=!!oe,oe&&(i.spacerState=Yd(oe))),i.spacer=x=oe||Uc.createElement("div"),x.classList.add("pin-spacer"),X&&x.classList.add("pin-spacer-"+X),i.pinState=v=Yd(J)),!1!==t.force3D&&Oc.set(J,{force3D:!0}),xe.spacer=x=i.spacer,k=ad(J),T=k[$+ue.os2],w=Oc.getProperty(J),S=Oc.quickSetter(J,ue.a,id),Gd(J,x,k),b=Yd(J)),ye){p=ju(ye)?od(ye,md):md,h=bd("scroller-start",X,he,ue,p,0),f=bd("scroller-end",X,he,ue,p,0,h),_=h["offset"+ue.op.d2];var Ae=Cc(vc(he,"content")||he);u=this.markerStart=bd("start",X,Ae,ue,p,_,0,se),d=this.markerEnd=bd("end",X,Ae,ue,p,_,0,se),se&&(B=Oc.quickSetter([u,d],ue.a,id)),me||pc.length&&!0===vc(he,"fixedMarkers")||(!function(e){var t=ad(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(pe?Bc:he),Oc.set([h,f],{force3D:!0}),A=Oc.quickSetter(h,ue.a,id),P=Oc.quickSetter(f,ue.a,id))}if(se){var Re=se.vars.onUpdate,Pe=se.vars.onUpdateParams;se.eventCallback("onUpdate",function(){xe.update(0,0,1),Re&&Re.apply(se,Pe||[])})}if(xe.previous=function(){return _d[_d.indexOf(xe)-1]},xe.next=function(){return _d[_d.indexOf(xe)+1]},xe.revert=function(e,t){if(!t)return xe.kill(!0);var r=!1!==e||!xe.enabled,i=qc;r!==xe.isReverted&&(r&&(U=Math.max(Ce(),xe.scroll.rec||0),Te=xe.progress,z=n&&n.progress()),u&&[u,d,h,f].forEach(function(e){return e.style.display=r?"none":"block"}),r&&(qc=xe,xe.update(r)),!J||ae&&xe.isActive||(r?function(e,t,n){qd(n);var r=e._gsap;if(r.spacerIsNative)qd(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1}(J,x,v):Gd(J,x,ad(J),C)),r||xe.update(r),qc=i,xe.isReverted=r)},xe.refresh=function(i,a,p,_){if(!qc&&xe.enabled||a)if(J&&i&&wu)hd(e,"scrollEnd",Rd);else{!gu&&_e&&_e(xe),qc=xe,r.tween&&!p&&(r.tween.kill(),r.tween=0),I&&I.pause(),Q&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren?n.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)}):n.vars.immediateRender&&n.render(0,!0,!0)),xe.isReverted||xe.revert(!0,!0),xe._subPinOffset=!1;var S,T,A,P,k,N,L,O,D,B,j,V,H,W=we(),G=Se(),X=se?se.duration():Du(he,ue),q=g<=.01||!g,Z=0,ee=_||0,te=ju(p)?p.end:t.end,ne=t.endTrigger||K,re=ju(p)?p.start:t.start||(0!==t.start&&K?J?"0 0":"0 100%":0),ie=xe.pinnedContainer=t.pinnedContainer&&Cc(t.pinnedContainer,xe),oe=K&&Math.max(0,_d.indexOf(xe))||0,le=oe;for(ye&&ju(p)&&(V=Oc.getProperty(h,ue.p),H=Oc.getProperty(f,ue.p));le-- >0;)(N=_d[le]).end||N.refresh(0,1)||(qc=xe),!(L=N.pin)||L!==K&&L!==J&&L!==ie||N.isReverted||(B||(B=[]),B.unshift(N),N.revert(!0,!0)),N!==_d[le]&&(oe--,le--);for(zu(re)&&(re=re(xe)),re=Mu(re,"start",xe),l=Kd(re,K,W,ue,Ce(),u,h,xe,G,be,me,X,se,xe._startClamp&&"_startClamp")||(J?-.001:0),zu(te)&&(te=te(xe)),Uu(te)&&!te.indexOf("+=")&&(~te.indexOf(" ")?te=(Uu(re)?re.split(" ")[0]:"")+te:(Z=yd(te.substr(2),W),te=Uu(re)?re:(se?Oc.utils.mapRange(0,se.duration(),se.scrollTrigger.start,se.scrollTrigger.end,l):l)+Z,ne=K)),te=Mu(te,"end",xe),c=Math.max(l,Kd(te||(ne?"100% 0":X),ne,W,ue,Ce()+Z,d,f,xe,G,be,me,X,se,xe._endClamp&&"_endClamp"))||-.001,Z=0,le=oe;le--;)(L=(N=_d[le]||{}).pin)&&N.start-N._pinPush<=l&&!se&&N.end>0&&(S=N.end-(xe._startClamp?Math.max(0,N.start):N.start),(L===K&&N.start-N._pinPush<l||L===ie)&&isNaN(re)&&(Z+=S*(1-N.progress)),L===J&&(ee+=S));if(l+=Z,c+=Z,xe._startClamp&&(xe._startClamp+=Z),xe._endClamp&&!gu&&(xe._endClamp=c||-.001,c=Math.min(c,Du(he,ue))),g=c-l||(l-=.01)&&.001,q&&(Te=Oc.utils.clamp(0,1,Oc.utils.normalize(l,c,U))),xe._pinPush=ee,u&&Z&&((S={})[ue.a]="+="+Z,ie&&(S[ue.p]="-="+Ce()),Oc.set([u,d],S)),!J||fu&&xe.end>=Du(he,ue)){if(K&&Ce()&&!se)for(T=K.parentNode;T&&T!==Bc;)T._pinOffset&&(l-=T._pinOffset,c-=T._pinOffset),T=T.parentNode}else S=ad(J),P=ue===Tc,A=Ce(),M=parseFloat(w(ue.a))+ee,!X&&c>1&&(j={style:j=(pe?Uc.scrollingElement||zc:he).style,value:j["overflow"+ue.a.toUpperCase()]},pe&&"scroll"!==ad(Bc)["overflow"+ue.a.toUpperCase()]&&(j.style["overflow"+ue.a.toUpperCase()]="scroll")),Gd(J,x,S),b=Yd(J),T=sd(J,!0),O=me&&Ac(he,P?Ec:Tc)(),$?((C=[$+ue.os2,g+ee+id]).t=x,(le=$===ed?ld(J,ue)+g+ee:0)&&(C.push(ue.d,le+id),"auto"!==x.style.flexBasis&&(x.style.flexBasis=le+id)),qd(C),ie&&_d.forEach(function(e){e.pin===ie&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),me&&Ce(U)):(le=ld(J,ue))&&"auto"!==x.style.flexBasis&&(x.style.flexBasis=le+id),me&&((k={top:T.top+(P?A-l:O)+id,left:T.left+(P?O:A-l)+id,boxSizing:"border-box",position:"fixed"})[Yu]=k["max"+nd]=Math.ceil(T.width)+id,k[Zu]=k["max"+rd]=Math.ceil(T.height)+id,k[td]=k[td+$u]=k[td+Ku]=k[td+Qu]=k[td+Ju]="0",k[ed]=S[ed],k[ed+$u]=S[ed+$u],k[ed+Ku]=S[ed+Ku],k[ed+Qu]=S[ed+Qu],k[ed+Ju]=S[ed+Ju],y=function(e,t,n){for(var r,i=[],a=e.length,o=n?8:0;o<a;o+=2)r=e[o],i.push(r,r in t?t[r]:e[o+1]);return i.t=e.t,i}(v,k,ae),gu&&Ce(0)),n?(D=n._initted,tu(1),n.render(n.duration(),!0,!0),E=w(ue.a)-M+g+ee,R=Math.abs(g-E)>1,me&&R&&y.splice(y.length-2,2),n.render(0,!0,!0),D||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),tu(0)):E=g,j&&(j.value?j.style["overflow"+ue.a.toUpperCase()]=j.value:j.style.removeProperty("overflow-"+ue.a));B&&B.forEach(function(e){return e.revert(!1,!0)}),xe.start=l,xe.end=c,o=s=gu?U:Ce(),se||gu||(o<U&&Ce(U),xe.scroll.rec=0),xe.revert(!1,!0),Ee=xu(),F&&(Me=-1,F.restart(!0)),qc=0,n&&de&&(n._initted||z)&&n.progress()!==z&&n.progress(z||0,!0).render(n.time(),!0,!0),(q||Te!==xe.progress||se||Q||n&&!n._initted)&&(n&&!de&&(n._initted||Te||!1!==n.vars.immediateRender)&&n.totalProgress(se&&l<-.001&&!Te?Oc.utils.normalize(l,c,0):Te,!0),xe.progress=q||(o-l)/g===Te?0:Te),J&&$&&(x._pinOffset=Math.round(xe.progress*E)),I&&I.invalidate(),isNaN(V)||(V-=Oc.getProperty(h,ue.p),H-=Oc.getProperty(f,ue.p),eh(h,ue,V),eh(u,ue,V-(_||0)),eh(f,ue,H),eh(d,ue,H-(_||0))),q&&!gu&&xe.update(),!Y||gu||m||(m=!0,Y(xe),m=!1)}},xe.getVelocity=function(){return(Ce()-s)/(xu()-Gc)*1e3||0},xe.endAnimation=function(){Vu(xe.callbackAnimation),n&&(I?I.progress(1):n.paused()?de||Vu(n,xe.direction<0,1):Vu(n,n.reversed()))},xe.labelToScroll=function(e){return n&&n.labels&&(l||xe.refresh()||l)+n.labels[e]/n.duration()*g||0},xe.getTrailing=function(e){var t=_d.indexOf(xe),n=xe.direction>0?_d.slice(0,t).reverse():_d.slice(t+1);return(Uu(e)?n.filter(function(t){return t.vars.preventOverlaps===e}):n).filter(function(e){return xe.direction>0?e.end<=l:e.start>=c})},xe.update=function(e,t,i){if(!se||i||e){var a,u,d,f,p,m,v,_=!0===gu?U:xe.scroll(),w=e?0:(_-l)/g,C=w<0?0:w>1?1:w||0,k=xe.progress;if(t&&(s=o,o=se?Ce():_,ie&&(L=N,N=n&&!de?n.totalProgress():C)),ee&&J&&!qc&&!bu&&wu&&(!C&&l<_+(_-s)/(xu()-Gc)*ee?C=1e-4:1===C&&c>_+(_-s)/(xu()-Gc)*ee&&(C=.9999)),C!==k&&xe.enabled){if(f=(p=(a=xe.isActive=!!C&&C<1)!==(!!k&&k<1))||!!C!==!!k,xe.direction=C>k?1:-1,xe.progress=C,f&&!qc&&(u=C&&!k?0:1===C?1:1===k?2:3,de&&(d=!p&&"none"!==ve[u+1]&&ve[u+1]||ve[u],v=n&&("complete"===d||"reset"===d||d in n))),ce&&(p||v)&&(v||Z||!n)&&(zu(ce)?ce(xe):xe.getTrailing(ce).forEach(function(e){return e.endAnimation()})),de||(!I||qc||bu?n&&n.totalProgress(C,!(!qc||!Ee&&!e)):(I._dp._time-I._start!==I._time&&I.render(I._dp._time-I._start),I.resetTo?I.resetTo("totalProgress",C,n._tTime/n._tDur):(I.vars.totalProgress=C,I.invalidate().restart()))),J)if(e&&$&&(x.style[$+ue.os2]=T),me){if(f){if(m=!e&&C>k&&c+1>_&&_+1>=Du(he,ue),ae)if(e||!a&&!m)$d(J,x);else{var O=sd(J,!0),D=_-l;$d(J,Bc,O.top+(ue===Tc?D:0)+id,O.left+(ue===Tc?0:D)+id)}qd(a||m?y:b),R&&C<1&&a||S(M+(1!==C||m?0:E))}}else S(Pu(M+E*C));ie&&!r.tween&&!qc&&!bu&&F.restart(!0),G&&(p||re&&C&&(C<1||!pu))&&Hc(G.targets).forEach(function(e){return e.classList[a||re?"add":"remove"](G.className)}),W&&!de&&!e&&W(xe),f&&!qc?(de&&(v&&("complete"===d?n.pause().totalProgress(1):"reset"===d?n.restart(!0).pause():"restart"===d?n.restart(!0):n[d]()),W&&W(xe)),!p&&pu||(q&&p&&Hu(xe,q),ge[u]&&Hu(xe,ge[u]),re&&(1===C?xe.kill(!1,1):ge[u]=0),p||ge[u=1===C?1:3]&&Hu(xe,ge[u])),le&&!a&&Math.abs(xe.getVelocity())>(Bu(le)?le:2500)&&(Vu(xe.callbackAnimation),I?I.progress(1):Vu(n,"reverse"===d?1:!C,1))):de&&W&&!qc&&W(xe)}if(P){var z=se?_/se.duration()*(se._caScrollDist||0):_;A(z+(h._isFlipped?1:0)),P(z)}B&&B(-_/se.duration()*(se._caScrollDist||0))}},xe.enable=function(t,n){xe.enabled||(xe.enabled=!0,hd(he,"resize",Td),pe||hd(he,"scroll",Md),_e&&hd(e,"refreshInit",_e),!1!==t&&(xe.progress=Te=0,o=s=Me=Ce()),!1!==n&&xe.refresh())},xe.getTween=function(e){return e&&r?r.tween:I},xe.setPositions=function(e,t,n,r){if(se){var i=se.scrollTrigger,a=se.duration(),o=i.end-i.start;e=i.start+o*e/a,t=i.start+o*t/a}xe.refresh(!1,!1,{start:Eu(e,n&&!!xe._startClamp),end:Eu(t,n&&!!xe._endClamp)},r),xe.update()},xe.adjustPinSpacing=function(e){if(C&&e){var t=C.indexOf(ue.d)+1;C[t]=parseFloat(C[t])+e+id,C[1]=parseFloat(C[1])+e+id,qd(C)}},xe.disable=function(t,n){if(!1!==t&&xe.revert(!0,!0),xe.enabled&&(xe.enabled=xe.isActive=!1,n||I&&I.pause(),U=0,i&&(i.uncache=1),_e&&fd(e,"refreshInit",_e),F&&(F.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!pe)){for(var a=_d.length;a--;)if(_d[a].scroller===he&&_d[a]!==xe)return;fd(he,"resize",Td),pe||fd(he,"scroll",Md)}},xe.kill=function(e,r){xe.disable(e,r),I&&!r&&I.kill(),X&&delete wd[X];var a=_d.indexOf(xe);a>=0&&_d.splice(a,1),a===Kc&&jd>0&&Kc--,a=0,_d.forEach(function(e){return e.scroller===xe.scroller&&(a=1)}),a||gu||(xe.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),u&&[u,d,h,f].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),yu===xe&&(yu=0),J&&(i&&(i.uncache=1),a=0,_d.forEach(function(e){return e.pin===J&&a++}),a||(i.spacer=0)),t.onKill&&t.onKill(xe)},_d.push(xe),xe.enable(!1,!1),j&&j(xe),n&&n.add&&!g){var ke=xe.update;xe.update=function(){xe.update=ke,fc.cache++,l||c||xe.refresh()},Oc.delayedCall(.01,xe.update),g=.01,l=c=0}else xe.refresh();J&&function(){if(vu!==Dd){var e=vu=Dd;requestAnimationFrame(function(){return e===Dd&&zd(!0)})}}()}else this.update=this.refresh=this.kill=Ru},e.register=function(t){return Dc||(Oc=t||Nu(),ku()&&window.document&&e.enable(),Dc=Su),Dc},e.defaults=function(e){if(e)for(var t in e)gd[t]=e[t];return gd},e.disable=function(e,t){Su=0,_d.forEach(function(n){return n[t?"kill":"disable"](e)}),fd(Fc,"wheel",Md),fd(Uc,"scroll",Md),clearInterval(Xc),fd(Uc,"touchcancel",Ru),fd(Bc,"touchstart",Ru),dd(fd,Uc,"pointerdown,touchstart,mousedown",Cu),dd(fd,Uc,"pointerup,touchend,mouseup",Au),Vc.kill(),Fu(fd);for(var n=0;n<fc.length;n+=3)pd(fd,fc[n],fc[n+1]),pd(fd,fc[n],fc[n+2])},e.enable=function(){if(Fc=window,Uc=document,zc=Uc.documentElement,Bc=Uc.body,Oc&&(Hc=Oc.utils.toArray,Wc=Oc.utils.clamp,lu=Oc.core.context||Ru,tu=Oc.core.suppressOverwrites||Ru,cu=Fc.history.scrollRestoration||"auto",Bd=Fc.pageYOffset||0,Oc.core.globals("ScrollTrigger",e),Bc)){Su=1,(uu=document.createElement("div")).style.height="100vh",uu.style.position="absolute",Fd(),Tu(),Ic.register(Oc),e.isTouch=Ic.isTouch,su=Ic.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),iu=1===Ic.isTouch,hd(Fc,"wheel",Md),jc=[Fc,Uc,zc,Bc],Oc.matchMedia?(e.matchMedia=function(e){var t,n=Oc.matchMedia();for(t in e)n.add(t,e[t]);return n},Oc.addEventListener("matchMediaInit",function(){Ld(),Id()}),Oc.addEventListener("matchMediaRevert",function(){return Nd()}),Oc.addEventListener("matchMedia",function(){zd(0,1),Pd("matchMedia")}),Oc.matchMedia().add("(orientation: portrait)",function(){return Ed(),Ed})):console.warn("Requires GSAP 3.11.0 or later"),Ed(),hd(Uc,"scroll",Md);var t,n,r=Bc.hasAttribute("style"),i=Bc.style,a=i.borderTopStyle,o=Oc.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",t=sd(Bc),Tc.m=Math.round(t.top+Tc.sc())||0,Ec.m=Math.round(t.left+Ec.sc())||0,a?i.borderTopStyle=a:i.removeProperty("border-top-style"),r||(Bc.setAttribute("style",""),Bc.removeAttribute("style")),Xc=setInterval(Sd,250),Oc.delayedCall(.5,function(){return bu=0}),hd(Uc,"touchcancel",Ru),hd(Bc,"touchstart",Ru),dd(hd,Uc,"pointerdown,touchstart,mousedown",Cu),dd(hd,Uc,"pointerup,touchend,mouseup",Au),Zc=Oc.utils.checkPrefix("transform"),Wd.push(Zc),Dc=xu(),Vc=Oc.delayedCall(.2,zd).pause(),Qc=[Uc,"visibilitychange",function(){var e=Fc.innerWidth,t=Fc.innerHeight;Uc.hidden?(Jc=e,$c=t):Jc===e&&$c===t||Td()},Uc,"DOMContentLoaded",zd,Fc,"load",zd,Fc,"resize",Td],Fu(hd),_d.forEach(function(e){return e.enable(0,1)}),n=0;n<fc.length;n+=3)pd(fd,fc[n],fc[n+1]),pd(fd,fc[n],fc[n+2])}},e.config=function(t){"limitCallbacks"in t&&(pu=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(Xc)||(Xc=n)&&setInterval(Sd,n),"ignoreMobileResize"in t&&(iu=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(Fu(fd)||Fu(hd,t.autoRefreshEvents||"none"),nu=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=Cc(e),r=fc.indexOf(n),i=Lu(n);~r&&fc.splice(r,i?6:2),t&&(i?pc.unshift(Fc,t,Bc,t,zc,t):pc.unshift(n,t))},e.clearMatchMedia=function(e){_d.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,n){var r=(Uu(e)?Cc(e):e).getBoundingClientRect(),i=r[n?Yu:Zu]*t||0;return n?r.right-i>0&&r.left+i<Fc.innerWidth:r.bottom-i>0&&r.top+i<Fc.innerHeight},e.positionInViewport=function(e,t,n){Uu(e)&&(e=Cc(e));var r=e.getBoundingClientRect(),i=r[n?Yu:Zu],a=null==t?i/2:t in vd?vd[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+a)/Fc.innerWidth:(r.top+a)/Fc.innerHeight},e.killAll=function(e){if(_d.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=Cd.killAll||[];Cd={},t.forEach(function(e){return e()})}},e}();nh.version="3.14.2",nh.saveStyles=function(e){return e?Hc(e).forEach(function(e){if(e&&e.style){var t=kd.indexOf(e);t>=0&&kd.splice(t,5),kd.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Oc.core.getCache(e),lu())}}):kd},nh.revert=function(e,t){return Id(!e,t)},nh.create=function(e,t){return new nh(e,t)},nh.refresh=function(e){return e?Td(!0):(Dc||nh.register())&&zd(!0)},nh.update=function(e){return++fc.cache&&Vd(!0===e?2:0)},nh.clearScrollMemory=Od,nh.maxScroll=function(e,t){return Du(e,t?Ec:Tc)},nh.getScrollFunc=function(e,t){return Ac(Cc(e),t?Ec:Tc)},nh.getById=function(e){return wd[e]},nh.getAll=function(){return _d.filter(function(e){return"ScrollSmoother"!==e.vars.id})},nh.isScrolling=function(){return!!wu},nh.snapDirectional=ud,nh.addEventListener=function(e,t){var n=Cd[e]||(Cd[e]=[]);~n.indexOf(t)||n.push(t)},nh.removeEventListener=function(e,t){var n=Cd[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},nh.batch=function(e,t){var n,r=[],i={},a=t.interval||.016,o=t.batchMax||1e9,s=function(e,t){var n=[],r=[],i=Oc.delayedCall(a,function(){t(n,r),n=[],r=[]}).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),o<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&zu(t[n])&&"onRefreshInit"!==n?s(0,t[n]):t[n];return zu(o)&&(o=o(),hd(nh,"refresh",function(){return o=t.batchMax()})),Hc(e).forEach(function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(nh.create(t))}),r};var rh,ih=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},ah=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(Ic.isTouch?" pinch-zoom":""):"none",t===zc&&e(Bc,n)},oh={auto:1,scroll:1},sh=function(e){var t,n=e.event,r=e.target,i=e.axis,a=(n.changedTouches?n.changedTouches[0]:n).target,o=a._gsap||Oc.core.getCache(a),s=xu();if(!o._isScrollT||s-o._isScrollT>2e3){for(;a&&a!==Bc&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!oh[(t=ad(a)).overflowY]&&!oh[t.overflowX]);)a=a.parentNode;o._isScroll=a&&a!==r&&!Lu(a)&&(oh[(t=ad(a)).overflowY]||oh[t.overflowX]),o._isScrollT=s}(o._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},lh=function(e,t,n,r){return Ic.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&sh,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&hd(Uc,Ic.eventTypes[0],uh,!1,!0)},onDisable:function(){return fd(Uc,Ic.eventTypes[0],uh,!0)}})},ch=/(input|label|select|textarea)/i,uh=function(e){var t=ch.test(e.target.tagName);(t||rh)&&(e._gsapAllow=!0,rh=t)},dh=function(e){ju(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,a,o,s,l,c=e,u=c.normalizeScrollX,d=c.momentum,h=c.allowNestedScroll,f=c.onRelease,p=Cc(e.target)||zc,m=Oc.core.globals().ScrollSmoother,g=m&&m.get(),v=su&&(e.content&&Cc(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),y=Ac(p,Tc),b=Ac(p,Ec),x=1,_=(Ic.isTouch&&Fc.visualViewport?Fc.visualViewport.scale*Fc.visualViewport.width:Fc.outerWidth)/Fc.innerWidth,w=0,S=zu(d)?function(){return d(t)}:function(){return d||2.8},M=lh(p,e.type,!0,h),E=function(){return i=!1},T=Ru,C=Ru,A=function(){n=Du(p,Tc),C=Wc(su?1:0,n),u&&(T=Wc(0,Du(p,Ec))),r=Dd},R=function(){v._gsap.y=Pu(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},P=function(){A(),a.isActive()&&a.vars.scrollY>n&&(y()>n?a.progress(1)&&y(n):a.resetTo("scrollY",n))};return v&&Oc.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return su&&"touchmove"===e.type&&function(){if(i){requestAnimationFrame(E);var e=Pu(t.deltaY/2),n=C(y.v-e);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=Pu((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=fc.cache,Vd()}return!0}y.offset&&R(),i=!0}()||x>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=x;x=Pu((Fc.visualViewport&&Fc.visualViewport.scale||1)/_),a.pause(),e!==x&&ah(p,x>1.01||!u&&"x"),o=b(),s=y(),A(),r=Dd},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&R(),t){fc.cache++;var r,i,o=S();u&&(i=(r=b())+.05*o*-e.velocityX/.227,o*=ih(b,r,i,Du(p,Ec)),a.vars.scrollX=T(i)),i=(r=y())+.05*o*-e.velocityY/.227,o*=ih(y,r,i,Du(p,Tc)),a.vars.scrollY=C(i),a.invalidate().duration(o).play(.01),(su&&a.vars.scrollY>=n||r>=n-1)&&Oc.to({},{onUpdate:P,duration:o})}else l.restart(!0);f&&f(e)},e.onWheel=function(){a._ts&&a.pause(),xu()-w>1e3&&(r=0,w=xu())},e.onChange=function(e,t,n,i,a){if(Dd!==r&&A(),t&&u&&b(T(i[2]===t?o+(e.startX-e.x):b()+t-i[1])),n){y.offset&&R();var l=a[2]===n,c=l?s+e.startY-e.y:y()+n-a[1],d=C(c);l&&c!==d&&(s+=d-c),y(d)}(n||t)&&Vd()},e.onEnable=function(){ah(p,!u&&"x"),nh.addEventListener("refresh",P),hd(Fc,"resize",P),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=b.smooth=!1),M.enable()},e.onDisable=function(){ah(p,!0),fd(Fc,"resize",P),nh.removeEventListener("refresh",P),M.kill()},e.lockAxis=!1!==e.lockAxis,(t=new Ic(e)).iOS=su,su&&!y()&&y(1),su&&Oc.ticker.add(Ru),l=t._dc,a=Oc.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Qd(y,y(),function(){return a.pause()})},onUpdate:Vd,onComplete:l.vars.onComplete}),t};nh.sort=function(e){if(zu(e))return _d.sort(e);var t=Fc.pageYOffset||0;return nh.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+Fc.innerHeight}),_d.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},nh.observe=function(e){return new Ic(e)},nh.normalizeScroll=function(e){if("undefined"===typeof e)return ru;if(!0===e&&ru)return ru.enable();if(!1===e)return ru&&ru.kill(),void(ru=e);var t=e instanceof Ic?e:dh(e);return ru&&ru.target===t.target&&ru.kill(),Lu(t.target)&&(ru=t),t},nh.core={_getVelocityProp:Rc,_inputObserver:lh,_scrollers:fc,_proxies:pc,bridge:{ss:function(){wu||Pd("scrollStart"),wu=xu()},ref:function(){return qc}}},Nu()&&Oc.registerPlugin(nh);const hh=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},fh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var ph={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mh=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],gh=(0,a.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:c,iconNode:u}=e,d=l(e,mh);return(0,a.createElement)("svg",f(f(f({ref:t},ph),{},{width:r,height:r,stroke:n,strokeWidth:o?24*Number(i)/Number(r):i,className:fh("lucide",s)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...u.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...Array.isArray(c)?c:[c]])}),vh=["className"],yh=(e,t)=>{const n=(0,a.forwardRef)((n,r)=>{let{className:i}=n,o=l(n,vh);return(0,a.createElement)(gh,f({ref:r,iconNode:t,className:fh("lucide-".concat((s=hh(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i)},o));var s});return n.displayName=hh(e),n},bh=yh("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),xh=yh("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),_h=yh("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),wh=yh("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var Sh=n(579);const Mh=e=>{let{profile:t}=e;const n=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,a.useRef)(null);(0,a.useEffect)(()=>{r.current&&i.current&&(Zl.from(r.current,{opacity:0,y:50,duration:1,ease:"power3.out"}),Zl.from(i.current,{opacity:0,y:30,duration:1,delay:.3,ease:"power3.out"}))},[t]);const o=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})};return(0,Sh.jsxs)("div",{ref:n,className:"relative min-h-screen flex items-center justify-center overflow-hidden",style:{background:"linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #0a0a0f 100%)"},"data-testid":"hero-section",children:[(0,Sh.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Sh.jsx)("div",{className:"absolute top-20 left-20 w-96 h-96 rounded-full opacity-20 blur-3xl",style:{background:"radial-gradient(circle, #3b82f6 0%, transparent 70%)"}}),(0,Sh.jsx)("div",{className:"absolute bottom-20 right-20 w-96 h-96 rounded-full opacity-20 blur-3xl",style:{background:"radial-gradient(circle, #8b5cf6 0%, transparent 70%)"}})]}),(0,Sh.jsxs)("div",{className:"relative z-10 max-w-6xl mx-auto px-6 text-center",children:[(null===t||void 0===t?void 0:t.avatar_url)&&(0,Sh.jsx)("div",{className:"mb-8 flex justify-center","data-testid":"hero-avatar",children:(0,Sh.jsxs)("div",{className:"relative",children:[(0,Sh.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 blur-xl opacity-50 animate-pulse"}),(0,Sh.jsx)("img",{src:t.avatar_url,alt:t.name,className:"relative w-32 h-32 rounded-full object-cover border-4 border-white/10"})]})}),(0,Sh.jsx)("h1",{ref:r,className:"text-5xl sm:text-6xl lg:text-7xl font-bold mb-6",style:{background:"linear-gradient(135deg, #60a5fa 0%, #a78bfa 50%, #60a5fa 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundSize:"200% 100%",animation:"gradient-shift 3s ease infinite"},"data-testid":"hero-name",children:(null===t||void 0===t?void 0:t.name)||"Charchit Singh Sahay"}),(0,Sh.jsx)("p",{ref:i,className:"text-xl sm:text-2xl text-gray-400 mb-8 max-w-2xl mx-auto","data-testid":"hero-title",children:(null===t||void 0===t?void 0:t.title)||"Full Stack Developer & Creative Technologist"}),(null===t||void 0===t?void 0:t.bio)&&(0,Sh.jsx)("p",{className:"text-base sm:text-lg text-gray-500 mb-12 max-w-3xl mx-auto","data-testid":"hero-bio",children:t.bio}),(0,Sh.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center mb-12",children:[(0,Sh.jsx)("button",{onClick:()=>o("projects"),className:"btn-primary","data-testid":"hero-view-work-btn",children:"View My Work"}),(0,Sh.jsx)("button",{onClick:()=>o("contact"),className:"btn-secondary","data-testid":"hero-contact-btn",children:"Get In Touch"})]}),((null===t||void 0===t?void 0:t.github)||(null===t||void 0===t?void 0:t.linkedin)||(null===t||void 0===t?void 0:t.email))&&(0,Sh.jsxs)("div",{className:"flex gap-6 justify-center","data-testid":"hero-social-links",children:[t.github&&(0,Sh.jsx)("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors","data-testid":"hero-github-link",children:(0,Sh.jsx)(bh,{size:24})}),t.linkedin&&(0,Sh.jsx)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors","data-testid":"hero-linkedin-link",children:(0,Sh.jsx)(xh,{size:24})}),t.email&&(0,Sh.jsx)("a",{href:"mailto:".concat(t.email),className:"text-gray-400 hover:text-blue-400 transition-colors","data-testid":"hero-email-link",children:(0,Sh.jsx)(_h,{size:24})})]}),(0,Sh.jsx)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce","data-testid":"hero-scroll-indicator",children:(0,Sh.jsx)(wh,{className:"text-gray-500",size:32})})]}),(0,Sh.jsx)("style",{jsx:!0,children:"\n        @keyframes gradient-shift {\n          0%, 100% {\n            background-position: 0% 50%;\n          }\n          50% {\n            background-position: 100% 50%;\n          }\n        }\n      "})]})},Eh=yh("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);Zl.registerPlugin(nh);const Th=e=>{let{projects:t}=e;const[n,r]=(0,a.useState)(t),[i,o]=(0,a.useState)("all"),[s,l]=(0,a.useState)(["all"]),c=(0,a.useRef)(null),u=(0,a.useRef)([]);return(0,a.useEffect)(()=>{if(t&&t.length>0){const e=["all"];t.forEach(t=>{t.tags&&t.tags.forEach(t=>{e.includes(t)||e.push(t)})}),l(e),r(t)}},[t]),(0,a.useEffect)(()=>{r("all"===i?t:t.filter(e=>e.tags&&e.tags.includes(i)))},[i,t]),(0,a.useEffect)(()=>{u.current.length>0&&u.current.forEach((e,t)=>{e&&Zl.from(e,{scrollTrigger:{trigger:e,start:"top bottom-=100",toggleActions:"play none none reverse"},opacity:0,y:50,duration:.8,delay:.1*t,ease:"power3.out"})})},[n]),t&&0!==t.length?(0,Sh.jsx)("div",{ref:c,className:"min-h-screen py-20 px-6",style:{background:"linear-gradient(180deg, #0a0a0f 0%, #1a1a2e 100%)"},children:(0,Sh.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Sh.jsxs)("div",{className:"text-center mb-16",children:[(0,Sh.jsx)("h2",{className:"text-4xl sm:text-5xl font-bold gradient-text mb-4","data-testid":"projects-heading",children:"Featured Projects"}),(0,Sh.jsx)("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"A showcase of my recent work and passion projects"})]}),s.length>1&&(0,Sh.jsx)("div",{className:"flex flex-wrap gap-3 justify-center mb-12","data-testid":"projects-filters",children:s.map(e=>(0,Sh.jsx)("button",{onClick:()=>o(e),className:"tag ".concat(i===e?"bg-blue-500/30 border-blue-400":""),"data-testid":"filter-tag-".concat(e),children:e},e))}),(0,Sh.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((e,t)=>(0,Sh.jsxs)("div",{ref:e=>u.current[t]=e,className:"card group cursor-pointer","data-testid":"project-card-".concat(e.id),children:[e.image_url&&(0,Sh.jsxs)("div",{className:"relative overflow-hidden rounded-lg mb-4 h-48",children:[(0,Sh.jsx)("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110","data-testid":"project-image-".concat(e.id)}),(0,Sh.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,Sh.jsx)("h3",{className:"text-xl font-semibold text-white mb-2","data-testid":"project-title-".concat(e.id),children:e.title}),(0,Sh.jsx)("p",{className:"text-gray-400 text-sm mb-4","data-testid":"project-description-".concat(e.id),children:e.description}),e.tech_stack&&e.tech_stack.length>0&&(0,Sh.jsx)("div",{className:"flex flex-wrap gap-2 mb-4","data-testid":"project-tech-".concat(e.id),children:e.tech_stack.slice(0,4).map((e,t)=>(0,Sh.jsx)("span",{className:"text-xs px-3 py-1 rounded-full bg-blue-500/10 text-blue-400 border border-blue-500/20",children:e},t))}),(0,Sh.jsxs)("div",{className:"flex gap-3 mt-4",children:[e.github_url&&(0,Sh.jsx)("a",{href:e.github_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors","data-testid":"project-github-".concat(e.id),children:(0,Sh.jsx)(bh,{size:20})}),e.live_url&&(0,Sh.jsx)("a",{href:e.live_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors","data-testid":"project-live-".concat(e.id),children:(0,Sh.jsx)(Eh,{size:20})})]})]},e.id))})]})}):(0,Sh.jsx)("div",{className:"min-h-screen flex items-center justify-center","data-testid":"projects-empty",children:(0,Sh.jsx)("p",{className:"text-gray-500 text-lg",children:"No projects to display yet."})})},Ch=yh("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),Ah=yh("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Rh=yh("code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);Zl.registerPlugin(nh);const Ph=e=>{let{experiences:t}=e;const n=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,a.useRef)([]);(0,a.useEffect)(()=>{if(!t||0===t.length)return;return i.current.filter(Boolean).forEach((e,t)=>{Zl.from(e,{scrollTrigger:{trigger:e,start:"top bottom-=100",end:"bottom center",toggleActions:"play none none reverse",scrub:1},opacity:0,x:t%2===0?-100:100,duration:1,ease:"power3.out"})}),r.current&&Zl.from(r.current,{scrollTrigger:{trigger:n.current,start:"top center",end:"bottom center",scrub:1},scaleY:0,transformOrigin:"top",duration:1}),()=>{nh.getAll().forEach(e=>e.kill())}},[t]);const o=e=>{switch(e){case"job":default:return(0,Sh.jsx)(Ch,{size:24});case"internship":return(0,Sh.jsx)(Ah,{size:24});case"freelance":return(0,Sh.jsx)(Rh,{size:24})}};return t&&0!==t.length?(0,Sh.jsxs)("div",{ref:n,className:"min-h-screen py-20 px-6 relative",style:{background:"linear-gradient(180deg, #1a1a2e 0%, #0a0a0f 100%)"},"data-testid":"experience-league",children:[(0,Sh.jsx)("div",{className:"absolute inset-0 glass",style:{margin:"5%",borderRadius:"24px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"}}),(0,Sh.jsxs)("div",{className:"max-w-5xl mx-auto relative z-10",children:[(0,Sh.jsxs)("div",{className:"text-center mb-16",children:[(0,Sh.jsx)("h2",{className:"text-4xl sm:text-5xl font-bold gradient-text mb-4","data-testid":"experience-heading",children:"Experience League"}),(0,Sh.jsx)("p",{className:"text-gray-400 text-lg",children:"My professional journey and key milestones"})]}),(0,Sh.jsxs)("div",{className:"relative",children:[(0,Sh.jsx)("div",{ref:r,className:"absolute left-1/2 top-0 bottom-0 w-1 bg-gradient-to-b from-blue-500 to-purple-600 transform -translate-x-1/2",style:{boxShadow:"0 0 20px rgba(59, 130, 246, 0.5)"},"data-testid":"experience-timeline"}),(0,Sh.jsx)("div",{className:"space-y-12",children:t.map((e,t)=>(0,Sh.jsxs)("div",{ref:e=>i.current[t]=e,className:"flex items-center ".concat(t%2===0?"flex-row":"flex-row-reverse"),"data-testid":"experience-item-".concat(e.id),children:[(0,Sh.jsx)("div",{className:"w-5/12",children:(0,Sh.jsxs)("div",{className:"card p-6",children:[e.logo_url&&(0,Sh.jsx)("img",{src:e.logo_url,alt:e.company,className:"w-12 h-12 rounded-lg mb-4 object-cover","data-testid":"exp-logo-".concat(e.id)}),(0,Sh.jsx)("h3",{className:"text-xl font-semibold text-white mb-2","data-testid":"exp-title-".concat(e.id),children:e.title}),(0,Sh.jsx)("p",{className:"text-blue-400 font-medium mb-1","data-testid":"exp-company-".concat(e.id),children:e.company}),(0,Sh.jsxs)("p",{className:"text-sm text-gray-500 mb-3","data-testid":"exp-date-".concat(e.id),children:[e.start_date," - ",e.current?"Present":e.end_date]}),(0,Sh.jsx)("p",{className:"text-gray-400 text-sm mb-4","data-testid":"exp-description-".concat(e.id),children:e.description}),e.skills&&e.skills.length>0&&(0,Sh.jsx)("div",{className:"flex flex-wrap gap-2","data-testid":"exp-skills-".concat(e.id),children:e.skills.slice(0,5).map((e,t)=>(0,Sh.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-purple-500/10 text-purple-400 border border-purple-500/20",children:e},t))})]})}),(0,Sh.jsx)("div",{className:"w-2/12 flex justify-center",children:(0,Sh.jsx)("div",{className:"w-16 h-16 rounded-full glass flex items-center justify-center text-blue-400",style:{boxShadow:"0 0 30px rgba(59, 130, 246, 0.4)"},"data-testid":"exp-badge-".concat(e.id),children:o(e.type)})}),(0,Sh.jsx)("div",{className:"w-5/12"})]},e.id))})]})]})]}):(0,Sh.jsx)("div",{className:"min-h-screen flex items-center justify-center","data-testid":"experience-empty",children:(0,Sh.jsx)("p",{className:"text-gray-500 text-lg",children:"No experience data available yet."})})};var kh=n(205);const Nh="181",Lh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ih={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Oh=0,Dh=1,Fh=2,Uh=3,zh=0,Bh=1,jh=2,Vh=3,Hh=0,Wh=1,Gh=2,Xh=0,qh=1,Yh=2,Zh=3,Kh=4,Jh=5,$h=100,Qh=101,ef=102,tf=103,nf=104,rf=200,af=201,of=202,sf=203,lf=204,cf=205,uf=206,df=207,hf=208,ff=209,pf=210,mf=211,gf=212,vf=213,yf=214,bf=0,xf=1,_f=2,wf=3,Sf=4,Mf=5,Ef=6,Tf=7,Cf=0,Af=1,Rf=2,Pf=0,kf=1,Nf=2,Lf=3,If=4,Of=5,Df=6,Ff=7,Uf="attached",zf="detached",Bf=300,jf=301,Vf=302,Hf=303,Wf=304,Gf=306,Xf=1e3,qf=1001,Yf=1002,Zf=1003,Kf=1004,Jf=1004,$f=1005,Qf=1005,ep=1006,tp=1007,np=1007,rp=1008,ip=1008,ap=1009,op=1010,sp=1011,lp=1012,cp=1013,up=1014,dp=1015,hp=1016,fp=1017,pp=1018,mp=1020,gp=35902,vp=35899,yp=1021,bp=1022,xp=1023,_p=1026,wp=1027,Sp=1028,Mp=1029,Ep=1030,Tp=1031,Cp=1032,Ap=1033,Rp=33776,Pp=33777,kp=33778,Np=33779,Lp=35840,Ip=35841,Op=35842,Dp=35843,Fp=36196,Up=37492,zp=37496,Bp=37808,jp=37809,Vp=37810,Hp=37811,Wp=37812,Gp=37813,Xp=37814,qp=37815,Yp=37816,Zp=37817,Kp=37818,Jp=37819,$p=37820,Qp=37821,em=36492,tm=36494,nm=36495,rm=36283,im=36284,am=36285,om=36286,sm=2200,lm=2201,cm=2202,um=2300,dm=2301,hm=2302,fm=2400,pm=2401,mm=2402,gm=2500,vm=2501,ym=0,bm=1,xm=2,_m=3200,wm=3201,Sm=3202,Mm=3203,Em=0,Tm=1,Cm="",Am="srgb",Rm="srgb-linear",Pm="linear",km="srgb",Nm=0,Lm=7680,Im=7681,Om=7682,Dm=7683,Fm=34055,Um=34056,zm=5386,Bm=512,jm=513,Vm=514,Hm=515,Wm=516,Gm=517,Xm=518,qm=519,Ym=512,Zm=513,Km=514,Jm=515,$m=516,Qm=517,eg=518,tg=519,ng=35044,rg=35048,ig=35040,ag=35045,og=35049,sg=35041,lg=35046,cg=35050,ug=35042,dg="100",hg="300 es",fg=2e3,pg=2001,mg={COMPUTE:"compute",RENDER:"render"},gg={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},vg={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function yg(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const bg={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function xg(e,t){return new bg[e](t)}function _g(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function wg(){const e=_g("canvas");return e.style.display="block",e}const Sg={};let Mg=null;function Eg(e){Mg=e}function Tg(){return Mg}function Cg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r="THREE."+t.shift();Mg?Mg("log",r,...t):console.log(r,...t)}function Ag(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r="THREE."+t.shift();Mg?Mg("warn",r,...t):console.warn(r,...t)}function Rg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r="THREE."+t.shift();Mg?Mg("error",r,...t):console.error(r,...t)}function Pg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.join(" ");r in Sg||(Sg[r]=!0,Ag(...t))}class kg{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return void 0!==n&&(void 0!==n[e]&&-1!==n[e].indexOf(t))}removeEventListener(e,t){const n=this._listeners;if(void 0===n)return;const r=n[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){const t=this._listeners;if(void 0===t)return;const n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,e);e.target=null}}}const Ng=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Lg=1234567;const Ig=Math.PI/180,Og=180/Math.PI;function Dg(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Ng[255&e]+Ng[e>>8&255]+Ng[e>>16&255]+Ng[e>>24&255]+"-"+Ng[255&t]+Ng[t>>8&255]+"-"+Ng[t>>16&15|64]+Ng[t>>24&255]+"-"+Ng[63&n|128]+Ng[n>>8&255]+"-"+Ng[n>>16&255]+Ng[n>>24&255]+Ng[255&r]+Ng[r>>8&255]+Ng[r>>16&255]+Ng[r>>24&255]).toLowerCase()}function Fg(e,t,n){return Math.max(t,Math.min(n,e))}function Ug(e,t){return(e%t+t)%t}function zg(e,t,n){return(1-n)*e+n*t}function Bg(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function jg(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Vg={DEG2RAD:Ig,RAD2DEG:Og,generateUUID:Dg,clamp:Fg,euclideanModulo:Ug,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:zg,damp:function(e,t,n,r){return zg(e,t,1-Math.exp(-n*r))},pingpong:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Ug(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Lg=e);let t=Lg+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Ig},radToDeg:function(e){return e*Og},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+r)/2),u=o((t+r)/2),d=a((t-r)/2),h=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c);break;default:Ag("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:jg,denormalize:Bg};class Hg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Hg.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Fg(this.x,e.x,t.x),this.y=Fg(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Fg(this.x,e,t),this.y=Fg(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Fg(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Fg(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Wg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,o){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3],d=i[a+0],h=i[a+1],f=i[a+2],p=i[a+3];if(o<=0)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(o>=1)return e[t+0]=d,e[t+1]=h,e[t+2]=f,void(e[t+3]=p);if(u!==p||s!==d||l!==h||c!==f){let e=s*d+l*h+c*f+u*p;e<0&&(d=-d,h=-h,f=-f,p=-p,e=-e);let t=1-o;if(e<.9995){const n=Math.acos(e),r=Math.sin(n);t=Math.sin(t*n)/r,s=s*t+d*(o=Math.sin(o*n)/r),l=l*t+h*o,c=c*t+f*o,u=u*t+p*o}else{s=s*t+d*o,l=l*t+h*o,c=c*t+f*o,u=u*t+p*o;const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,a){const o=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[a],d=i[a+1],h=i[a+2],f=i[a+3];return e[t]=o*f+c*u+s*h-l*d,e[t+1]=s*f+c*d+l*u-o*h,e[t+2]=l*f+c*h+o*d-s*u,e[t+3]=c*f-o*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(r/2),u=o(i/2),d=s(n/2),h=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"YXZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"ZXY":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"ZYX":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"YZX":this._x=d*c*u+l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u-d*h*f;break;case"XZY":this._x=d*c*u-l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u+d*h*f;break;default:Ag("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+o+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(a-r)*e}else if(n>o&&n>u){const e=2*Math.sqrt(1+n-o-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+l)/e}else if(o>u){const e=2*Math.sqrt(1+o-n-u);this._w=(i-l)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-o);this._w=(a-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Fg(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+r*l-i*s,this._y=r*c+a*s+i*o-n*l,this._z=i*c+a*l+n*s-r*o,this._w=a*c-n*o-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,r=e._y,i=e._z,a=e._w,o=this.dot(e);o<0&&(n=-n,r=-r,i=-i,a=-a,o=-o);let s=1-t;if(o<.9995){const e=Math.acos(o),l=Math.sin(e);s=Math.sin(s*e)/l,t=Math.sin(t*e)/l,this._x=this._x*s+n*t,this._y=this._y*s+r*t,this._z=this._z*s+i*t,this._w=this._w*s+a*t,this._onChangeCallback()}else this._x=this._x*s+n*t,this._y=this._y*s+r*t,this._z=this._z*s+i*t,this._w=this._w*s+a*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Gg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Gg.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(qg.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(qg.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=2*(a*r-o*n),c=2*(o*t-i*r),u=2*(i*n-a*t);return this.x=t+s*l+a*u-o*c,this.y=n+s*c+o*l-i*u,this.z=r+s*u+i*c-a*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Fg(this.x,e.x,t.x),this.y=Fg(this.y,e.y,t.y),this.z=Fg(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Fg(this.x,e,t),this.y=Fg(this.y,e,t),this.z=Fg(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Fg(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Xg.copy(this).projectOnVector(e),this.sub(Xg)}reflect(e){return this.sub(Xg.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Fg(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Xg=new Gg,qg=new Wg;class Yg{constructor(e,t,n,r,i,a,o,s,l){Yg.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,o,s,l)}set(e,t,n,r,i,a,o,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return i[0]=a*p+o*v+s*x,i[3]=a*m+o*y+s*_,i[6]=a*g+o*b+s*w,i[1]=l*p+c*v+u*x,i[4]=l*m+c*y+u*_,i[7]=l*g+c*b+u*w,i[2]=d*p+h*v+f*x,i[5]=d*m+h*y+f*_,i[8]=d*g+h*b+f*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*i*c+n*o*s+r*i*l-r*a*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,d=o*s-c*i,h=l*i-a*s,f=t*u+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(c*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,o){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(Zg.makeScale(e,t)),this}rotate(e){return this.premultiply(Zg.makeRotation(-e)),this}translate(e,t){return this.premultiply(Zg.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Zg=new Yg,Kg=(new Yg).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Jg=(new Yg).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function $g(){const e={enabled:!0,workingColorSpace:Rm,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(this.spaces[t].transfer===km&&(e.r=ev(e.r),e.g=ev(e.g),e.b=ev(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===km&&(e.r=tv(e.r),e.g=tv(e.g),e.b=tv(e.b)),e):e},workingToColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},colorSpaceToWorking:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===Cm?Pm:this.spaces[e].transfer},getToneMappingMode:function(e){return this.spaces[e].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.workingColorSpace;return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.workingColorSpace;return this.spaces[e].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(t,n){return Pg("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),e.workingToColorSpace(t,n)},toWorkingColorSpace:function(t,n){return Pg("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),e.colorSpaceToWorking(t,n)}},t=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return e.define({[Rm]:{primaries:t,whitePoint:r,transfer:Pm,toXYZ:Kg,fromXYZ:Jg,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Am},outputColorSpaceConfig:{drawingBufferColorSpace:Am}},[Am]:{primaries:t,whitePoint:r,transfer:km,toXYZ:Kg,fromXYZ:Jg,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Am}}}),e}const Qg=$g();function ev(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function tv(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let nv;class rv{static getDataURL(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png";if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===nv&&(nv=_g("canvas")),nv.width=e.width,nv.height=e.height;const n=nv.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=nv}return t.toDataURL(n)}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=_g("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*ev(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*ev(t[e]/255)):t[e]=ev(t[e]);return{data:t,width:e.width,height:e.height}}return Ag("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let iv=0;class av{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:iv++}),this.uuid=Dg(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return"undefined"!==typeof HTMLVideoElement&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):null!==t?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(ov(r[t].image)):e.push(ov(r[t]))}else e=ov(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function ov(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?rv.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(Ag("Texture: Unable to serialize Texture."),{})}let sv=0;const lv=new Gg;class cv extends kg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cv.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cv.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qf,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qf,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ep,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rp,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xp,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:ap,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:cv.DEFAULT_ANISOTROPY,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Cm;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:sv++}),this.uuid=Dg(),this.name="",this.source=new av(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new Hg(0,0),this.repeat=new Hg(1,1),this.center=new Hg(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Yg,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(lv).x}get height(){return this.source.getSize(lv).y}get depth(){return this.source.getSize(lv).z}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(void 0===n){Ag("Texture.setValues(): parameter '".concat(t,"' has value of undefined."));continue}const r=this[t];void 0!==r?r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n:Ag("Texture.setValues(): property '".concat(t,"' does not exist."))}}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Bf)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Xf:e.x=e.x-Math.floor(e.x);break;case qf:e.x=e.x<0?0:1;break;case Yf:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Xf:e.y=e.y-Math.floor(e.y);break;case qf:e.y=e.y<0?0:1;break;case Yf:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}cv.DEFAULT_IMAGE=null,cv.DEFAULT_MAPPING=Bf,cv.DEFAULT_ANISOTROPY=1;class uv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;uv.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const a=.01,o=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],f=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-d)<a&&Math.abs(u-p)<a&&Math.abs(f-m)<a){if(Math.abs(c+d)<o&&Math.abs(u+p)<o&&Math.abs(f+m)<o&&Math.abs(l+h+g-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,v=(g+1)/2,y=(c+d)/4,b=(u+p)/4,x=(f+m)/4;return e>s&&e>v?e<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):s>v?s<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=x/r):v<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=x/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(d-c)*(d-c));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(u-p)/v,this.z=(d-c)/v,this.w=Math.acos((l+h+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Fg(this.x,e.x,t.x),this.y=Fg(this.y,e.y,t.y),this.z=Fg(this.z,e.z,t.z),this.w=Fg(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Fg(this.x,e,t),this.y=Fg(this.y,e,t),this.z=Fg(this.z,e,t),this.w=Fg(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Fg(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class dv extends kg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ep,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new uv(0,0,e,t),this.scissorTest=!1,this.viewport=new uv(0,0,e,t);const r={width:e,height:t,depth:n.depth},i=new cv(r);this.textures=[];const a=n.count;for(let o=0;o<a;o++)this.textures[o]=i.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={minFilter:ep,generateMipmaps:!1,flipY:!1,internalFormat:null};void 0!==e.mapping&&(t.mapping=e.mapping),void 0!==e.wrapS&&(t.wrapS=e.wrapS),void 0!==e.wrapT&&(t.wrapT=e.wrapT),void 0!==e.wrapR&&(t.wrapR=e.wrapR),void 0!==e.magFilter&&(t.magFilter=e.magFilter),void 0!==e.minFilter&&(t.minFilter=e.minFilter),void 0!==e.format&&(t.format=e.format),void 0!==e.type&&(t.type=e.type),void 0!==e.anisotropy&&(t.anisotropy=e.anisotropy),void 0!==e.colorSpace&&(t.colorSpace=e.colorSpace),void 0!==e.flipY&&(t.flipY=e.flipY),void 0!==e.generateMipmaps&&(t.generateMipmaps=e.generateMipmaps),void 0!==e.internalFormat&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++){this.textures[n].setValues(t)}}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,!0!==this.textures[r].isData3DTexture&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const n=Object.assign({},e.textures[t].image);this.textures[t].source=new av(n)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class hv extends dv{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class fv extends cv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Zf,this.minFilter=Zf,this.wrapR=qf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class pv extends hv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new fv(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class mv extends cv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Zf,this.minFilter=Zf,this.wrapR=qf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gv extends hv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new mv(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class vv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gg(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(bv.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(bv.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=bv.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,bv):bv.fromBufferAttribute(r,t),bv.applyMatrix4(e.matrixWorld),this.expandByPoint(bv);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),xv.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),xv.copy(n.boundingBox)),xv.applyMatrix4(e.matrixWorld),this.union(xv)}const r=e.children;for(let i=0,a=r.length;i<a;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,bv),bv.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Cv),Av.subVectors(this.max,Cv),_v.subVectors(e.a,Cv),wv.subVectors(e.b,Cv),Sv.subVectors(e.c,Cv),Mv.subVectors(wv,_v),Ev.subVectors(Sv,wv),Tv.subVectors(_v,Sv);let t=[0,-Mv.z,Mv.y,0,-Ev.z,Ev.y,0,-Tv.z,Tv.y,Mv.z,0,-Mv.x,Ev.z,0,-Ev.x,Tv.z,0,-Tv.x,-Mv.y,Mv.x,0,-Ev.y,Ev.x,0,-Tv.y,Tv.x,0];return!!kv(t,_v,wv,Sv,Av)&&(t=[1,0,0,0,1,0,0,0,1],!!kv(t,_v,wv,Sv,Av)&&(Rv.crossVectors(Mv,Ev),t=[Rv.x,Rv.y,Rv.z],kv(t,_v,wv,Sv,Av)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,bv).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(bv).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(yv[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),yv[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),yv[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),yv[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),yv[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),yv[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),yv[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),yv[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(yv)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const yv=[new Gg,new Gg,new Gg,new Gg,new Gg,new Gg,new Gg,new Gg],bv=new Gg,xv=new vv,_v=new Gg,wv=new Gg,Sv=new Gg,Mv=new Gg,Ev=new Gg,Tv=new Gg,Cv=new Gg,Av=new Gg,Rv=new Gg,Pv=new Gg;function kv(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){Pv.fromArray(e,a);const o=i.x*Math.abs(Pv.x)+i.y*Math.abs(Pv.y)+i.z*Math.abs(Pv.z),s=t.dot(Pv),l=n.dot(Pv),c=r.dot(Pv);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>o)return!1}return!0}const Nv=new vv,Lv=new Gg,Iv=new Gg;class Ov{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Nv.setFromPoints(e).getCenter(n);let r=0;for(let i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Lv.subVectors(e,this.center);const t=Lv.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Lv,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Iv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Lv.copy(e.center).add(Iv)),this.expandByPoint(Lv.copy(e.center).sub(Iv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Dv=new Gg,Fv=new Gg,Uv=new Gg,zv=new Gg,Bv=new Gg,jv=new Gg,Vv=new Gg;class Hv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Dv)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Dv.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Dv.copy(this.origin).addScaledVector(this.direction,t),Dv.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Fv.copy(e).add(t).multiplyScalar(.5),Uv.copy(t).sub(e).normalize(),zv.copy(this.origin).sub(Fv);const i=.5*e.distanceTo(t),a=-this.direction.dot(Uv),o=zv.dot(this.direction),s=-zv.dot(Uv),l=zv.lengthSq(),c=Math.abs(1-a*a);let u,d,h,f;if(c>0)if(u=a*s-o,d=a*o-s,f=i*c,u>=0)if(d>=-f)if(d<=f){const e=1/c;u*=e,d*=e,h=u*(u+a*d+2*o)+d*(a*u+d+2*s)+l}else d=i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d=-i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d<=-f?(u=Math.max(0,-(-a*i+o)),d=u>0?-i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l):d<=f?(u=0,d=Math.min(Math.max(-i,-s),i),h=d*(d+2*s)+l):(u=Math.max(0,-(a*i+o)),d=u>0?i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l);else d=a>0?-i:i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(Fv).addScaledVector(Uv,d),h}intersectSphere(e,t){Dv.subVectors(e.center,this.origin);const n=Dv.dot(this.direction),r=Dv.dot(Dv)-n*n,i=e.radius*e.radius;if(r>i)return null;const a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return!(e.radius<0)&&this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,a,o,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(i=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),u>=0?(o=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Dv)}intersectTriangle(e,t,n,r,i){Bv.subVectors(t,e),jv.subVectors(n,e),Vv.crossVectors(Bv,jv);let a,o=this.direction.dot(Vv);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}zv.subVectors(this.origin,e);const s=a*this.direction.dot(jv.crossVectors(zv,jv));if(s<0)return null;const l=a*this.direction.dot(Bv.cross(zv));if(l<0)return null;if(s+l>o)return null;const c=-a*zv.dot(Vv);return c<0?null:this.at(c/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Wv{constructor(e,t,n,r,i,a,o,s,l,c,u,d,h,f,p,m){Wv.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,o,s,l,c,u,d,h,f,p,m)}set(e,t,n,r,i,a,o,s,l,c,u,d,h,f,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=h,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Wv).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Gv.setFromMatrixColumn(e,0).length(),i=1/Gv.setFromMatrixColumn(e,1).length(),a=1/Gv.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-o*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=a*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*o,t[4]=r*o-n,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=n*o-r,t[6]=i+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*o,t[4]=-a*u,t[8]=r+n*o,t[1]=n+r*o,t[5]=a*c,t[9]=i-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=a*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=o*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(qv,e,Yv)}lookAt(e,t,n){const r=this.elements;return Jv.subVectors(e,t),0===Jv.lengthSq()&&(Jv.z=1),Jv.normalize(),Zv.crossVectors(n,Jv),0===Zv.lengthSq()&&(1===Math.abs(n.z)?Jv.x+=1e-4:Jv.z+=1e-4,Jv.normalize(),Zv.crossVectors(n,Jv)),Zv.normalize(),Kv.crossVectors(Jv,Zv),r[0]=Zv.x,r[4]=Kv.x,r[8]=Jv.x,r[1]=Zv.y,r[5]=Kv.y,r[9]=Jv.y,r[2]=Zv.z,r[6]=Kv.z,r[10]=Jv.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],S=r[8],M=r[12],E=r[1],T=r[5],C=r[9],A=r[13],R=r[2],P=r[6],k=r[10],N=r[14],L=r[3],I=r[7],O=r[11],D=r[15];return i[0]=a*_+o*E+s*R+l*L,i[4]=a*w+o*T+s*P+l*I,i[8]=a*S+o*C+s*k+l*O,i[12]=a*M+o*A+s*N+l*D,i[1]=c*_+u*E+d*R+h*L,i[5]=c*w+u*T+d*P+h*I,i[9]=c*S+u*C+d*k+h*O,i[13]=c*M+u*A+d*N+h*D,i[2]=f*_+p*E+m*R+g*L,i[6]=f*w+p*T+m*P+g*I,i[10]=f*S+p*C+m*k+g*O,i[14]=f*M+p*A+m*N+g*D,i[3]=v*_+y*E+b*R+x*L,i[7]=v*w+y*T+b*P+x*I,i[11]=v*S+y*C+b*k+x*O,i[15]=v*M+y*A+b*N+x*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+i*s*u-r*l*u-i*o*d+n*l*d+r*o*h-n*s*h)+e[7]*(+t*s*h-t*l*d+i*a*d-r*a*h+r*l*c-i*s*c)+e[11]*(+t*l*u-t*o*h-i*a*u+n*a*h+i*o*c-n*l*c)+e[15]*(-r*o*c-t*s*u+t*o*d+r*a*u-n*a*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],f=e[12],p=e[13],m=e[14],g=e[15],v=u*m*l-p*d*l+p*s*h-o*m*h-u*s*g+o*d*g,y=f*d*l-c*m*l-f*s*h+a*m*h+c*s*g-a*d*g,b=c*p*l-f*u*l+f*o*h-a*p*h-c*o*g+a*u*g,x=f*u*s-c*p*s-f*o*d+a*p*d+c*o*m-a*u*m,_=t*v+n*y+r*b+i*x;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=v*w,e[1]=(p*d*i-u*m*i-p*r*h+n*m*h+u*r*g-n*d*g)*w,e[2]=(o*m*i-p*s*i+p*r*l-n*m*l-o*r*g+n*s*g)*w,e[3]=(u*s*i-o*d*i-u*r*l+n*d*l+o*r*h-n*s*h)*w,e[4]=y*w,e[5]=(c*m*i-f*d*i+f*r*h-t*m*h-c*r*g+t*d*g)*w,e[6]=(f*s*i-a*m*i-f*r*l+t*m*l+a*r*g-t*s*g)*w,e[7]=(a*d*i-c*s*i+c*r*l-t*d*l-a*r*h+t*s*h)*w,e[8]=b*w,e[9]=(f*u*i-c*p*i-f*n*h+t*p*h+c*n*g-t*u*g)*w,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*g+t*o*g)*w,e[11]=(c*o*i-a*u*i-c*n*l+t*u*l+a*n*h-t*o*h)*w,e[12]=x*w,e[13]=(c*p*r-f*u*r+f*n*d-t*p*d-c*n*m+t*u*m)*w,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*m-t*o*m)*w,e[15]=(a*u*r-c*o*r+c*n*s-t*u*s-a*n*d+t*o*d)*w,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,c=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+n,c*s-r*a,0,l*s-r*o,c*s+r*a,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,c=a+a,u=o+o,d=i*l,h=i*c,f=i*u,p=a*c,m=a*u,g=o*u,v=s*l,y=s*c,b=s*u,x=n.x,_=n.y,w=n.z;return r[0]=(1-(p+g))*x,r[1]=(h+b)*x,r[2]=(f-y)*x,r[3]=0,r[4]=(h-b)*_,r[5]=(1-(d+g))*_,r[6]=(m+v)*_,r[7]=0,r[8]=(f+y)*w,r[9]=(m-v)*w,r[10]=(1-(d+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=Gv.set(r[0],r[1],r[2]).length();const a=Gv.set(r[4],r[5],r[6]).length(),o=Gv.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Xv.copy(this);const s=1/i,l=1/a,c=1/o;return Xv.elements[0]*=s,Xv.elements[1]*=s,Xv.elements[2]*=s,Xv.elements[4]*=l,Xv.elements[5]*=l,Xv.elements[6]*=l,Xv.elements[8]*=c,Xv.elements[9]*=c,Xv.elements[10]*=c,t.setFromRotationMatrix(Xv),n.x=i,n.y=a,n.z=o,this}makePerspective(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fg,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=this.elements,c=2*i/(t-e),u=2*i/(n-r),d=(t+e)/(t-e),h=(n+r)/(n-r);let f,p;if(s)f=i/(a-i),p=a*i/(a-i);else if(o===fg)f=-(a+i)/(a-i),p=-2*a*i/(a-i);else{if(o!==pg)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);f=-a/(a-i),p=-a*i/(a-i)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fg,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=this.elements,c=2/(t-e),u=2/(n-r),d=-(t+e)/(t-e),h=-(n+r)/(n-r);let f,p;if(s)f=1/(a-i),p=a/(a-i);else if(o===fg)f=-2/(a-i),p=-(a+i)/(a-i);else{if(o!==pg)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);f=-1/(a-i),p=-i/(a-i)}return l[0]=c,l[4]=0,l[8]=0,l[12]=d,l[1]=0,l[5]=u,l[9]=0,l[13]=h,l[2]=0,l[6]=0,l[10]=f,l[14]=p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Gv=new Gg,Xv=new Wv,qv=new Gg(0,0,0),Yv=new Gg(1,1,1),Zv=new Gg,Kv=new Gg,Jv=new Gg,$v=new Wv,Qv=new Wg;class ey{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ey.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(Fg(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Fg(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(Fg(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Fg(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Fg(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Fg(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-c,h),this._y=0);break;default:Ag("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return $v.makeRotationFromQuaternion(e),this.setFromRotationMatrix($v,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return Qv.setFromEuler(this),this.setFromQuaternion(Qv,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ey.DEFAULT_ORDER="XYZ";class ty{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&1<<e)}}let ny=0;const ry=new Gg,iy=new Wg,ay=new Wv,oy=new Gg,sy=new Gg,ly=new Gg,cy=new Wg,uy=new Gg(1,0,0),dy=new Gg(0,1,0),hy=new Gg(0,0,1),fy={type:"added"},py={type:"removed"},my={type:"childadded",child:null},gy={type:"childremoved",child:null};class vy extends kg{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ny++}),this.uuid=Dg(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=vy.DEFAULT_UP.clone();const e=new Gg,t=new ey,n=new Wg,r=new Gg(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Wv},normalMatrix:{value:new Yg}}),this.matrix=new Wv,this.matrixWorld=new Wv,this.matrixAutoUpdate=vy.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=vy.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ty,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return iy.setFromAxisAngle(e,t),this.quaternion.multiply(iy),this}rotateOnWorldAxis(e,t){return iy.setFromAxisAngle(e,t),this.quaternion.premultiply(iy),this}rotateX(e){return this.rotateOnAxis(uy,e)}rotateY(e){return this.rotateOnAxis(dy,e)}rotateZ(e){return this.rotateOnAxis(hy,e)}translateOnAxis(e,t){return ry.copy(e).applyQuaternion(this.quaternion),this.position.add(ry.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(uy,e)}translateY(e){return this.translateOnAxis(dy,e)}translateZ(e){return this.translateOnAxis(hy,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ay.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?oy.copy(e):oy.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),sy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ay.lookAt(sy,oy,this.up):ay.lookAt(oy,sy,this.up),this.quaternion.setFromRotationMatrix(ay),r&&(ay.extractRotation(r.matrixWorld),iy.setFromRotationMatrix(ay),this.quaternion.premultiply(iy.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(Rg("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(fy),my.child=e,this.dispatchEvent(my),my.child=null):Rg("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(py),gy.child=e,this.dispatchEvent(gy),gy.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ay.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ay.multiply(e.parent.matrixWorld)),e.applyMatrix4(ay),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(fy),my.child=e,this.dispatchEvent(my),my.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);const r=this.children;for(let i=0,a=r.length;i<a;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sy,e,ly),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sy,cy,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){t[n].updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){e[t].updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(e=>f(f({},e),{},{boundingBox:e.boundingBox?e.boundingBox.toJSON():void 0,boundingSphere:e.boundingSphere?e.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(e=>f({},e)),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere=this.boundingSphere.toJSON()),null!==this.boundingBox&&(r.boundingBox=this.boundingBox.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=a(e.geometries),r=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),c=a(e.animations),u=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function a(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}vy.DEFAULT_UP=new Gg(0,1,0),vy.DEFAULT_MATRIX_AUTO_UPDATE=!0,vy.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const yy=new Gg,by=new Gg,xy=new Gg,_y=new Gg,wy=new Gg,Sy=new Gg,My=new Gg,Ey=new Gg,Ty=new Gg,Cy=new Gg,Ay=new uv,Ry=new uv,Py=new uv;class ky{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Gg;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),yy.subVectors(e,t),r.cross(yy);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){yy.subVectors(r,t),by.subVectors(n,t),xy.subVectors(e,t);const a=yy.dot(yy),o=yy.dot(by),s=yy.dot(xy),l=by.dot(by),c=by.dot(xy),u=a*l-o*o;if(0===u)return i.set(0,0,0),null;const d=1/u,h=(l*s-o*c)*d,f=(a*c-o*s)*d;return i.set(1-h-f,f,h)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,_y)&&(_y.x>=0&&_y.y>=0&&_y.x+_y.y<=1)}static getInterpolation(e,t,n,r,i,a,o,s){return null===this.getBarycoord(e,t,n,r,_y)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,_y.x),s.addScaledVector(a,_y.y),s.addScaledVector(o,_y.z),s)}static getInterpolatedAttribute(e,t,n,r,i,a){return Ay.setScalar(0),Ry.setScalar(0),Py.setScalar(0),Ay.fromBufferAttribute(e,t),Ry.fromBufferAttribute(e,n),Py.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(Ay,i.x),a.addScaledVector(Ry,i.y),a.addScaledVector(Py,i.z),a}static isFrontFacing(e,t,n,r){return yy.subVectors(n,t),by.subVectors(e,t),yy.cross(by).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return yy.subVectors(this.c,this.b),by.subVectors(this.a,this.b),.5*yy.cross(by).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ky.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ky.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,i){return ky.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return ky.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ky.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let a,o;wy.subVectors(r,n),Sy.subVectors(i,n),Ey.subVectors(e,n);const s=wy.dot(Ey),l=Sy.dot(Ey);if(s<=0&&l<=0)return t.copy(n);Ty.subVectors(e,r);const c=wy.dot(Ty),u=Sy.dot(Ty);if(c>=0&&u<=c)return t.copy(r);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return a=s/(s-c),t.copy(n).addScaledVector(wy,a);Cy.subVectors(e,i);const h=wy.dot(Cy),f=Sy.dot(Cy);if(f>=0&&h<=f)return t.copy(i);const p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(n).addScaledVector(Sy,o);const m=c*f-h*u;if(m<=0&&u-c>=0&&h-f>=0)return My.subVectors(i,r),o=(u-c)/(u-c+(h-f)),t.copy(r).addScaledVector(My,o);const g=1/(m+p+d);return a=p*g,o=d*g,t.copy(n).addScaledVector(wy,a).addScaledVector(Sy,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Ny={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ly={h:0,s:0,l:0},Iy={h:0,s:0,l:0};function Oy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class Dy{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Am;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Qg.colorSpaceToWorking(this,t),this}setRGB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qg.workingColorSpace;return this.r=e,this.g=t,this.b=n,Qg.colorSpaceToWorking(this,r),this}setHSL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qg.workingColorSpace;if(e=Ug(e,1),t=Fg(t,0,1),n=Fg(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Oy(i,r,e+1/3),this.g=Oy(i,r,e),this.b=Oy(i,r,e-1/3)}return Qg.colorSpaceToWorking(this,r),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Am;function r(t){void 0!==t&&parseFloat(t)<1&&Ag("Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:Ag("Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=t[1],i=r.length;if(3===i)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(6===i)return this.setHex(parseInt(r,16),n);Ag("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Am;const n=Ny[e.toLowerCase()];return void 0!==n?this.setHex(n,t):Ag("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ev(e.r),this.g=ev(e.g),this.b=ev(e.b),this}copyLinearToSRGB(e){return this.r=tv(e.r),this.g=tv(e.g),this.b=tv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Am;return Qg.workingToColorSpace(Fy.copy(this),e),65536*Math.round(Fg(255*Fy.r,0,255))+256*Math.round(Fg(255*Fy.g,0,255))+Math.round(Fg(255*Fy.b,0,255))}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Am;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qg.workingColorSpace;Qg.workingToColorSpace(Fy.copy(this),t);const n=Fy.r,r=Fy.g,i=Fy.b,a=Math.max(n,r,i),o=Math.min(n,r,i);let s,l;const c=(o+a)/2;if(o===a)s=0,l=0;else{const e=a-o;switch(l=c<=.5?e/(a+o):e/(2-a-o),a){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qg.workingColorSpace;return Qg.workingToColorSpace(Fy.copy(this),t),e.r=Fy.r,e.g=Fy.g,e.b=Fy.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Am;Qg.workingToColorSpace(Fy.copy(this),e);const t=Fy.r,n=Fy.g,r=Fy.b;return e!==Am?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}offsetHSL(e,t,n){return this.getHSL(Ly),this.setHSL(Ly.h+e,Ly.s+t,Ly.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ly),e.getHSL(Iy);const n=zg(Ly.h,Iy.h,t),r=zg(Ly.s,Iy.s,t),i=zg(Ly.l,Iy.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Fy=new Dy;Dy.NAMES=Ny;let Uy=0;class zy extends kg{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Uy++}),this.uuid=Dg(),this.name="",this.type="Material",this.blending=qh,this.side=Hh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=lf,this.blendDst=cf,this.blendEquation=$h,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Dy(0,0,0),this.blendAlpha=0,this.depthFunc=wf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=qm,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Lm,this.stencilZFail=Lm,this.stencilZPass=Lm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){Ag("Material: parameter '".concat(t,"' has value of undefined."));continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:Ag("Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==qh&&(n.blending=this.blending),this.side!==Hh&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==lf&&(n.blendSrc=this.blendSrc),this.blendDst!==cf&&(n.blendDst=this.blendDst),this.blendEquation!==$h&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==wf&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==qm&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Lm&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Lm&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Lm&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class By extends zy{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Dy(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ey,this.combine=Cf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const jy=Vy();function Vy(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;0===(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,a[l]=e|t}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(s[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function Hy(e){Math.abs(e)>65504&&Ag("DataUtils.toHalfFloat(): Value out of range."),e=Fg(e,-65504,65504),jy.floatView[0]=e;const t=jy.uint32View[0],n=t>>23&511;return jy.baseTable[n]+((8388607&t)>>jy.shiftTable[n])}function Wy(e){const t=e>>10;return jy.uint32View[0]=jy.mantissaTable[jy.offsetTable[t]+(1023&e)]+jy.exponentTable[t],jy.floatView[0]}class Gy{static toHalfFloat(e){return Hy(e)}static fromHalfFloat(e){return Wy(e)}}const Xy=new Gg,qy=new Hg;let Yy=0;class Zy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Yy++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=ng,this.updateRanges=[],this.gpuType=dp,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)qy.fromBufferAttribute(this,t),qy.applyMatrix3(e),this.setXY(t,qy.x,qy.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Xy.fromBufferAttribute(this,t),Xy.applyMatrix3(e),this.setXYZ(t,Xy.x,Xy.y,Xy.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Xy.fromBufferAttribute(this,t),Xy.applyMatrix4(e),this.setXYZ(t,Xy.x,Xy.y,Xy.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Xy.fromBufferAttribute(this,t),Xy.applyNormalMatrix(e),this.setXYZ(t,Xy.x,Xy.y,Xy.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Xy.fromBufferAttribute(this,t),Xy.transformDirection(e),this.setXYZ(t,Xy.x,Xy.y,Xy.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Bg(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=jg(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Bg(t,this.array)),t}setX(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Bg(t,this.array)),t}setY(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Bg(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Bg(t,this.array)),t}setW(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array),r=jg(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array),r=jg(r,this.array),i=jg(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==ng&&(e.usage=this.usage),e}}class Ky extends Zy{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Jy extends Zy{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class $y extends Zy{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Qy extends Zy{constructor(e,t,n){super(new Int16Array(e),t,n)}}class eb extends Zy{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class tb extends Zy{constructor(e,t,n){super(new Int32Array(e),t,n)}}class nb extends Zy{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class rb extends Zy{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Wy(this.array[e*this.itemSize]);return this.normalized&&(t=Bg(t,this.array)),t}setX(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize]=Hy(t),this}getY(e){let t=Wy(this.array[e*this.itemSize+1]);return this.normalized&&(t=Bg(t,this.array)),t}setY(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize+1]=Hy(t),this}getZ(e){let t=Wy(this.array[e*this.itemSize+2]);return this.normalized&&(t=Bg(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize+2]=Hy(t),this}getW(e){let t=Wy(this.array[e*this.itemSize+3]);return this.normalized&&(t=Bg(t,this.array)),t}setW(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize+3]=Hy(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array)),this.array[e+0]=Hy(t),this.array[e+1]=Hy(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array),r=jg(r,this.array)),this.array[e+0]=Hy(t),this.array[e+1]=Hy(n),this.array[e+2]=Hy(r),this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array),r=jg(r,this.array),i=jg(i,this.array)),this.array[e+0]=Hy(t),this.array[e+1]=Hy(n),this.array[e+2]=Hy(r),this.array[e+3]=Hy(i),this}}class ib extends Zy{constructor(e,t,n){super(new Float32Array(e),t,n)}}let ab=0;const ob=new Wv,sb=new vy,lb=new Gg,cb=new vv,ub=new vv,db=new Gg;class hb extends kg{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ab++}),this.uuid=Dg(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(yg(e)?nb:eb)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Yg).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ob.makeRotationFromQuaternion(e),this.applyMatrix4(ob),this}rotateX(e){return ob.makeRotationX(e),this.applyMatrix4(ob),this}rotateY(e){return ob.makeRotationY(e),this.applyMatrix4(ob),this}rotateZ(e){return ob.makeRotationZ(e),this.applyMatrix4(ob),this}translate(e,t,n){return ob.makeTranslation(e,t,n),this.applyMatrix4(ob),this}scale(e,t,n){return ob.makeScale(e,t,n),this.applyMatrix4(ob),this}lookAt(e){return sb.lookAt(e),sb.updateMatrix(),this.applyMatrix4(sb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lb).negate(),this.translate(lb.x,lb.y,lb.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}this.setAttribute("position",new ib(t,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const n=e[r];t.setXYZ(r,n.x,n.y,n.z||0)}e.length>t.count&&Ag("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new vv);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return Rg("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Gg(-1/0,-1/0,-1/0),new Gg(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];cb.setFromBufferAttribute(e),this.morphTargetsRelative?(db.addVectors(this.boundingBox.min,cb.min),this.boundingBox.expandByPoint(db),db.addVectors(this.boundingBox.max,cb.max),this.boundingBox.expandByPoint(db)):(this.boundingBox.expandByPoint(cb.min),this.boundingBox.expandByPoint(cb.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Rg('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Ov);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return Rg("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Gg,1/0);if(e){const n=this.boundingSphere.center;if(cb.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];ub.setFromBufferAttribute(n),this.morphTargetsRelative?(db.addVectors(cb.min,ub.min),cb.expandByPoint(db),db.addVectors(cb.max,ub.max),cb.expandByPoint(db)):(cb.expandByPoint(ub.min),cb.expandByPoint(ub.max))}cb.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)db.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(db));if(t)for(let i=0,a=t.length;i<a;i++){const a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)db.fromBufferAttribute(a,t),o&&(lb.fromBufferAttribute(e,t),db.add(lb)),r=Math.max(r,n.distanceToSquared(db))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&Rg('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void Rg("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Zy(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),o=[],s=[];for(let S=0;S<n.count;S++)o[S]=new Gg,s[S]=new Gg;const l=new Gg,c=new Gg,u=new Gg,d=new Hg,h=new Hg,f=new Hg,p=new Gg,m=new Gg;function g(e,t,r){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,r),d.fromBufferAttribute(i,e),h.fromBufferAttribute(i,t),f.fromBufferAttribute(i,r),c.sub(l),u.sub(l),h.sub(d),f.sub(d);const a=1/(h.x*f.y-f.x*h.y);isFinite(a)&&(p.copy(c).multiplyScalar(f.y).addScaledVector(u,-h.y).multiplyScalar(a),m.copy(u).multiplyScalar(h.x).addScaledVector(c,-f.x).multiplyScalar(a),o[e].add(p),o[t].add(p),o[r].add(p),s[e].add(m),s[t].add(m),s[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:e.count}]);for(let S=0,M=v.length;S<M;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)g(e.getX(r+0),e.getX(r+1),e.getX(r+2))}const y=new Gg,b=new Gg,x=new Gg,_=new Gg;function w(e){x.fromBufferAttribute(r,e),_.copy(x);const t=o[e];y.copy(t),y.sub(x.multiplyScalar(x.dot(t))).normalize(),b.crossVectors(_,t);const n=b.dot(s[e])<0?-1:1;a.setXYZW(e,y.x,y.y,y.z,n)}for(let S=0,M=v.length;S<M;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)w(e.getX(r+0)),w(e.getX(r+1)),w(e.getX(r+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Zy(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new Gg,i=new Gg,a=new Gg,o=new Gg,s=new Gg,l=new Gg,c=new Gg,u=new Gg;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),f=e.getX(d+1),p=e.getX(d+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,f),a.fromBufferAttribute(t,p),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),o.fromBufferAttribute(n,h),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),o.add(c),s.add(c),l.add(c),n.setXYZ(h,o.x,o.y,o.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)db.fromBufferAttribute(e,t),db.normalize(),e.setXYZ(t,db.x,db.y,db.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r);let o=0,s=0;for(let l=0,c=t.length;l<c;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)a[s++]=n[o++]}return new Zy(a,r,i)}if(null===this.index)return Ag("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new hb,n=this.index.array,r=this.attributes;for(const o in r){const i=e(r[o],n);t.setAttribute(o,i)}const i=this.morphAttributes;for(const o in i){const r=[],a=i[o];for(let t=0,i=a.length;t<i;t++){const i=e(a[t],n);r.push(i)}t.morphAttributes[o]=r}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,s=a.length;o<s;o++){const e=a[o];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere=o.toJSON()),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone());const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,c=a.length;l<c;l++){const e=a[l];this.addGroup(e.start,e.count,e.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const fb=new Wv,pb=new Hv,mb=new Ov,gb=new Gg,vb=new Gg,yb=new Gg,bb=new Gg,xb=new Gg,_b=new Gg,wb=new Gg,Sb=new Gg;class Mb extends vy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new By;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(i&&o){_b.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=o[n],s=i[n];0!==r&&(xb.fromBufferAttribute(s,e),a?_b.addScaledVector(xb,r):_b.addScaledVector(xb.sub(t),r))}t.add(_b)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),mb.copy(n.boundingSphere),mb.applyMatrix4(i),pb.copy(e.ray).recast(e.near),!1===mb.containsPoint(pb.origin)){if(null===pb.intersectSphere(mb,gb))return;if(pb.origin.distanceToSquared(gb)>(e.far-e.near)**2)return}fb.copy(i).invert(),pb.copy(e.ray).applyMatrix4(fb),null!==n.boundingBox&&!1===pb.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,pb)}}_computeIntersections(e,t,n){let r;const i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,d=i.groups,h=i.drawRange;if(null!==o)if(Array.isArray(a))for(let f=0,p=d.length;f<p;f++){const i=d[f],s=a[i.materialIndex];for(let a=Math.max(i.start,h.start),d=Math.min(o.count,Math.min(i.start+i.count,h.start+h.count));a<d;a+=3){r=Eb(this,s,e,n,l,c,u,o.getX(a),o.getX(a+1),o.getX(a+2)),r&&(r.faceIndex=Math.floor(a/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),s=Math.min(o.count,h.start+h.count);i<s;i+=3){r=Eb(this,a,e,n,l,c,u,o.getX(i),o.getX(i+1),o.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==s)if(Array.isArray(a))for(let f=0,p=d.length;f<p;f++){const i=d[f],o=a[i.materialIndex];for(let a=Math.max(i.start,h.start),d=Math.min(s.count,Math.min(i.start+i.count,h.start+h.count));a<d;a+=3){r=Eb(this,o,e,n,l,c,u,a,a+1,a+2),r&&(r.faceIndex=Math.floor(a/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),o=Math.min(s.count,h.start+h.count);i<o;i+=3){r=Eb(this,a,e,n,l,c,u,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function Eb(e,t,n,r,i,a,o,s,l,c){e.getVertexPosition(s,vb),e.getVertexPosition(l,yb),e.getVertexPosition(c,bb);const u=function(e,t,n,r,i,a,o,s){let l;if(l=t.side===Wh?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===Hh,s),null===l)return null;Sb.copy(s),Sb.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Sb);return c<n.near||c>n.far?null:{distance:c,point:Sb.clone(),object:e}}(e,t,n,r,vb,yb,bb,wb);if(u){const e=new Gg;ky.getBarycoord(wb,vb,yb,bb,e),i&&(u.uv=ky.getInterpolatedAttribute(i,s,l,c,e,new Hg)),a&&(u.uv1=ky.getInterpolatedAttribute(a,s,l,c,e,new Hg)),o&&(u.normal=ky.getInterpolatedAttribute(o,s,l,c,e,new Gg),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const t={a:s,b:l,c:c,normal:new Gg,materialIndex:0};ky.getNormal(vb,yb,bb,t.normal),u.face=t,u.barycoord=e}return u}class Tb extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};const o=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);const s=[],l=[],c=[],u=[];let d=0,h=0;function f(e,t,n,r,i,a,f,p,m,g,v){const y=a/m,b=f/g,x=a/2,_=f/2,w=p/2,S=m+1,M=g+1;let E=0,T=0;const C=new Gg;for(let o=0;o<M;o++){const a=o*b-_;for(let s=0;s<S;s++){const d=s*y-x;C[e]=d*r,C[t]=a*i,C[n]=w,l.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=p>0?1:-1,c.push(C.x,C.y,C.z),u.push(s/m),u.push(1-o/g),E+=1}}for(let o=0;o<g;o++)for(let e=0;e<m;e++){const t=d+e+S*o,n=d+e+S*(o+1),r=d+(e+1)+S*(o+1),i=d+(e+1)+S*o;s.push(t,n,i),s.push(n,r,i),T+=6}o.addGroup(h,T,v),h+=T,d+=E}f("z","y","x",-1,-1,n,t,e,a,i,0),f("z","y","x",1,-1,n,t,-e,a,i,1),f("x","z","y",1,1,e,n,t,r,a,2),f("x","z","y",1,-1,e,n,-t,r,a,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new ib(l,3)),this.setAttribute("normal",new ib(c,3)),this.setAttribute("uv",new ib(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tb(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Cb(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Ag("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Ab(e){const t={};for(let n=0;n<e.length;n++){const r=Cb(e[n]);for(const e in r)t[e]=r[e]}return t}function Rb(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:Qg.workingColorSpace}const Pb={clone:Cb,merge:Ab};class kb extends zy{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Cb(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Nb extends vy{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wv,this.projectionMatrix=new Wv,this.projectionMatrixInverse=new Wv,this.coordinateSystem=fg,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Lb=new Gg,Ib=new Hg,Ob=new Hg;class Db extends Nb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Og*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Ig*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Og*Math.atan(Math.tan(.5*Ig*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Lb.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Lb.x,Lb.y).multiplyScalar(-e/Lb.z),Lb.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Lb.x,Lb.y).multiplyScalar(-e/Lb.z)}getViewSize(e,t){return this.getViewBounds(e,Ib,Ob),t.subVectors(Ob,Ib)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Ig*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/o,r*=a.width/e,n*=a.height/o}const o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Fb=-90;class Ub extends vy{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Db(Fb,1,e,t);r.layers=this.layers,this.add(r);const i=new Db(Fb,1,e,t);i.layers=this.layers,this.add(i);const a=new Db(Fb,1,e,t);a.layers=this.layers,this.add(a);const o=new Db(Fb,1,e,t);o.layers=this.layers,this.add(o);const s=new Db(Fb,1,e,t);s.layers=this.layers,this.add(s);const l=new Db(Fb,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,a,o,s]=t;for(const l of t)this.remove(l);if(e===fg)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==pg)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,a,o,s,l,c]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),f=e.xr.enabled;e.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,a),e.setRenderTarget(n,2,r),e.render(t,o),e.setRenderTarget(n,3,r),e.render(t,s),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(u,d,h),e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}class zb extends cv{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1&&void 0!==arguments[1]?arguments[1]:jf,arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8?arguments[8]:void 0,arguments.length>9?arguments[9]:void 0),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Bb extends hv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new zb(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Tb(5,5,5),o=new kb({name:"CubemapFromEquirect",uniforms:Cb(n),vertexShader:r,fragmentShader:i,side:Wh,blending:Xh});o.uniforms.tEquirect.value=t;const s=new Mb(a,o),l=t.minFilter;t.minFilter===rp&&(t.minFilter=ep);return new Ub(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}class jb extends vy{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Vb={type:"move"};class Hb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new jb,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new jb,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Gg,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Gg),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new jb,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Gg,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Gg),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null;const o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const a of e.hand.values()){const e=t.getJointPose(a,n),r=this._getHandJoint(l,a);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],o=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&o>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Vb)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new jb;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Wb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;this.isFogExp2=!0,this.name="",this.color=new Dy(e),this.density=t}clone(){return new Wb(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Gb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.isFog=!0,this.name="",this.color=new Dy(e),this.near=t,this.far=n}clone(){return new Gb(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Xb extends vy{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ey,this.environmentIntensity=1,this.environmentRotation=new ey,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class qb{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=ng,this.updateRanges=[],this.version=0,this.uuid=Dg()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Dg()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Dg()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Yb=new Gg;class Zb{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Yb.fromBufferAttribute(this,t),Yb.applyMatrix4(e),this.setXYZ(t,Yb.x,Yb.y,Yb.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Yb.fromBufferAttribute(this,t),Yb.applyNormalMatrix(e),this.setXYZ(t,Yb.x,Yb.y,Yb.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Yb.fromBufferAttribute(this,t),Yb.transformDirection(e),this.setXYZ(t,Yb.x,Yb.y,Yb.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Bg(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=jg(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=jg(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=jg(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=jg(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=jg(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Bg(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Bg(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Bg(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Bg(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array),r=jg(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array),r=jg(r,this.array),i=jg(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){Cg("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Zy(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Zb(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){Cg("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Kb extends zy{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Dy(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Jb;const $b=new Gg,Qb=new Gg,ex=new Gg,tx=new Hg,nx=new Hg,rx=new Wv,ix=new Gg,ax=new Gg,ox=new Gg,sx=new Hg,lx=new Hg,cx=new Hg;class ux extends vy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Kb;if(super(),this.isSprite=!0,this.type="Sprite",void 0===Jb){Jb=new hb;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new qb(e,5);Jb.setIndex([0,1,2,0,2,3]),Jb.setAttribute("position",new Zb(t,3,0,!1)),Jb.setAttribute("uv",new Zb(t,2,3,!1))}this.geometry=Jb,this.material=e,this.center=new Hg(.5,.5),this.count=1}raycast(e,t){null===e.camera&&Rg('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Qb.setFromMatrixScale(this.matrixWorld),rx.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ex.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Qb.multiplyScalar(-ex.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const a=this.center;dx(ix.set(-.5,-.5,0),ex,a,Qb,r,i),dx(ax.set(.5,-.5,0),ex,a,Qb,r,i),dx(ox.set(.5,.5,0),ex,a,Qb,r,i),sx.set(0,0),lx.set(1,0),cx.set(1,1);let o=e.ray.intersectTriangle(ix,ax,ox,!1,$b);if(null===o&&(dx(ax.set(-.5,.5,0),ex,a,Qb,r,i),lx.set(0,1),o=e.ray.intersectTriangle(ix,ox,ax,!1,$b),null===o))return;const s=e.ray.origin.distanceTo($b);s<e.near||s>e.far||t.push({distance:s,point:$b.clone(),uv:ky.getInterpolation($b,ix,ax,ox,sx,lx,cx,new Hg),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function dx(e,t,n,r,i,a){tx.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(nx.x=a*tx.x-i*tx.y,nx.y=i*tx.x+a*tx.y):nx.copy(tx),e.copy(t),e.x+=nx.x,e.y+=nx.y,e.applyMatrix4(rx)}const hx=new Gg,fx=new Gg;class px extends vy{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const e=t.splice(n,1);return this.remove(e[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){hx.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(hx);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){hx.setFromMatrixPosition(e.matrixWorld),fx.setFromMatrixPosition(this.matrixWorld);const n=hx.distanceTo(fx)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const mx=new Gg,gx=new uv,vx=new uv,yx=new Gg,bx=new Wv,xx=new Gg,_x=new Ov,wx=new Wv,Sx=new Hv;class Mx extends Mb{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Uf,this.bindMatrix=new Wv,this.bindMatrixInverse=new Wv,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new vv),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,xx),this.boundingBox.expandByPoint(xx)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Ov),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,xx),this.boundingSphere.expandByPoint(xx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),_x.copy(this.boundingSphere),_x.applyMatrix4(r),!1!==e.ray.intersectsSphere(_x)&&(wx.copy(r).invert(),Sx.copy(e.ray).applyMatrix4(wx),null!==this.boundingBox&&!1===Sx.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,Sx)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new uv,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Uf?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===zf?this.bindMatrixInverse.copy(this.bindMatrix).invert():Ag("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;gx.fromBufferAttribute(r.attributes.skinIndex,e),vx.fromBufferAttribute(r.attributes.skinWeight,e),mx.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=vx.getComponent(i);if(0!==e){const r=gx.getComponent(i);bx.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(yx.copy(mx).applyMatrix4(bx),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Ex extends vy{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Tx extends cv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(null,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:Zf,arguments.length>9&&void 0!==arguments[9]?arguments[9]:Zf,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Cx=new Wv,Ax=new Wv;class Rx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=Dg(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){Ag("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Wv)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Wv;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,a=e.length;i<a;i++){const r=e[i]?e[i].matrixWorld:Ax;Cx.multiplyMatrices(r,t[i]),Cx.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new Rx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Tx(t,e,e,xp,dp);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(Ag("Skeleton: No bone found with UUID:",r),i=new Ex),this.bones.push(i),this.boneInverses.push((new Wv).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class Px extends Zy{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const kx=new Wv,Nx=new Wv,Lx=[],Ix=new vv,Ox=new Wv,Dx=new Mb,Fx=new Ov;class Ux extends Mb{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Px(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,Ox)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new vv),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,kx),Ix.copy(e.boundingBox).applyMatrix4(kx),this.boundingBox.union(Ix)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Ov),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,kx),Fx.copy(e.boundingSphere).applyMatrix4(kx),this.boundingSphere.union(Fx)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1;for(let a=0;a<n.length;a++)n[a]=r[i+a]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Dx.geometry=this.geometry,Dx.material=this.material,void 0!==Dx.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Fx.copy(this.boundingSphere),Fx.applyMatrix4(n),!1!==e.ray.intersectsSphere(Fx)))for(let i=0;i<r;i++){this.getMatrixAt(i,kx),Nx.multiplyMatrices(n,kx),Dx.matrixWorld=Nx,Dx.raycast(e,Lx);for(let e=0,n=Lx.length;e<n;e++){const n=Lx[e];n.instanceId=i,n.object=this,t.push(n)}Lx.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Px(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new Tx(new Float32Array(r*this.count),r,this.count,Sp,dp));const i=this.morphTexture.source.data.data;let a=0;for(let l=0;l<n.length;l++)a+=n[l];const o=this.geometry.morphTargetsRelative?1:1-a,s=r*e;i[s]=o,i.set(n,s+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null)}}const zx=new Gg,Bx=new Gg,jx=new Yg;class Vx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gg(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=zx.subVectors(n,t).cross(Bx.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(zx),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||jx.getNormalMatrix(e),r=this.coplanarPoint(zx).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Hx=new Ov,Wx=new Hg(.5,.5),Gx=new Gg;class Xx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Vx,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vx,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Vx,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Vx,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Vx,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Vx;this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fg,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.planes,i=e.elements,a=i[0],o=i[1],s=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],f=i[8],p=i[9],m=i[10],g=i[11],v=i[12],y=i[13],b=i[14],x=i[15];if(r[0].setComponents(l-a,h-c,g-f,x-v).normalize(),r[1].setComponents(l+a,h+c,g+f,x+v).normalize(),r[2].setComponents(l+o,h+u,g+p,x+y).normalize(),r[3].setComponents(l-o,h-u,g-p,x-y).normalize(),n)r[4].setComponents(s,d,m,b).normalize(),r[5].setComponents(l-s,h-d,g-m,x-b).normalize();else if(r[4].setComponents(l-s,h-d,g-m,x-b).normalize(),t===fg)r[5].setComponents(l+s,h+d,g+m,x+b).normalize();else{if(t!==pg)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);r[5].setComponents(s,d,m,b).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Hx.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Hx.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Hx)}intersectsSprite(e){Hx.center.set(0,0,0);const t=Wx.distanceTo(e.center);return Hx.radius=.7071067811865476+t,Hx.applyMatrix4(e.matrixWorld),this.intersectsSphere(Hx)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Gx.x=r.normal.x>0?e.max.x:e.min.x,Gx.y=r.normal.y>0?e.max.y:e.min.y,Gx.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Gx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}const qx=new Wv,Yx=new Xx;class Zx{constructor(){this.coordinateSystem=fg}intersectsObject(e,t){if(!t.isArrayCamera||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(qx.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Yx.setFromProjectionMatrix(qx,r.coordinateSystem,r.reversedDepth),Yx.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(qx.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Yx.setFromProjectionMatrix(qx,r.coordinateSystem,r.reversedDepth),Yx.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(qx.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Yx.setFromProjectionMatrix(qx,r.coordinateSystem,r.reversedDepth),Yx.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(qx.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Yx.setFromProjectionMatrix(qx,r.coordinateSystem,r.reversedDepth),Yx.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(qx.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Yx.setFromProjectionMatrix(qx,r.coordinateSystem,r.reversedDepth),Yx.containsPoint(e))return!0}return!1}clone(){return new Zx}}function Kx(e,t){return e-t}function Jx(e,t){return e.z-t.z}function $x(e,t){return t.z-e.z}class Qx{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const i=this.pool,a=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});const o=i[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=n,o.index=r}reset(){this.list.length=0,this.index=0}}const e_=new Wv,t_=new Dy(1,1,1),n_=new Xx,r_=new Zx,i_=new vv,a_=new Ov,o_=new Gg,s_=new Gg,l_=new Gg,c_=new Qx,u_=new Mb,d_=[];function h_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const i=e.count;for(let a=0;a<i;a++)for(let i=0;i<r;i++)t.setComponent(a+n,i,e.getComponent(a,i))}else t.array.set(e.array,n*r);t.needsUpdate=!0}function f_(e,t){if(e.constructor!==t.constructor){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)t[r]=e[r]}else{const n=Math.min(e.length,t.length);t.set(new e.constructor(e.buffer,0,n))}}class p_ extends Mb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*t,r=arguments.length>3?arguments[3]:void 0;super(new hb,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Tx(t,e,e,xp,dp);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Tx(t,e,e,Mp,up);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Tx(t,e,e,xp,dp);n.colorSpace=Qg.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(const r in e.attributes){const i=e.getAttribute(r),{array:a,itemSize:o,normalized:s}=i,l=new a.constructor(n*o),c=new Zy(l,o,s);t.setAttribute(r,c)}if(null!==e.getIndex()){const e=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Zy(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error('THREE.BatchedMesh: Added geometry missing "'.concat(n,'". All geometries must have consistent attributes.'));const r=e.getAttribute(n),i=t.getAttribute(n);if(r.itemSize!==i.itemSize||r.normalized!==i.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error("THREE.BatchedMesh: Invalid instanceId ".concat(e,". Instance is either out of range or has been deleted."))}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error("THREE.BatchedMesh: Invalid geometryId ".concat(e,". Geometry is either out of range or has been deleted."))}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new vv);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,e_),this.getBoundingBoxAt(r,i_).applyMatrix4(e_),e.union(i_)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Ov);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,e_),this.getBoundingSphereAt(r,a_).applyMatrix4(e_),e.union(a_)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const t={visible:!0,active:!0,geometryIndex:e};let n=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Kx),n=this._availableInstanceIds.shift(),this._instanceInfo[n]=t):(n=this._instanceInfo.length,this._instanceInfo.push(t));const r=this._matricesTexture;e_.identity().toArray(r.image.data,16*n),r.needsUpdate=!0;const i=this._colorsTexture;return i&&(t_.toArray(i.image.data,4*n),i.needsUpdate=!0),this._visibilityChanged=!0,n}addGeometry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},i=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=-1===t?e.getAttribute("position").count:t;const a=e.getIndex();if(null!==a&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=-1===n?a.count:n),-1!==r.indexStart&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let o;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Kx),o=this._availableGeometryIds.shift(),i[o]=r):(o=this._geometryCount,this._geometryCount++,i.push(r)),this.setGeometryAt(o,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,o}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=null!==n.getIndex(),i=n.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const s=o.vertexStart,l=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const c in n.attributes){const e=t.getAttribute(c),r=n.getAttribute(c);h_(e,r,s);const i=e.itemSize;for(let t=e.count,n=l;t<n;t++){const e=s+t;for(let t=0;t<i;t++)r.setComponent(e,t,0)}r.needsUpdate=!0,r.addUpdateRange(s*i,l*i)}if(r){const e=o.indexStart,n=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let t=0;t<a.count;t++)i.setX(e+t,s+a.getX(t));for(let t=a.count,r=n;t<r;t++)i.setX(e+t,s);i.needsUpdate=!0,i.addUpdateRange(e,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,null!==t.boundingBox&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,null!==t.boundingSphere&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||!1===t[e].active)return this;const n=this._instanceInfo;for(let r=0,i=n.length;r<i;r++)n[r].active&&n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map((e,t)=>t).sort((e,t)=>n[e].vertexStart-n[t].vertexStart),i=this.geometry;for(let a=0,o=n.length;a<o;a++){const o=r[a],s=n[o];if(!1!==s.active){if(null!==i.index){if(s.indexStart!==t){const{indexStart:n,vertexStart:r,reservedIndexCount:a}=s,o=i.index,l=o.array,c=e-r;for(let e=n;e<n+a;e++)l[e]=l[e]+c;o.array.copyWithin(t,n,n+a),o.addUpdateRange(t,a),s.indexStart=t}t+=s.reservedIndexCount}if(s.vertexStart!==e){const{vertexStart:t,reservedVertexCount:n}=s,r=i.attributes;for(const i in r){const a=r[i],{array:o,itemSize:s}=a;o.copyWithin(e*s,t*s,(t+n)*s),a.addUpdateRange(e*s,n*s)}s.vertexStart=e}e+=s.reservedVertexCount,s.start=i.index?s.indexStart:s.vertexStart,this._nextIndexStart=i.index?s.indexStart+s.reservedIndexCount:0,this._nextVertexStart=s.vertexStart+s.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(null===r.boundingBox){const e=new vv,t=n.index,i=n.attributes.position;for(let n=r.start,a=r.start+r.count;n<a;n++){let r=n;t&&(r=t.getX(r)),e.expandByPoint(o_.fromBufferAttribute(i,r))}r.boundingBox=e}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(null===r.boundingSphere){const t=new Ov;this.getBoundingBoxAt(e,i_),i_.getCenter(t.center);const i=n.index,a=n.attributes.position;let o=0;for(let e=r.start,n=r.start+r.count;e<n;e++){let n=e;i&&(n=i.getX(n)),o_.fromBufferAttribute(a,n),o=Math.max(o,t.center.distanceToSquared(o_))}t.radius=Math.sqrt(o),r.boundingSphere=t}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,16*e),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,16*e)}setColorAt(e,t){return this.validateInstanceId(e),null===this._colorsTexture&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,4*e),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,4*e)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t||(this._instanceInfo[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(Kx);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error("BatchedMesh: Instance ids outside the range ".concat(e," are being used. Cannot shrink instance count."));const r=new Int32Array(e),i=new Int32Array(e);f_(this._multiDrawCounts,r),f_(this._multiDrawStarts,i),this._multiDrawCounts=r,this._multiDrawStarts=i,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,s=this._colorsTexture;a.dispose(),this._initIndirectTexture(),f_(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),f_(o.image.data,this._matricesTexture.image.data),s&&(s.dispose(),this._initColorsTexture(),f_(s.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(e=>e.active);if(Math.max(...n.map(e=>e.vertexStart+e.reservedVertexCount))>e)throw new Error("BatchedMesh: Geometry vertex values are being used outside the range ".concat(t,". Cannot shrink further."));if(this.geometry.index){if(Math.max(...n.map(e=>e.indexStart+e.reservedIndexCount))>t)throw new Error("BatchedMesh: Geometry index values are being used outside the range ".concat(t,". Cannot shrink further."))}const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new hb,this._initializeGeometry(r));const i=this.geometry;r.index&&f_(r.index.array,i.index.array);for(const a in r.attributes)f_(r.attributes[a].array,i.attributes[a].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,i=this.matrixWorld,a=this.geometry;u_.material=this.material,u_.geometry.index=a.index,u_.geometry.attributes=a.attributes,null===u_.geometry.boundingBox&&(u_.geometry.boundingBox=new vv),null===u_.geometry.boundingSphere&&(u_.geometry.boundingSphere=new Ov);for(let o=0,s=n.length;o<s;o++){if(!n[o].visible||!n[o].active)continue;const a=n[o].geometryIndex,s=r[a];u_.geometry.setDrawRange(s.start,s.count),this.getMatrixAt(o,u_.matrixWorld).premultiply(i),this.getBoundingBoxAt(a,u_.geometry.boundingBox),this.getBoundingSphereAt(a,u_.geometry.boundingSphere),u_.raycast(e,d_);for(let e=0,n=d_.length;e<n;e++){const n=d_[e];n.object=this,n.batchId=o,t.push(n)}d_.length=0}u_.material=null,u_.geometry.index=null,u_.geometry.attributes={},u_.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(e=>f(f({},e),{},{boundingBox:null!==e.boundingBox?e.boundingBox.clone():null,boundingSphere:null!==e.boundingSphere?e.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(e=>f({},e)),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,r,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=null===a?1:a.array.BYTES_PER_ELEMENT,s=this._instanceInfo,l=this._multiDrawStarts,c=this._multiDrawCounts,u=this._geometryInfo,d=this.perObjectFrustumCulled,h=this._indirectTexture,f=h.image.data,p=n.isArrayCamera?r_:n_;d&&!n.isArrayCamera&&(e_.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),n_.setFromProjectionMatrix(e_,n.coordinateSystem,n.reversedDepth));let m=0;if(this.sortObjects){e_.copy(this.matrixWorld).invert(),o_.setFromMatrixPosition(n.matrixWorld).applyMatrix4(e_),s_.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(e_);for(let r=0,i=s.length;r<i;r++)if(s[r].visible&&s[r].active){const e=s[r].geometryIndex;this.getMatrixAt(r,e_),this.getBoundingSphereAt(e,a_).applyMatrix4(e_);let t=!1;if(d&&(t=!p.intersectsSphere(a_,n)),!t){const t=u[e],n=l_.subVectors(a_.center,o_).dot(s_);c_.push(t.start,t.count,n,r)}}const e=c_.list,t=this.customSort;null===t?e.sort(i.transparent?$x:Jx):t.call(this,e,n);for(let n=0,r=e.length;n<r;n++){const t=e[n];l[m]=t.start*o,c[m]=t.count,f[m]=t.index,m++}c_.reset()}else for(let g=0,v=s.length;g<v;g++)if(s[g].visible&&s[g].active){const e=s[g].geometryIndex;let t=!1;if(d&&(this.getMatrixAt(g,e_),this.getBoundingSphereAt(e,a_).applyMatrix4(e_),t=!p.intersectsSphere(a_,n)),!t){const t=u[e];l[m]=t.start*o,c[m]=t.count,f[m]=g,m++}}h.needsUpdate=!0,this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,i,a){this.onBeforeRender(e,null,r,i,a)}}class m_ extends zy{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Dy(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const g_=new Gg,v_=new Gg,y_=new Wv,b_=new Hv,x_=new Ov,__=new Gg,w_=new Gg;class S_ extends vy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new m_;super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)g_.fromBufferAttribute(t,e-1),v_.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=g_.distanceTo(v_);e.setAttribute("lineDistance",new ib(n,1))}else Ag("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),x_.copy(n.boundingSphere),x_.applyMatrix4(r),x_.radius+=i,!1===e.ray.intersectsSphere(x_))return;y_.copy(r).invert(),b_.copy(e.ray).applyMatrix4(y_);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,a.start),r=Math.min(c.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=l){const n=c.getX(i),r=c.getX(i+1),a=M_(this,e,b_,s,n,r,i);a&&t.push(a)}if(this.isLineLoop){const i=c.getX(r-1),a=c.getX(n),o=M_(this,e,b_,s,i,a,r-1);o&&t.push(o)}}else{const n=Math.max(0,a.start),r=Math.min(u.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=l){const n=M_(this,e,b_,s,i,i+1,i);n&&t.push(n)}if(this.isLineLoop){const i=M_(this,e,b_,s,r-1,n,r-1);i&&t.push(i)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function M_(e,t,n,r,i,a,o){const s=e.geometry.attributes.position;g_.fromBufferAttribute(s,i),v_.fromBufferAttribute(s,a);if(n.distanceSqToSegment(g_,v_,__,w_)>r)return;__.applyMatrix4(e.matrixWorld);const l=t.ray.origin.distanceTo(__);return l<t.near||l>t.far?void 0:{distance:l,point:w_.clone().applyMatrix4(e.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:e}}const E_=new Gg,T_=new Gg;class C_ extends S_{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)E_.fromBufferAttribute(t,e),T_.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+E_.distanceTo(T_);e.setAttribute("lineDistance",new ib(n,1))}else Ag("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class A_ extends S_{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class R_ extends zy{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Dy(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const P_=new Wv,k_=new Hv,N_=new Ov,L_=new Gg;class I_ extends vy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new R_;super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),N_.copy(n.boundingSphere),N_.applyMatrix4(r),N_.radius+=i,!1===e.ray.intersectsSphere(N_))return;P_.copy(r).invert(),k_.copy(e.ray).applyMatrix4(P_);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,a.start),i=Math.min(l.count,a.start+a.count);n<i;n++){const i=l.getX(n);L_.fromBufferAttribute(c,i),O_(L_,i,s,r,e,t,this)}}else{for(let n=Math.max(0,a.start),i=Math.min(c.count,a.start+a.count);n<i;n++)L_.fromBufferAttribute(c,n),O_(L_,n,s,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function O_(e,t,n,r,i,a,o){const s=k_.distanceSqToPoint(e);if(s<n){const n=new Gg;k_.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}class D_ extends cv{constructor(e,t,n,r){super(e,t,n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:ep,arguments.length>5&&void 0!==arguments[5]?arguments[5]:ep,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8?arguments[8]:void 0),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const i=this;"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(function t(){i.needsUpdate=!0,i._requestVideoFrameCallbackId=e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){0!==this._requestVideoFrameCallbackId&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class F_ extends D_{constructor(e,t,n,r,i,a,o,s){super({},e,t,n,r,i,a,o,s),this.isVideoFrameTexture=!0}update(){}clone(){return(new this.constructor).copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class U_ extends cv{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Zf,this.minFilter=Zf,this.generateMipmaps=!1,this.needsUpdate=!0}}class z_ extends cv{constructor(e,t,n,r,i,a,o,s,l,c,u,d){super(null,a,o,s,l,c,r,i,u,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class B_ extends z_{constructor(e,t,n,r,i,a){super(e,t,n,i,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=qf,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class j_ extends z_{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,jf),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class V_ extends cv{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class H_ extends cv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:up,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Zf,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Zf,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:_p,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1;if(c!==_p&&c!==wp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super({width:e,height:t,depth:u},r,i,a,o,s,c,n,l),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new av(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class W_ extends cv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class G_ extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r,heightSegments:i},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),r=Math.max(3,Math.floor(r)),i=Math.max(1,Math.floor(i));const a=[],o=[],s=[],l=[],c=t/2,u=Math.PI/2*e,d=t,h=2*u+d,f=2*n+i,p=r+1,m=new Gg,g=new Gg;for(let v=0;v<=f;v++){let y=0,b=0,x=0,_=0;if(v<=n){const t=v/n,r=t*Math.PI/2;b=-c-e*Math.cos(r),x=e*Math.sin(r),_=-e*Math.cos(r),y=t*u}else if(v<=n+i){const r=(v-n)/i;b=r*t-c,x=e,_=0,y=u+r*d}else{const t=(v-n-i)/n,r=t*Math.PI/2;b=c+e*Math.sin(r),x=e*Math.cos(r),_=e*Math.sin(r),y=u+d+t*u}const w=Math.max(0,Math.min(1,y/h));let S=0;0===v?S=.5/r:v===f&&(S=-.5/r);for(let e=0;e<=r;e++){const t=e/r,n=t*Math.PI*2,i=Math.sin(n),a=Math.cos(n);g.x=-x*a,g.y=b,g.z=x*i,o.push(g.x,g.y,g.z),m.set(-x*a,_,x*i),m.normalize(),s.push(m.x,m.y,m.z),l.push(t+S,w)}if(v>0){const e=(v-1)*p;for(let t=0;t<r;t++){const n=e+t,r=e+t+1,i=v*p+t,o=v*p+t+1;a.push(n,r,i),a.push(r,o,i)}}}this.setIndex(a),this.setAttribute("position",new ib(o,3)),this.setAttribute("normal",new ib(s,3)),this.setAttribute("uv",new ib(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new G_(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class X_ extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],a=[],o=[],s=[],l=new Gg,c=new Hg;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let u=0,d=3;u<=t;u++,d+=3){const i=n+u/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),a.push(l.x,l.y,l.z),o.push(0,0,1),c.x=(a[d]/e+1)/2,c.y=(a[d+1]/e+1)/2,s.push(c.x,c.y)}for(let u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.setAttribute("position",new ib(a,3)),this.setAttribute("normal",new ib(o,3)),this.setAttribute("uv",new ib(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new X_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class q_ extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],d=[],h=[];let f=0;const p=[],m=n/2;let g=0;function v(n){const i=f,a=new Hg,p=new Gg;let v=0;const y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*b,0),d.push(0,b,0),h.push(.5,.5),f++;const x=f;for(let e=0;e<=r;e++){const t=e/r*s+o,n=Math.cos(t),i=Math.sin(t);p.x=y*i,p.y=m*b,p.z=y*n,u.push(p.x,p.y,p.z),d.push(0,b,0),a.x=.5*n+.5,a.y=.5*i*b+.5,h.push(a.x,a.y),f++}for(let e=0;e<r;e++){const t=i+e,r=x+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const a=new Gg,v=new Gg;let y=0;const b=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+o,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,u.push(v.x,v.y,v.z),a.set(l,b,p).normalize(),d.push(a.x,a.y,a.z),h.push(t,1-g),c.push(f++)}p.push(c)}for(let n=0;n<r;n++)for(let r=0;r<i;r++){const a=p[r][n],o=p[r+1][n],s=p[r+1][n+1],l=p[r][n+1];(e>0||0!==r)&&(c.push(a,o,l),y+=3),(t>0||r!==i-1)&&(c.push(o,s,l),y+=3)}l.addGroup(g,y,0),g+=y}(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new ib(u,3)),this.setAttribute("normal",new ib(d,3)),this.setAttribute("uv",new ib(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Y_ extends q_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}static fromJSON(e){return new Y_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Z_ extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],a=[];function o(e,t,n,r){const i=r+1,a=[];for(let o=0;o<=i;o++){a[o]=[];const r=e.clone().lerp(n,o/i),s=t.clone().lerp(n,o/i),l=i-o;for(let e=0;e<=l;e++)a[o][e]=0===e&&o===i?r:r.clone().lerp(s,e/l)}for(let o=0;o<i;o++)for(let e=0;e<2*(i-o)-1;e++){const t=Math.floor(e/2);e%2===0?(s(a[o][t+1]),s(a[o+1][t]),s(a[o][t])):(s(a[o][t+1]),s(a[o+1][t+1]),s(a[o+1][t]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}function d(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}!function(e){const n=new Gg,r=new Gg,i=new Gg;for(let a=0;a<t.length;a+=3)l(t[a+0],n),l(t[a+1],r),l(t[a+2],i),o(n,r,i,e)}(r),function(e){const t=new Gg;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new Gg;for(let t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];const n=u(e)/2/Math.PI+.5,r=d(e)/Math.PI+.5;a.push(n,1-r)}(function(){const e=new Gg,t=new Gg,n=new Gg,r=new Gg,o=new Hg,s=new Hg,l=new Hg;for(let d=0,h=0;d<i.length;d+=9,h+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),l.set(a[h+4],a[h+5]),r.copy(e).add(t).add(n).divideScalar(3);const f=u(r);c(o,h+0,e,f),c(s,h+2,t,f),c(l,h+4,n,f)}})(),function(){for(let e=0;e<a.length;e+=6){const t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new ib(i,3)),this.setAttribute("normal",new ib(i.slice(),3)),this.setAttribute("uv",new ib(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Z_(e.vertices,e.indices,e.radius,e.details)}}class K_ extends Z_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new K_(e.radius,e.detail)}}const J_=new Gg,$_=new Gg,Q_=new Gg,ew=new ky;class tw extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(Ig*t),a=e.getIndex(),o=e.getAttribute("position"),s=a?a.count:o.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),d={},h=[];for(let e=0;e<s;e+=3){a?(l[0]=a.getX(e),l[1]=a.getX(e+1),l[2]=a.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=ew;if(t.fromBufferAttribute(o,l[0]),n.fromBufferAttribute(o,l[1]),s.fromBufferAttribute(o,l[2]),ew.getNormal(Q_),u[0]="".concat(Math.round(t.x*r),",").concat(Math.round(t.y*r),",").concat(Math.round(t.z*r)),u[1]="".concat(Math.round(n.x*r),",").concat(Math.round(n.y*r),",").concat(Math.round(n.z*r)),u[2]="".concat(Math.round(s.x*r),",").concat(Math.round(s.y*r),",").concat(Math.round(s.z*r)),u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],r=u[t],a=ew[c[e]],o=ew[c[t]],s="".concat(n,"_").concat(r),f="".concat(r,"_").concat(n);f in d&&d[f]?(Q_.dot(d[f].normal)<=i&&(h.push(a.x,a.y,a.z),h.push(o.x,o.y,o.z)),d[f]=null):s in d||(d[s]={index0:l[e],index1:l[t],normal:Q_.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:n}=d[e];J_.fromBufferAttribute(o,t),$_.fromBufferAttribute(o,n),h.push(J_.x,J_.y,J_.z),h.push($_.x,$_.y,$_.z)}this.setAttribute("position",new ib(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class nw{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Ag("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.getLengths();let r=0;const i=n.length;let a;a=t||e*n[i-1];let o,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),o=n[r]-a,o<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(r=l,n[r]===a)return r/(i-1);const c=n[r];return(r+(a-c)/(n[r+1]-c))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new Hg:new Gg);return s.copy(o).sub(a).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=new Gg,r=[],i=[],a=[],o=new Gg,s=new Wv;for(let h=0;h<=e;h++){const t=h/e;r[h]=this.getTangentAt(t,new Gg)}i[0]=new Gg,a[0]=new Gg;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),d=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(let h=1;h<=e;h++){if(i[h]=i[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(r[h-1],r[h]),o.length()>Number.EPSILON){o.normalize();const e=Math.acos(Fg(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(s.makeRotationAxis(o,e))}a[h].crossVectors(r[h],i[h])}if(!0===t){let t=Math.acos(Fg(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),a[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class rw extends nw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,n=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const i=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(r=i?0:n),!0!==this.aClockwise||i||(r===n?r=-n:r-=n);const a=this.aStartAngle+e*r;let o=this.aX+this.xRadius*Math.cos(a),s=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=o-this.aX,r=s-this.aY;o=n*e-r*t+this.aX,s=n*t+r*e+this.aY}return t.set(o,s)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class iw extends rw{constructor(e,t,n,r,i,a){super(e,t,n,n,r,i,a),this.isArcCurve=!0,this.type="ArcCurve"}}function aw(){let e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){let l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,c=(n-t)/o-(r-t)/(o+s)+(r-n)/s;l*=o,c*=o,i(t,n,l,c)},calc:function(i){const a=i*i;return e+t*i+n*a+r*(a*i)}}}const ow=new Gg,sw=new aw,lw=new aw,cw=new aw;class uw extends nw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg,n=this.points,r=n.length,i=(r-(this.closed?0:1))*e;let a,o,s=Math.floor(i),l=i-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/r)+1)*r:0===l&&s===r-1&&(s=r-2,l=1),this.closed||s>0?a=n[(s-1)%r]:(ow.subVectors(n[0],n[1]).add(n[0]),a=ow);const c=n[s%r],u=n[(s+1)%r];if(this.closed||s+2<r?o=n[(s+2)%r]:(ow.subVectors(n[r-1],n[r-2]).add(n[r-1]),o=ow),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(a.distanceToSquared(c),e),n=Math.pow(c.distanceToSquared(u),e),r=Math.pow(u.distanceToSquared(o),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),sw.initNonuniformCatmullRom(a.x,c.x,u.x,o.x,t,n,r),lw.initNonuniformCatmullRom(a.y,c.y,u.y,o.y,t,n,r),cw.initNonuniformCatmullRom(a.z,c.z,u.z,o.z,t,n,r)}else"catmullrom"===this.curveType&&(sw.initCatmullRom(a.x,c.x,u.x,o.x,this.tension),lw.initCatmullRom(a.y,c.y,u.y,o.y,this.tension),cw.initCatmullRom(a.z,c.z,u.z,o.z,this.tension));return t.set(sw.calc(l),lw.calc(l),cw.calc(l)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Gg).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function dw(e,t,n,r,i){const a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function hw(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function fw(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class pw extends nw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Hg,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Hg;super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(fw(e,n.x,r.x,i.x,a.x),fw(e,n.y,r.y,i.y,a.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class mw extends nw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Gg,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Gg;super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(fw(e,n.x,r.x,i.x,a.x),fw(e,n.y,r.y,i.y,a.y),fw(e,n.z,r.z,i.z,a.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class gw extends nw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg;super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vw extends nw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg;super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yw extends nw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Hg;super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,n=this.v0,r=this.v1,i=this.v2;return t.set(hw(e,n.x,r.x,i.x),hw(e,n.y,r.y,i.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bw extends nw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Gg;super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg,n=this.v0,r=this.v1,i=this.v2;return t.set(hw(e,n.x,r.x,i.x),hw(e,n.y,r.y,i.y),hw(e,n.z,r.z,i.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xw extends nw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],c=n[i>n.length-3?n.length-1:i+2];return t.set(dw(a,o.x,s.x,l.x,c.x),dw(a,o.y,s.y,l.y,c.y)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Hg).fromArray(n))}return this}}var _w=Object.freeze({__proto__:null,ArcCurve:iw,CatmullRomCurve3:uw,CubicBezierCurve:pw,CubicBezierCurve3:mw,EllipseCurve:rw,LineCurve:gw,LineCurve3:vw,QuadraticBezierCurve:yw,QuadraticBezierCurve3:bw,SplineCurve:xw});class ww extends nw{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new _w[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,a=this.curves[i],o=a.getLength(),s=0===o?0:1-e/o;return a.getPointAt(s,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const a=i[r],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let e=0;e<s.length;e++){const r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new _w[n.type]).fromJSON(n))}return this}}class Sw extends ww{constructor(e){super(),this.type="Path",this.currentPoint=new Hg,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new gw(this.currentPoint.clone(),new Hg(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new yw(this.currentPoint.clone(),new Hg(e,t),new Hg(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,a){const o=new pw(this.currentPoint.clone(),new Hg(e,t),new Hg(n,r),new Hg(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new xw(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,a){const o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}absarc(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}ellipse(e,t,n,r,i,a,o,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,a,o,s),this}absellipse(e,t,n,r,i,a,o,s){const l=new rw(e,t,n,r,i,a,o,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Mw extends Sw{constructor(e){super(e),this.uuid=Dg(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new Sw).fromJSON(n))}return this}}function Ew(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=t&&t.length,i=r?t[0]*n:e.length;let a=Tw(e,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,c;if(r&&(a=function(e,t,n,r){const i=[];for(let a=0,o=t.length;a<o;a++){const n=Tw(e,t[a]*r,a<o-1?t[a+1]*r:e.length,r,!1);n===n.next&&(n.steiner=!0),i.push(Fw(n))}i.sort(Lw);for(let a=0;a<i.length;a++)n=Iw(i[a],n);return n}(e,t,a,n)),e.length>80*n){s=e[0],l=e[1];let t=s,r=l;for(let a=n;a<i;a+=n){const n=e[a],i=e[a+1];n<s&&(s=n),i<l&&(l=i),n>t&&(t=n),i>r&&(r=i)}c=Math.max(t-s,r-l),c=0!==c?32767/c:0}return Aw(a,o,n,s,l,c,0),o}function Tw(e,t,n,r,i){let a;if(i===function(e,t,n,r){let i=0;for(let a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(let o=t;o<n;o+=r)a=Yw(o/r|0,e[o],e[o+1],a);else for(let o=n-r;o>=t;o-=r)a=Yw(o/r|0,e[o],e[o+1],a);return a&&Vw(a,a.next)&&(Zw(a),a=a.next),a}function Cw(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!Vw(r,r.next)&&0!==jw(r.prev,r,r.next))r=r.next;else{if(Zw(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function Aw(e,t,n,r,i,a,o){if(!e)return;!o&&a&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=Dw(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n=1;do{let r,i=e;e=null;let a=null;for(t=0;i;){t++;let o=i,s=0;for(let e=0;e<n&&(s++,o=o.nextZ,o);e++);let l=n;for(;s>0||l>0&&o;)0!==s&&(0===l||!o||i.z<=o.z)?(r=i,i=i.nextZ,s--):(r=o,o=o.nextZ,l--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;i=o}a.nextZ=null,n*=2}while(t>1)}(i)}(e,r,i,a);let s=e;for(;e.prev!==e.next;){const l=e.prev,c=e.next;if(a?Pw(e,r,i,a):Rw(e))t.push(l.i,e.i,c.i),Zw(e),e=c.next,s=c.next;else if((e=c)===s){o?1===o?Aw(e=kw(Cw(e),t),t,n,r,i,a,2):2===o&&Nw(e,t,n,r,i,a):Aw(Cw(e),t,n,r,i,a,1);break}}}function Rw(e){const t=e.prev,n=e,r=e.next;if(jw(t,n,r)>=0)return!1;const i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,c=r.y,u=Math.min(i,a,o),d=Math.min(s,l,c),h=Math.max(i,a,o),f=Math.max(s,l,c);let p=r.next;for(;p!==t;){if(p.x>=u&&p.x<=h&&p.y>=d&&p.y<=f&&zw(i,s,a,l,o,c,p.x,p.y)&&jw(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Pw(e,t,n,r){const i=e.prev,a=e,o=e.next;if(jw(i,a,o)>=0)return!1;const s=i.x,l=a.x,c=o.x,u=i.y,d=a.y,h=o.y,f=Math.min(s,l,c),p=Math.min(u,d,h),m=Math.max(s,l,c),g=Math.max(u,d,h),v=Dw(f,p,t,n,r),y=Dw(m,g,t,n,r);let b=e.prevZ,x=e.nextZ;for(;b&&b.z>=v&&x&&x.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&zw(s,u,l,d,c,h,b.x,b.y)&&jw(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&zw(s,u,l,d,c,h,x.x,x.y)&&jw(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;b&&b.z>=v;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&zw(s,u,l,d,c,h,b.x,b.y)&&jw(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&zw(s,u,l,d,c,h,x.x,x.y)&&jw(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function kw(e,t){let n=e;do{const r=n.prev,i=n.next.next;!Vw(r,i)&&Hw(r,n,n.next,i)&&Xw(r,i)&&Xw(i,r)&&(t.push(r.i,n.i,i.i),Zw(n),Zw(n.next),n=e=i),n=n.next}while(n!==e);return Cw(n)}function Nw(e,t,n,r,i,a){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&Bw(o,e)){let s=qw(o,e);return o=Cw(o,o.next),s=Cw(s,s.next),Aw(o,t,n,r,i,a,0),void Aw(s,t,n,r,i,a,0)}e=e.next}o=o.next}while(o!==e)}function Lw(e,t){let n=e.x-t.x;if(0===n&&(n=e.y-t.y,0===n)){n=(e.next.y-e.y)/(e.next.x-e.x)-(t.next.y-t.y)/(t.next.x-t.x)}return n}function Iw(e,t){const n=function(e,t){let n=t;const r=e.x,i=e.y;let a,o=-1/0;if(Vw(e,n))return n;do{if(Vw(e,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const e=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=r&&e>o&&(o=e,a=n.x<n.next.x?n:n.next,e===r))return a}n=n.next}while(n!==t);if(!a)return null;const s=a,l=a.x,c=a.y;let u=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Uw(i<c?r:o,i,l,c,i<c?o:r,i,n.x,n.y)){const t=Math.abs(i-n.y)/(r-n.x);Xw(n,e)&&(t<u||t===u&&(n.x>a.x||n.x===a.x&&Ow(a,n)))&&(a=n,u=t)}n=n.next}while(n!==s);return a}(e,t);if(!n)return t;const r=qw(n,e);return Cw(r,r.next),Cw(n,n.next)}function Ow(e,t){return jw(e.prev,e,t.prev)<0&&jw(t.next,e,e.next)<0}function Dw(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Fw(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Uw(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function zw(e,t,n,r,i,a,o,s){return!(e===o&&t===s)&&Uw(e,t,n,r,i,a,o,s)}function Bw(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Hw(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Xw(e,t)&&Xw(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(jw(e.prev,e,t.prev)||jw(e,t.prev,t))||Vw(e,t)&&jw(e.prev,e,e.next)>0&&jw(t.prev,t,t.next)>0)}function jw(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Vw(e,t){return e.x===t.x&&e.y===t.y}function Hw(e,t,n,r){const i=Gw(jw(e,t,n)),a=Gw(jw(e,t,r)),o=Gw(jw(n,r,e)),s=Gw(jw(n,r,t));return i!==a&&o!==s||(!(0!==i||!Ww(e,n,t))||(!(0!==a||!Ww(e,r,t))||(!(0!==o||!Ww(n,e,r))||!(0!==s||!Ww(n,t,r)))))}function Ww(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Gw(e){return e>0?1:e<0?-1:0}function Xw(e,t){return jw(e.prev,e,e.next)<0?jw(e,t,e.next)>=0&&jw(e,e.prev,t)>=0:jw(e,t,e.prev)<0||jw(e,e.next,t)<0}function qw(e,t){const n=Kw(e.i,e.x,e.y),r=Kw(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Yw(e,t,n,r){const i=Kw(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Zw(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Kw(e,t,n){return{i:e,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Jw{static triangulate(e,t){return Ew(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:2)}}class $w{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return $w.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Qw(e),eS(n,e);let a=e.length;t.forEach(Qw);for(let s=0;s<t.length;s++)r.push(a),a+=t[s].length,eS(n,t[s]);const o=Jw.triangulate(n,r);for(let s=0;s<o.length;s+=3)i.push(o.slice(s,s+3));return i}}function Qw(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function eS(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class tS extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mw([new Hg(.5,.5),new Hg(-.5,.5),new Hg(-.5,-.5),new Hg(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let o=0,s=e.length;o<s;o++){a(e[o])}function a(e){const a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,d=void 0!==t.bevelSize?t.bevelSize:u-.1,h=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:nS;let g,v,y,b,x,_=!1;p&&(g=p.getSpacedPoints(s),_=!0,c=!1,v=p.computeFrenetFrames(s,!1),y=new Gg,b=new Gg,x=new Gg),c||(f=0,u=0,d=0,h=0);const w=e.extractPoints(o);let S=w.shape;const M=w.holes;if(!$w.isClockWise(S)){S=S.reverse();for(let e=0,t=M.length;e<t;e++){const t=M[e];$w.isClockWise(t)&&(M[e]=t.reverse())}}function E(e){const t=1e-10*1e-10;let n=e[0];for(let r=1;r<=e.length;r++){const i=r%e.length,a=e[i],o=a.x-n.x,s=a.y-n.y,l=o*o+s*s,c=Math.max(Math.abs(a.x),Math.abs(a.y),Math.abs(n.x),Math.abs(n.y));l<=t*c*c?(e.splice(i,1),r--):n=a}}E(S),M.forEach(E);const T=M.length,C=S;for(let t=0;t<T;t++){const e=M[t];S=S.concat(e)}function A(e,t,n){return t||Rg("ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const R=S.length;function P(e,t,n){let r,i,a;const o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=o*o+s*s,d=o*c-s*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(u),h=Math.sqrt(l*l+c*c),f=t.x-s/d,p=t.y+o/d,m=((n.x-c/h-f)*c-(n.y+l/h-p)*l)/(o*c-s*l);r=f+o*m-e.x,i=p+s*m-e.y;const g=r*r+i*i;if(g<=2)return new Hg(r,i);a=Math.sqrt(g/2)}else{let e=!1;o>Number.EPSILON?l>Number.EPSILON&&(e=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),e?(r=-s,i=o,a=Math.sqrt(u)):(r=o,i=s,a=Math.sqrt(u/2))}return new Hg(r/a,i/a)}const k=[];for(let t=0,n=C.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),k[t]=P(C[t],C[r],C[i]);const N=[];let L,I,O=k.concat();for(let t=0,n=T;t<n;t++){const e=M[t];L=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),L[t]=P(e[t],e[r],e[i]);N.push(L),O=O.concat(L)}if(0===f)I=$w.triangulateShape(C,M);else{const e=[],t=[];for(let n=0;n<f;n++){const r=n/f,i=u*Math.cos(r*Math.PI/2),a=d*Math.sin(r*Math.PI/2)+h;for(let t=0,n=C.length;t<n;t++){const n=A(C[t],k[t],a);z(n.x,n.y,-i),0===r&&e.push(n)}for(let e=0,n=T;e<n;e++){const n=M[e];L=N[e];const o=[];for(let e=0,t=n.length;e<t;e++){const t=A(n[e],L[e],a);z(t.x,t.y,-i),0===r&&o.push(t)}0===r&&t.push(o)}}I=$w.triangulateShape(e,t)}const D=I.length,F=d+h;for(let t=0;t<R;t++){const e=c?A(S[t],O[t],F):S[t];_?(b.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),x.copy(g[0]).add(b).add(y),z(x.x,x.y,x.z)):z(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<R;e++){const n=c?A(S[e],O[e],F):S[e];_?(b.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),x.copy(g[t]).add(b).add(y),z(x.x,x.y,x.z)):z(n.x,n.y,l/s*t)}for(let t=f-1;t>=0;t--){const e=t/f,n=u*Math.cos(e*Math.PI/2),r=d*Math.sin(e*Math.PI/2)+h;for(let t=0,i=C.length;t<i;t++){const e=A(C[t],k[t],r);z(e.x,e.y,l+n)}for(let t=0,i=M.length;t<i;t++){const e=M[t];L=N[t];for(let t=0,i=e.length;t<i;t++){const i=A(e[t],L[t],r);_?z(i.x,i.y+g[s-1].y,g[s-1].x+n):z(i.x,i.y,l+n)}}}function U(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*f;e<n;e++){const n=R*e,a=R*(e+1);j(t+r+n,t+i+n,t+i+a,t+r+a)}}}function z(e,t,n){a.push(e),a.push(t),a.push(n)}function B(e,t,i){V(e),V(t),V(i);const a=r.length/3,o=m.generateTopUV(n,r,a-3,a-2,a-1);H(o[0]),H(o[1]),H(o[2])}function j(e,t,i,a){V(e),V(t),V(a),V(t),V(i),V(a);const o=r.length/3,s=m.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);H(s[0]),H(s[1]),H(s[3]),H(s[1]),H(s[2]),H(s[3])}function V(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function H(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(c){let e=0,t=R*e;for(let n=0;n<D;n++){const e=I[n];B(e[2]+t,e[1]+t,e[0]+t)}e=s+2*f,t=R*e;for(let n=0;n<D;n++){const e=I[n];B(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<D;e++){const t=I[e];B(t[2],t[1],t[0])}for(let e=0;e<D;e++){const t=I[e];B(t[0]+R*s,t[1]+R*s,t[2]+R*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;U(C,t),t+=C.length;for(let n=0,r=M.length;n<r;n++){const e=M[n];U(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new ib(r,3)),this.setAttribute("uv",new ib(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,a=e.shapes.length;i<a;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new _w[r.type]).fromJSON(r)),new tS(n,e.options)}}const nS={generateTopUV:function(e,t,n,r,i){const a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new Hg(a,o),new Hg(s,l),new Hg(c,u)]},generateSideWallUV:function(e,t,n,r,i,a){const o=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],d=t[3*r+2],h=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*a],g=t[3*a+1],v=t[3*a+2];return Math.abs(s-u)<Math.abs(o-c)?[new Hg(o,1-l),new Hg(c,1-d),new Hg(h,1-p),new Hg(m,1-v)]:[new Hg(s,1-l),new Hg(u,1-d),new Hg(f,1-p),new Hg(g,1-v)]}};class rS extends Z_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rS(e.radius,e.detail)}}class iS extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new Hg(0,-.5),new Hg(.5,0),new Hg(0,.5)],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Fg(r,0,2*Math.PI);const i=[],a=[],o=[],s=[],l=[],c=1/t,u=new Gg,d=new Hg,h=new Gg,f=new Gg,p=new Gg;let m=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=1*g,h.y=-m,h.z=0*g,p.copy(h),h.normalize(),s.push(h.x,h.y,h.z);break;case e.length-1:s.push(p.x,p.y,p.z);break;default:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=1*g,h.y=-m,h.z=0*g,f.copy(h),h.x+=p.x,h.y+=p.y,h.z+=p.z,h.normalize(),s.push(h.x,h.y,h.z),p.copy(f)}for(let v=0;v<=t;v++){const i=n+v*c*r,h=Math.sin(i),f=Math.cos(i);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*h,u.y=e[n].y,u.z=e[n].x*f,a.push(u.x,u.y,u.z),d.x=v/t,d.y=n/(e.length-1),o.push(d.x,d.y);const r=s[3*n+0]*h,i=s[3*n+1],c=s[3*n+0]*f;l.push(r,i,c)}}for(let v=0;v<t;v++)for(let t=0;t<e.length-1;t++){const n=t+v*e.length,r=n,a=n+e.length,o=n+e.length+1,s=n+1;i.push(r,a,s),i.push(o,s,a)}this.setIndex(i),this.setAttribute("position",new ib(a,3)),this.setAttribute("uv",new ib(o,2)),this.setAttribute("normal",new ib(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iS(e.points,e.segments,e.phiStart,e.phiLength)}}class aS extends Z_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new aS(e.radius,e.detail)}}class oS extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,a=t/2,o=Math.floor(n),s=Math.floor(r),l=o+1,c=s+1,u=e/o,d=t/s,h=[],f=[],p=[],m=[];for(let g=0;g<c;g++){const e=g*d-a;for(let t=0;t<l;t++){const n=t*u-i;f.push(n,-e,0),p.push(0,0,1),m.push(t/o),m.push(1-g/s)}}for(let g=0;g<s;g++)for(let e=0;e<o;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;h.push(t,n,i),h.push(n,r,i)}this.setIndex(h),this.setAttribute("position",new ib(f,3)),this.setAttribute("normal",new ib(p,3)),this.setAttribute("uv",new ib(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oS(e.width,e.height,e.widthSegments,e.heightSegments)}}class sS extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);const o=[],s=[],l=[],c=[];let u=e;const d=(t-e)/r,h=new Gg,f=new Hg;for(let p=0;p<=r;p++){for(let e=0;e<=n;e++){const r=i+e/n*a;h.x=u*Math.cos(r),h.y=u*Math.sin(r),s.push(h.x,h.y,h.z),l.push(0,0,1),f.x=(h.x/t+1)/2,f.y=(h.y/t+1)/2,c.push(f.x,f.y)}u+=d}for(let p=0;p<r;p++){const e=p*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,a=r+n+1,s=r+n+2,l=r+1;o.push(i,a,l),o.push(a,s,l)}}this.setIndex(o),this.setAttribute("position",new ib(s,3)),this.setAttribute("normal",new ib(l,3)),this.setAttribute("uv",new ib(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class lS extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mw([new Hg(0,.5),new Hg(-.5,-.5),new Hg(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],a=[];let o=0,s=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(o,s,c),o+=s,s=0;function l(e){const o=r.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===$w.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===$w.isClockWise(e)&&(u[t]=e.reverse())}const d=$w.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];r.push(e.x,e.y,0),i.push(0,0,1),a.push(e.x,e.y)}for(let t=0,r=d.length;t<r;t++){const e=d[t],r=e[0]+o,i=e[1]+o,a=e[2]+o;n.push(r,i,a),s+=3}}this.setIndex(n),this.setAttribute("position",new ib(r,3)),this.setAttribute("normal",new ib(i,3)),this.setAttribute("uv",new ib(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new lS(n,e.curveSegments)}}class cS extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(a+o,Math.PI);let l=0;const c=[],u=new Gg,d=new Gg,h=[],f=[],p=[],m=[];for(let g=0;g<=n;g++){const h=[],v=g/n;let y=0;0===g&&0===a?y=.5/t:g===n&&s===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(a+v*o),u.y=e*Math.cos(a+v*o),u.z=e*Math.sin(r+s*i)*Math.sin(a+v*o),f.push(u.x,u.y,u.z),d.copy(u).normalize(),p.push(d.x,d.y,d.z),m.push(s+y,1-v),h.push(l++)}c.push(h)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],r=c[g][e],i=c[g+1][e],o=c[g+1][e+1];(0!==g||a>0)&&h.push(t,r,o),(g!==n-1||s<Math.PI)&&h.push(r,i,o)}this.setIndex(h),this.setAttribute("position",new ib(f,3)),this.setAttribute("normal",new ib(p,3)),this.setAttribute("uv",new ib(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cS(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class uS extends Z_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new uS(e.radius,e.detail)}}class dS extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const a=[],o=[],s=[],l=[],c=new Gg,u=new Gg,d=new Gg;for(let h=0;h<=n;h++)for(let a=0;a<=r;a++){const f=a/r*i,p=h/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(f),u.y=(e+t*Math.cos(p))*Math.sin(f),u.z=t*Math.sin(p),o.push(u.x,u.y,u.z),c.x=e*Math.cos(f),c.y=e*Math.sin(f),d.subVectors(u,c).normalize(),s.push(d.x,d.y,d.z),l.push(a/r),l.push(h/n)}for(let h=1;h<=n;h++)for(let e=1;e<=r;e++){const t=(r+1)*h+e-1,n=(r+1)*(h-1)+e-1,i=(r+1)*(h-1)+e,o=(r+1)*h+e;a.push(t,n,o),a.push(n,i,o)}this.setIndex(a),this.setAttribute("position",new ib(o,3)),this.setAttribute("normal",new ib(s,3)),this.setAttribute("uv",new ib(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class hS extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},n=Math.floor(n),r=Math.floor(r);const o=[],s=[],l=[],c=[],u=new Gg,d=new Gg,h=new Gg,f=new Gg,p=new Gg,m=new Gg,g=new Gg;for(let y=0;y<=n;++y){const o=y/n*i*Math.PI*2;v(o,i,a,e,h),v(o+.01,i,a,e,f),m.subVectors(f,h),g.addVectors(f,h),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,a=-t*Math.cos(i),o=t*Math.sin(i);u.x=h.x+(a*g.x+o*p.x),u.y=h.y+(a*g.y+o*p.y),u.z=h.z+(a*g.z+o*p.z),s.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),l.push(d.x,d.y,d.z),c.push(y/n),c.push(e/r)}}for(let y=1;y<=n;y++)for(let e=1;e<=r;e++){const t=(r+1)*(y-1)+(e-1),n=(r+1)*y+(e-1),i=(r+1)*y+e,a=(r+1)*(y-1)+e;o.push(t,n,a),o.push(n,i,a)}function v(e,t,n,r,i){const a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(o),this.setAttribute("position",new ib(s,3)),this.setAttribute("normal",new ib(l,3)),this.setAttribute("uv",new ib(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class fS extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bw(new Gg(-1,-1,0),new Gg(-1,1,0),new Gg(1,1,0)),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new Gg,s=new Gg,l=new Hg;let c=new Gg;const u=[],d=[],h=[],f=[];function p(i){c=e.getPointAt(i/t,c);const l=a.normals[i],h=a.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),a=-Math.cos(t);s.x=a*l.x+i*h.x,s.y=a*l.y+i*h.y,s.z=a*l.z+i*h.z,s.normalize(),d.push(s.x,s.y,s.z),o.x=c.x+n*s.x,o.y=c.y+n*s.y,o.z=c.z+n*s.z,u.push(o.x,o.y,o.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,h.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),a=(r+1)*e+t,o=(r+1)*(e-1)+t;f.push(n,i,o),f.push(i,a,o)}}()}(),this.setIndex(f),this.setAttribute("position",new ib(u,3)),this.setAttribute("normal",new ib(d,3)),this.setAttribute("uv",new ib(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new fS((new _w[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class pS extends hb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new Gg,i=new Gg;if(null!==e.index){const a=e.attributes.position,o=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:o.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],c=l.start;for(let e=c,s=c+l.count;e<s;e+=3)for(let l=0;l<3;l++){const s=o.getX(e+l),c=o.getX(e+(l+1)%3);r.fromBufferAttribute(a,s),i.fromBufferAttribute(a,c),!0===mS(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const a=e.attributes.position;for(let e=0,o=a.count/3;e<o;e++)for(let s=0;s<3;s++){const o=3*e+s,l=3*e+(s+1)%3;r.fromBufferAttribute(a,o),i.fromBufferAttribute(a,l),!0===mS(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new ib(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function mS(e,t,n){const r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var gS=Object.freeze({__proto__:null,BoxGeometry:Tb,CapsuleGeometry:G_,CircleGeometry:X_,ConeGeometry:Y_,CylinderGeometry:q_,DodecahedronGeometry:K_,EdgesGeometry:tw,ExtrudeGeometry:tS,IcosahedronGeometry:rS,LatheGeometry:iS,OctahedronGeometry:aS,PlaneGeometry:oS,PolyhedronGeometry:Z_,RingGeometry:sS,ShapeGeometry:lS,SphereGeometry:cS,TetrahedronGeometry:uS,TorusGeometry:dS,TorusKnotGeometry:hS,TubeGeometry:fS,WireframeGeometry:pS});class vS extends zy{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Dy(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class yS extends kb{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class bS extends zy{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Dy(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dy(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Em,this.normalScale=new Hg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ey,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xS extends bS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Hg(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Fg(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Dy(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Dy(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Dy(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!==e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class _S extends zy{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Dy(16777215),this.specular=new Dy(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dy(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Em,this.normalScale=new Hg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ey,this.combine=Cf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wS extends zy{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Dy(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dy(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Em,this.normalScale=new Hg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class SS extends zy{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Em,this.normalScale=new Hg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class MS extends zy{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Dy(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dy(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Em,this.normalScale=new Hg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ey,this.combine=Cf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ES extends zy{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_m,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class TS extends zy{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class CS extends zy{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Dy(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Em,this.normalScale=new Hg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class AS extends m_{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function RS(e,t){return e&&e.constructor!==t?"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e}function PS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kS(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(function(t,n){return e[t]-e[n]}),n}function NS(e,t,n){const r=e.length,i=new e.constructor(r);for(let a=0,o=0;o!==r;++a){const r=n[a]*t;for(let n=0;n!==t;++n)i[o++]=e[r+n]}return i}function LS(e,t,n,r){let i=1,a=e[0];for(;void 0!==a&&void 0===a[r];)a=e[i++];if(void 0===a)return;let o=a[r];if(void 0!==o)if(Array.isArray(o))do{o=a[r],void 0!==o&&(t.push(a.time),n.push(...o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[r],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{o=a[r],void 0!==o&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}class IS{static convertArray(e,t){return RS(e,t)}static isTypedArray(e){return PS(e)}static getKeyframeOrder(e){return kS(e)}static sortedArray(e,t,n){return NS(e,t,n)}static flattenJSON(e,t,n,r){LS(e,t,n,r)}static subclip(e,t,n,r){return function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;const a=e.clone();a.name=t;const o=[];for(let l=0;l<a.tracks.length;++l){const e=a.tracks[l],t=e.getValueSize(),s=[],c=[];for(let a=0;a<e.times.length;++a){const o=e.times[a]*i;if(!(o<n||o>=r)){s.push(e.times[a]);for(let n=0;n<t;++n)c.push(e.values[a*t+n])}}0!==s.length&&(e.times=RS(s,e.times.constructor),e.values=RS(c,e.values.constructor),o.push(e))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}(e,t,n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:30)}static makeClipAdditive(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);const i=n.tracks.length,a=t/r;for(let o=0;o<i;++o){const t=n.tracks[o],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find(function(e){return e.name===t.name&&e.ValueTypeName===r});if(void 0===i)continue;let s=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const d=t.times.length-1;let h;if(a<=t.times[0]){const e=s,n=l-s;h=t.values.slice(e,n)}else if(a>=t.times[d]){const e=d*l+s,n=e+l-s;h=t.values.slice(e,n)}else{const e=t.createInterpolant(),n=s,r=l-s;e.evaluate(a),h=e.resultBuffer.slice(n,r)}"quaternion"===r&&(new Wg).fromArray(h).normalize().conjugate().toArray(h);const f=i.times.length;for(let e=0;e<f;++e){const t=e*u+c;if("quaternion"===r)Wg.multiplyQuaternionsFlat(i.values,t,h,0,i.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)i.values[t+n]-=h[n]}}}return e.blendMode=vm,e}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:30)}}class OS{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=i)){const o=t[1];e<o&&(n=2,i=o);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0;break n}break e}for(;n<a;){const r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let a=0;a!==r;++a)t[a]=n[i+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class DS extends OS{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:fm,endingEnd:fm}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case pm:i=e,o=2*t-n;break;case mm:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case pm:a=e,s=2*n-t;break;case mm:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=a*c}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-d*m+2*d*p-d*f,v=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*m+(1.5+h)*p+.5*f,b=h*m-h*p;for(let x=0;x!==o;++x)i[x]=g*a[c+x]+v*a[l+x]+y*a[s+x]+b*a[u+x];return i}}class FS extends OS{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(r-t),u=1-c;for(let d=0;d!==o;++d)i[d]=a[l+d]*u+a[s+d]*c;return i}}class US extends OS{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class zS{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=RS(t,this.TimeBufferType),this.values=RS(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:RS(e.times,Array),values:RS(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new US(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new FS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new DS(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case um:t=this.InterpolantFactoryMethodDiscrete;break;case dm:t=this.InterpolantFactoryMethodLinear;break;case hm:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return Ag("KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return um;case this.InterpolantFactoryMethodLinear:return dm;case this.InterpolantFactoryMethodSmooth:return hm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,a=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);const e=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Rg("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(Rg("KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==i;o++){const t=n[o];if("number"===typeof t&&isNaN(t)){Rg("KeyframeTrack: Time is not a valid number.",this,o,t),e=!1;break}if(null!==a&&a>t){Rg("KeyframeTrack: Out of order keys.",this,o,t,a),e=!1;break}a=t}if(void 0!==r&&PS(r))for(let o=0,s=r.length;o!==s;++o){const t=r[o];if(isNaN(t)){Rg("KeyframeTrack: Value is not a valid number.",this,o,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===hm,i=e.length-1;let a=1;for(let o=1;o<i;++o){let i=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(r)i=!0;else{const e=o*n,r=e-n,a=e+n;for(let o=0;o!==n;++o){const n=t[e+o];if(n!==t[r+o]||n!==t[a+o]){i=!0;break}}}if(i){if(o!==a){e[a]=e[o];const r=o*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,o=0;o!==n;++o)t[r+o]=t[e+o];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}zS.prototype.ValueTypeName="",zS.prototype.TimeBufferType=Float32Array,zS.prototype.ValueBufferType=Float32Array,zS.prototype.DefaultInterpolation=dm;class BS extends zS{constructor(e,t,n){super(e,t,n)}}BS.prototype.ValueTypeName="bool",BS.prototype.ValueBufferType=Array,BS.prototype.DefaultInterpolation=um,BS.prototype.InterpolantFactoryMethodLinear=void 0,BS.prototype.InterpolantFactoryMethodSmooth=void 0;class jS extends zS{constructor(e,t,n,r){super(e,t,n,r)}}jS.prototype.ValueTypeName="color";class VS extends zS{constructor(e,t,n,r){super(e,t,n,r)}}VS.prototype.ValueTypeName="number";class HS extends OS{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t);let l=e*o;for(let c=l+o;l!==c;l+=4)Wg.slerpFlat(i,0,a,l-o,a,l,s);return i}}class WS extends zS{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new HS(this.times,this.values,this.getValueSize(),e)}}WS.prototype.ValueTypeName="quaternion",WS.prototype.InterpolantFactoryMethodSmooth=void 0;class GS extends zS{constructor(e,t,n){super(e,t,n)}}GS.prototype.ValueTypeName="string",GS.prototype.ValueBufferType=Array,GS.prototype.DefaultInterpolation=um,GS.prototype.InterpolantFactoryMethodLinear=void 0,GS.prototype.InterpolantFactoryMethodSmooth=void 0;class XS extends zS{constructor(e,t,n,r){super(e,t,n,r)}}XS.prototype.ValueTypeName="vector";class qS{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gm;this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Dg(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,o=n.length;a!==o;++a)t.push(YS(n[a]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i.userData=JSON.parse(e.userData||"{}"),i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let i=0,a=n.length;i!==a;++i)t.push(zS.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,a=[];for(let o=0;o<i;o++){let e=[],s=[];e.push((o+i-1)%i,o,(o+1)%i),s.push(0,1,0);const l=kS(e);e=NS(e,1,l),s=NS(s,1,l),r||0!==e[0]||(e.push(i),s.push(s[0])),a.push(new VS(".morphTargetInfluences["+t[o].name+"]",e,s).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let o=0,s=e.length;o<s;o++){const t=e[o],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,n));return a}static parseAnimation(e,t){if(Ag("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Rg("AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const a=[],o=[];LS(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],a=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),a.push(r.morphTarget===i?1:0)}r.push(new VS(".morphTargetInfluence["+i+"]",t,a))}s=t.length*a}else{const i=".bones["+t[c].name+"]";n(XS,i+".position",e,"pos",r),n(WS,i+".quaternion",e,"rot",r),n(XS,i+".scale",e,"scl",r)}}if(0===r.length)return null;return new this(i,s,r,o)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function YS(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return VS;case"vector":case"vector2":case"vector3":case"vector4":return XS;case"color":return jS;case"quaternion":return WS;case"bool":case"boolean":return BS;case"string":return GS}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];LS(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const ZS={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class KS{constructor(e,t,n){const r=this;let i,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const JS=new KS;class $S{constructor(e){this.manager=void 0!==e?e:JS,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,i){n.load(e,r,t,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}$S.DEFAULT_MATERIAL_NAME="__DEFAULT";const QS={};class eM extends Error{constructor(e,t){super(e),this.response=t}}class tM extends $S{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=ZS.get("file:".concat(e));if(void 0!==i)return this.manager.itemStart(e),setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;if(void 0!==QS[e])return void QS[e].push({onLoad:t,onProgress:n,onError:r});QS[e]=[],QS[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:"function"===typeof AbortSignal.any?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,s=this.responseType;fetch(a).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&Ag("FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=QS[e],r=t.body.getReader(),i=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),a=i?parseInt(i):0,o=0!==a;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then(r=>{let{done:i,value:l}=r;if(i)e.close();else{s+=l.byteLength;const r=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(l),t()}},t=>{e.error(t)})}()}});return new Response(l)}throw new eM('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)}).then(e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>(new DOMParser).parseFromString(e,o));case"json":return e.json();default:if(""===o)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{ZS.add("file:".concat(e),t);const n=QS[e];delete QS[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}}).catch(t=>{const n=QS[e];if(void 0===n)throw this.manager.itemError(e),t;delete QS[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class nM extends $S{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new tM(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(dX){r?r(dX):Rg(dX),i.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=qS.parse(e[n]);t.push(r)}return t}}class rM extends $S{constructor(e){super(e)}load(e,t,n,r){const i=this,a=[],o=new z_,s=new tM(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function c(c){s.load(e[c],function(e){const n=i.parse(e,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(o.minFilter=ep),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))},n,r)}if(Array.isArray(e))for(let u=0,d=e.length;u<d;++u)c(u);else s.load(e,function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){a[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)a[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),a[t].format=n.format,a[t].width=n.width,a[t].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=ep),o.format=n.format,o.needsUpdate=!0,t&&t(o)},n,r);return o}}const iM=new WeakMap;class aM extends $S{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=ZS.get("image:".concat(e));if(void 0!==a){if(!0===a.complete)i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0);else{let e=iM.get(a);void 0===e&&(e=[],iM.set(a,e)),e.push({onLoad:t,onError:r})}return a}const o=_g("img");function s(){c(),t&&t(this);const n=iM.get(this)||[];for(let e=0;e<n.length;e++){const t=n[e];t.onLoad&&t.onLoad(this)}iM.delete(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),ZS.remove("image:".concat(e));const n=iM.get(this)||[];for(let e=0;e<n.length;e++){const r=n[e];r.onError&&r.onError(t)}iM.delete(this),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),ZS.add("image:".concat(e),o),i.manager.itemStart(e),o.src=e,o}}class oM extends $S{constructor(e){super(e)}load(e,t,n,r){const i=new zb;i.colorSpace=Am;const a=new aM(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function s(n){a.load(e[n],function(e){i.images[n]=e,o++,6===o&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}for(let l=0;l<e.length;++l)s(l);return i}}class sM extends $S{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Tx,o=new tM(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,function(e){let n;try{n=i.parse(e)}catch(Rg){if(void 0===r)return void Rg(Rg);r(Rg)}void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:qf,a.wrapT=void 0!==n.wrapT?n.wrapT:qf,a.magFilter=void 0!==n.magFilter?n.magFilter:ep,a.minFilter=void 0!==n.minFilter?n.minFilter:ep,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(a.colorSpace=n.colorSpace),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=rp),1===n.mipmapCount&&(a.minFilter=ep),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n)},n,r),a}}class lM extends $S{constructor(e){super(e)}load(e,t,n,r){const i=new cv,a=new aM(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i}}class cM extends vy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new Dy(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}class uM extends cM{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(vy.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Dy(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const dM=new Wv,hM=new Gg,fM=new Gg;class pM{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Hg(512,512),this.mapType=ap,this.map=null,this.mapPass=null,this.matrix=new Wv,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Xx,this._frameExtents=new Hg(1,1),this._viewportCount=1,this._viewports=[new uv(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;hM.setFromMatrixPosition(e.matrixWorld),t.position.copy(hM),fM.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(fM),t.updateMatrixWorld(),dM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dM,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(dM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class mM extends pM{constructor(){super(new Db(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=2*Og*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class gM extends cM{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(vy.DEFAULT_UP),this.updateMatrix(),this.target=new vy,this.distance=n,this.angle=r,this.penumbra=i,this.decay=a,this.map=null,this.shadow=new mM}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const vM=new Wv,yM=new Gg,bM=new Gg;class xM extends pM{constructor(){super(new Db(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Hg(4,2),this._viewportCount=6,this._viewports=[new uv(2,1,1,1),new uv(0,1,1,1),new uv(3,1,1,1),new uv(1,1,1,1),new uv(3,0,1,1),new uv(1,0,1,1)],this._cubeDirections=[new Gg(1,0,0),new Gg(-1,0,0),new Gg(0,0,1),new Gg(0,0,-1),new Gg(0,1,0),new Gg(0,-1,0)],this._cubeUps=[new Gg(0,1,0),new Gg(0,1,0),new Gg(0,1,0),new Gg(0,1,0),new Gg(0,0,1),new Gg(0,0,-1)]}updateMatrices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),yM.setFromMatrixPosition(e.matrixWorld),n.position.copy(yM),bM.copy(n.position),bM.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(bM),n.updateMatrixWorld(),r.makeTranslation(-yM.x,-yM.y,-yM.z),vM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vM,n.coordinateSystem,n.reversedDepth)}}class _M extends cM{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new xM}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class wM extends Nb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class SM extends pM{constructor(){super(new wM(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class MM extends cM{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(vy.DEFAULT_UP),this.updateMatrix(),this.target=new vy,this.shadow=new SM}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class EM extends cM{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class TM extends cM{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class CM{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Gg)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class AM extends cM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new CM;super(void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class RM extends $S{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,a=new tM(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(dX){r?r(dX):Rg(dX),i.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&Ag("MaterialLoader: Undefined texture",e),t[e]}const r=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Dy).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(r.dispersion=e.dispersion),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(r.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(r.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(r.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(r.depthFunc=e.depthFunc),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(r.blendSrc=e.blendSrc),void 0!==e.blendDst&&(r.blendDst=e.blendDst),void 0!==e.blendEquation&&(r.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(r.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(r.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(r.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(r.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),void 0!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new Dy).setHex(t.value);break;case"v2":r.uniforms[i].value=(new Hg).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new Gg).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new uv).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new Yg).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new Wv).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new Hg).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapRotation&&r.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Hg).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(r.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return RM.createMaterialFromType(e)}static createMaterialFromType(e){return new{ShadowMaterial:vS,SpriteMaterial:Kb,RawShaderMaterial:yS,ShaderMaterial:kb,PointsMaterial:R_,MeshPhysicalMaterial:xS,MeshStandardMaterial:bS,MeshPhongMaterial:_S,MeshToonMaterial:wS,MeshNormalMaterial:SS,MeshLambertMaterial:MS,MeshDepthMaterial:ES,MeshDistanceMaterial:TS,MeshBasicMaterial:By,MeshMatcapMaterial:CS,LineDashedMaterial:AS,LineBasicMaterial:m_,Material:zy}[e]}}class PM{static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class kM extends hb{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class NM extends $S{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new tM(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(dX){r?r(dX):Rg(dX),i.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=xg(i.type,a),s=new qb(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}const i=e.isInstancedBufferGeometry?new kM:new hb,a=e.data.index;if(void 0!==a){const e=xg(a.type,a.array);i.setIndex(new Zy(e,1))}const o=e.data.attributes;for(const u in o){const t=o[u];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new Zb(i,t.itemSize,t.offset,t.normalized)}else{const e=xg(t.type,t.array);n=new(t.isInstancedBufferAttribute?Px:Zy)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),i.setAttribute(u,n)}const s=e.data.morphAttributes;if(s)for(const u in s){const t=s[u],n=[];for(let i=0,a=t.length;i<a;i++){const a=t[i];let o;if(a.isInterleavedBufferAttribute){const t=r(e.data,a.data);o=new Zb(t,a.itemSize,a.offset,a.normalized)}else{const e=xg(a.type,a.array);o=new Zy(e,a.itemSize,a.normalized)}void 0!==a.name&&(o.name=a.name),n.push(o)}i.morphAttributes[u]=n}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,d=l.length;u!==d;++u){const e=l[u];i.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;return void 0!==c&&(i.boundingSphere=(new Ov).fromJSON(c)),e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}class LM extends $S{constructor(e){super(e)}load(e,t,n,r){const i=this,a=""===this.path?PM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new tM(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(n){let a=null;try{a=JSON.parse(n)}catch(Rg){return void 0!==r&&r(Rg),void Rg("ObjectLoader: Can't parse "+e+".",Rg.message)}const o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void Rg("ObjectLoader: Can't load "+e);i.parse(a,t)},n,r)}async loadAsync(e,t){const n=""===this.path?PM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new tM(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),a=JSON.parse(i),o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){void 0!==t&&t(l)}),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),this.bindLightTargets(l),void 0!==t){let e=!1;for(const t in a)if(a[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o,a,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),this.bindLightTargets(s),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new Mw).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(e){e.isBone&&(r[e.uuid]=e)}),void 0!==e)for(let i=0,a=e.length;i<a;i++){const t=(new Rx).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new NM;for(let i=0,a=e.length;i<a;i++){let a;const o=e[i];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(o);break;default:o.type in gS?a=gS[o.type].fromJSON(o,t):Ag('ObjectLoader: Unsupported geometry type "'.concat(o.type,'"'))}a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.userData&&(a.userData=o.userData),n[o.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new RM;i.setTextures(t);for(let t=0,a=e.length;t<a;t++){const a=e[t];void 0===n[a.uuid]&&(n[a.uuid]=i.parse(a)),r[a.uuid]=n[a.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=qS.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function a(e){if("string"===typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:xg(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new KS(t);i=new aM(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=a(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new Tx(n.data,n.width,n.height)))}r[n.uuid]=new av(e)}else{const e=a(n.url);r[n.uuid]=new av(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"===typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:xg(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new aM(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],a=r.url;if(Array.isArray(a)){const e=[];for(let t=0,n=a.length;t<n;t++){const n=a[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new Tx(r.data,r.width,r.height)))}n[r.uuid]=new av(e)}else{const e=await i(r.url);n[r.uuid]=new av(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(Ag("ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,a=e.length;i<a;i++){const a=e[i];void 0===a.image&&Ag('ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&Ag("ObjectLoader: Undefined image",a.image);const o=t[a.image],s=o.data;let l;Array.isArray(s)?(l=new zb,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new Tx:new cv,s&&(l.needsUpdate=!0)),l.source=o,l.uuid=a.uuid,void 0!==a.name&&(l.name=a.name),void 0!==a.mapping&&(l.mapping=n(a.mapping,IM)),void 0!==a.channel&&(l.channel=a.channel),void 0!==a.offset&&l.offset.fromArray(a.offset),void 0!==a.repeat&&l.repeat.fromArray(a.repeat),void 0!==a.center&&l.center.fromArray(a.center),void 0!==a.rotation&&(l.rotation=a.rotation),void 0!==a.wrap&&(l.wrapS=n(a.wrap[0],OM),l.wrapT=n(a.wrap[1],OM)),void 0!==a.format&&(l.format=a.format),void 0!==a.internalFormat&&(l.internalFormat=a.internalFormat),void 0!==a.type&&(l.type=a.type),void 0!==a.colorSpace&&(l.colorSpace=a.colorSpace),void 0!==a.minFilter&&(l.minFilter=n(a.minFilter,DM)),void 0!==a.magFilter&&(l.magFilter=n(a.magFilter,DM)),void 0!==a.anisotropy&&(l.anisotropy=a.anisotropy),void 0!==a.flipY&&(l.flipY=a.flipY),void 0!==a.generateMipmaps&&(l.generateMipmaps=a.generateMipmaps),void 0!==a.premultiplyAlpha&&(l.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(l.unpackAlignment=a.unpackAlignment),void 0!==a.compareFunction&&(l.compareFunction=a.compareFunction),void 0!==a.userData&&(l.userData=a.userData),r[a.uuid]=l}return r}parseObject(e,t,n,r,i){let a,o,s;function l(e){return void 0===t[e]&&Ag("ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&Ag("ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&Ag("ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===r[e]&&Ag("ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new Xb,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new Dy(e.background):a.background=u(e.background)),void 0!==e.environment&&(a.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new Gb(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Wb(e.fog.color,e.fog.density)),""!==e.fog.name&&(a.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&a.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(a.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Db(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new wM(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new EM(e.color,e.intensity);break;case"DirectionalLight":a=new MM(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new _M(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new TM(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new gM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new uM(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new AM).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=c(e.material),a=new Mx(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=c(e.material),a=new Mb(o,s);break;case"InstancedMesh":o=l(e.geometry),s=c(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;a=new Ux(o,s,t),a.instanceMatrix=new Px(new Float32Array(n.array),16),void 0!==r&&(a.instanceColor=new Px(new Float32Array(r.array),r.itemSize));break;case"BatchedMesh":o=l(e.geometry),s=c(e.material),a=new p_(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,s),a.geometry=o,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(e=>{let t=null,n=null;return void 0!==e.boundingBox&&(t=(new vv).fromJSON(e.boundingBox)),void 0!==e.boundingSphere&&(n=(new Ov).fromJSON(e.boundingSphere)),f(f({},e),{},{boundingBox:t,boundingSphere:n})}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),void 0!==e.colorsTexture&&(a._colorsTexture=u(e.colorsTexture.uuid)),void 0!==e.boundingSphere&&(a.boundingSphere=(new Ov).fromJSON(e.boundingSphere)),void 0!==e.boundingBox&&(a.boundingBox=(new vv).fromJSON(e.boundingBox));break;case"LOD":a=new px;break;case"Line":a=new S_(l(e.geometry),c(e.material));break;case"LineLoop":a=new A_(l(e.geometry),c(e.material));break;case"LineSegments":a=new C_(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new I_(l(e.geometry),c(e.material));break;case"Sprite":a=new ux(c(e.material));break;case"Group":a=new jb;break;case"Bone":a=new Ex;break;default:a=new vy}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(a.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){const o=e.children;for(let e=0;e<o.length;e++)a.add(this.parseObject(o[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];a.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=a.getObjectByProperty("uuid",n.object);void 0!==r&&a.addLevel(r,n.distance,n.hysteresis)}}return a}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse(function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?Ag("ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);t.target=void 0!==r?r:new vy}})}}const IM={UVMapping:Bf,CubeReflectionMapping:jf,CubeRefractionMapping:Vf,EquirectangularReflectionMapping:Hf,EquirectangularRefractionMapping:Wf,CubeUVReflectionMapping:Gf},OM={RepeatWrapping:Xf,ClampToEdgeWrapping:qf,MirroredRepeatWrapping:Yf},DM={NearestFilter:Zf,NearestMipmapNearestFilter:Kf,NearestMipmapLinearFilter:$f,LinearFilter:ep,LinearMipmapNearestFilter:tp,LinearMipmapLinearFilter:rp},FM=new WeakMap;class UM extends $S{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&Ag("ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&Ag("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=ZS.get("image-bitmap:".concat(e));if(void 0!==a)return i.manager.itemStart(e),a.then?void a.then(n=>{if(!0!==FM.has(a))return t&&t(n),i.manager.itemEnd(e),n;r&&r(FM.get(a)),i.manager.itemError(e),i.manager.itemEnd(e)}):(setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a);const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,o.signal="function"===typeof AbortSignal.any?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const s=fetch(e,o).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))}).then(function(n){return ZS.add("image-bitmap:".concat(e),n),t&&t(n),i.manager.itemEnd(e),n}).catch(function(t){r&&r(t),FM.set(s,t),ZS.remove("image-bitmap:".concat(e)),i.manager.itemError(e),i.manager.itemEnd(e)});ZS.add("image-bitmap:".concat(e),s),i.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let zM;class BM{static getContext(){return void 0===zM&&(zM=new(window.AudioContext||window.webkitAudioContext)),zM}static setContext(e){zM=e}}class jM extends $S{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new tM(this.manager);function o(t){r?r(t):Rg(t),i.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(e){try{const n=e.slice(0);BM.getContext().decodeAudioData(n,function(e){t(e)}).catch(o)}catch(dX){o(dX)}},n,r)}}const VM=new Wv,HM=new Wv,WM=new Wv;class GM{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Db,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Db,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,WM.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(Ig*t.fov*.5)/t.zoom;let a,o;HM.elements[12]=-n,VM.elements[12]=n,a=-i*t.aspect+r,o=i*t.aspect+r,WM.elements[0]=2*t.near/(o-a),WM.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(WM),a=-i*t.aspect-r,o=i*t.aspect-r,WM.elements[0]=2*t.near/(o-a),WM.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(WM)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(HM),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(VM)}}class XM extends Db{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class qM{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const YM=new Gg,ZM=new Wg,KM=new Gg,JM=new Gg,$M=new Gg;class QM extends vy{constructor(){super(),this.type="AudioListener",this.context=BM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new qM}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(YM,ZM,KM),JM.set(0,0,-1).applyQuaternion(ZM),$M.set(0,1,0).applyQuaternion(ZM),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(YM.x,e),t.positionY.linearRampToValueAtTime(YM.y,e),t.positionZ.linearRampToValueAtTime(YM.z,e),t.forwardX.linearRampToValueAtTime(JM.x,e),t.forwardY.linearRampToValueAtTime(JM.y,e),t.forwardZ.linearRampToValueAtTime(JM.z,e),t.upX.linearRampToValueAtTime($M.x,e),t.upY.linearRampToValueAtTime($M.y,e),t.upZ.linearRampToValueAtTime($M.z,e)}else t.setPosition(YM.x,YM.y,YM.z),t.setOrientation(JM.x,JM.y,JM.z,$M.x,$M.y,$M.z)}}class eE extends vy{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)return void Ag("Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void Ag("Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;Ag("Audio: this Audio has no playback control.")}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this;Ag("Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;Ag("Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1===this.hasPlaybackControl?(Ag("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;Ag("Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),"buffer"!==e.sourceType?(Ag("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const tE=new Gg,nE=new Wg,rE=new Gg,iE=new Gg;class aE extends eE{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(tE,nE,rE),iE.set(0,0,1).applyQuaternion(nE);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(tE.x,e),t.positionY.linearRampToValueAtTime(tE.y,e),t.positionZ.linearRampToValueAtTime(tE.z,e),t.orientationX.linearRampToValueAtTime(iE.x,e),t.orientationY.linearRampToValueAtTime(iE.y,e),t.orientationZ.linearRampToValueAtTime(iE.z,e)}else t.setPosition(tE.x,tE.y,tE.z),t.setOrientation(iE.x,iE.y,iE.z)}}class oE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class sE{constructor(e,t,n){let r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==r;++e)n[i+e]=n[e];a=t}else{a+=t;const e=t/a;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let a=0;a!==i;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){Wg.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const a=this._workIndex*i;Wg.multiplyQuaternionsFlat(e,a,e,t,e,n),Wg.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,i){const a=1-r;for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]*a+e[n+o]*r}}_lerpAdditive(e,t,n,r,i){for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]+e[n+a]*r}}}const lE="\\[\\]\\.:\\/",cE=new RegExp("["+lE+"]","g"),uE="[^"+lE+"]",dE="[^"+lE.replace("\\.","")+"]",hE=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",uE)+/(WCOD+)?/.source.replace("WCOD",dE)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",uE)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",uE)+"$"),fE=["material","materials","bones","map"];class pE{constructor(e,t,n){this.path=t,this.parsedPath=n||pE.parseTrackName(t),this.node=pE.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new pE.Composite(e,t,n):new pE(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(cE,"")}static parseTrackName(e){const t=hE.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==fE.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=pE.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void Ag("PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void Rg("PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void Rg("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void Rg("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void Rg("PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void Rg("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void Rg("PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void Rg("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const a=e[r];if(void 0===a){return void Rg("PropertyBinding: Trying to update property for track: "+t.nodeName+"."+r+" but it wasn't found.",e)}let o=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?o=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void Rg("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void Rg("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}pE.Composite=class{constructor(e,t,n){const r=n||pE.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},pE.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},pE.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},pE.prototype.GetterByBindingType=[pE.prototype._getValue_direct,pE.prototype._getValue_array,pE.prototype._getValue_arrayElement,pE.prototype._getValue_toArray],pE.prototype.SetterByBindingTypeAndVersioning=[[pE.prototype._setValue_direct,pE.prototype._setValue_direct_setNeedsUpdate,pE.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[pE.prototype._setValue_array,pE.prototype._setValue_array_setNeedsUpdate,pE.prototype._setValue_array_setMatrixWorldNeedsUpdate],[pE.prototype._setValue_arrayElement,pE.prototype._setValue_arrayElement_setNeedsUpdate,pE.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[pE.prototype._setValue_fromArray,pE.prototype._setValue_fromArray_setNeedsUpdate,pE.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class mE{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Dg(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length;let o,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],d=u.uuid;let h=t[d];if(void 0===h){h=s++,t[d]=h,e.push(u);for(let e=0,t=a;e!==t;++e)i[e].push(new pE(u,n[e],r[e]))}else if(h<l){o=e[h];const s=--l,c=e[s];t[c.uuid]=h,e[h]=c,t[d]=s,e[s]=u;for(let e=0,t=a;e!==t;++e){const t=i[e],a=t[s];let o=t[h];t[h]=a,void 0===o&&(o=new pE(u,n[e],r[e])),t[s]=o}}else e[h]!==o&&Rg("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a],s=o.uuid,l=t[s];if(void 0!==l&&l>=i){const a=i++,c=e[a];t[c.uuid]=l,e[l]=c,t[s]=a,e[a]=o;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[l];t[l]=r,t[a]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,a=e.length;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<i){const o=--i,s=e[o],c=--a,u=e[c];t[s.uuid]=l,e[l]=s,t[u.uuid]=o,e[o]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[c];t[l]=r,t[o]=i,t.pop()}}else{const i=--a,o=e[i];i>0&&(t[o.uuid]=l),e[l]=o,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(u);for(let d=c,h=s.length;d!==h;++d){const n=s[d];u[d]=new pE(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}class gE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.blendMode;this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,a=i.length,o=new Array(a),s={endingStart:fm,endingEnd:fm};for(let l=0;l!==a;++l){const e=i[l].createInterpolant(null);o[l]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lm,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.fadeOut(t),this.fadeIn(t),!0===n){const n=this._clip.duration,r=e._clip.duration,i=r/n,a=n/r;e.warp(1,i,t),this.warp(a,1,t)}return this}crossFadeTo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===vm)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulateAdditive(o);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulate(r,o)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const a=n===cm;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===sm){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=pm,r.endingEnd=pm):(r.endingStart=e?this.zeroSlopeAtStart?pm:fm:mm,r.endingEnd=t?this.zeroSlopeAtEnd?pm:fm:mm)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}const vE=new Float32Array(1);class yE extends kg{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let u=0;u!==i;++u){const e=r[u],i=e.name;let l=c[i];if(void 0!==l)++l.referenceCount,a[u]=l;else{if(l=a[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,s,i));continue}const r=t&&t._propertyBindings[u].binding.parsedPath;l=new sE(pE.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,s,i),a[u]=l}o[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{const t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new FS(new Float32Array(2),new Float32Array(2),1,vE),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let a="string"===typeof e?qS.findByName(r,e):e;const o=null!==a?a.uuid:e,s=this._actionsByClip[o];let l=null;if(void 0===n&&(n=null!==a?a.blendMode:gm),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;const c=new gE(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"===typeof e?qS.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(r,e,i,a)}const o=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)o[l].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,a=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,a._cacheIndex=i,t[i]=a,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const e=n[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const i in r){const e=r[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class bE extends dv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new mv(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class xE{constructor(e){this.value=e}clone(){return new xE(void 0===this.value.clone?this.value:this.value.clone())}}let _E=0;class wE extends kg{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_E++}),this.name="",this.usage=ng,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const e=Array.isArray(t[n])?t[n]:[t[n]];for(let t=0;t<e.length;t++)this.uniforms.push(e[t].clone())}return this}clone(){return(new this.constructor).copy(this)}}class SE extends qb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class ME{constructor(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.normalized=a,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const EE=new Wv;class TE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new Hv(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new ty,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Rg("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return EE.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(EE),this}intersectObject(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return AE(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(CE),t}intersectObjects(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let r=0,i=e.length;r<i;r++)AE(e[r],this,n,t);return n.sort(CE),n}}function CE(e,t){return e.distance-t.distance}function AE(e,t,n,r){let i=!0;if(e.layers.test(t.layers)){!1===e.raycast(t,n)&&(i=!1)}if(!0===i&&!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)AE(r[e],t,n,!0)}}class RE{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,void 0!==e.hidden&&(this._pageVisibilityHandler=PE.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){null!==this._pageVisibilityHandler&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return null!==this._pageVisibilityHandler&&!0===this._document.hidden?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(void 0!==e?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function PE(){!1===this._document.hidden&&this.reset()}class kE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Fg(this.phi,e,Math.PI-e),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Fg(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class NE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}class LE{constructor(e,t,n,r){LE.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==e&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const i=this.elements;return i[0]=e,i[2]=t,i[1]=n,i[3]=r,this}}const IE=new Hg;class OE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hg(1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg(-1/0,-1/0);this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=IE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,IE).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const DE=new Gg,FE=new Gg,UE=new Gg,zE=new Gg,BE=new Gg,jE=new Gg,VE=new Gg;class HE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg;this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){DE.subVectors(e,this.start),FE.subVectors(this.end,this.start);const n=FE.dot(FE);let r=FE.dot(DE)/n;return t&&(r=Fg(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}distanceSqToLine3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:VE;const r=1e-8*1e-8;let i,a;const o=this.start,s=e.start,l=this.end,c=e.end;UE.subVectors(l,o),zE.subVectors(c,s),BE.subVectors(o,s);const u=UE.dot(UE),d=zE.dot(zE),h=zE.dot(BE);if(u<=r&&d<=r)return t.copy(o),n.copy(s),t.sub(n),t.dot(t);if(u<=r)i=0,a=h/d,a=Fg(a,0,1);else{const e=UE.dot(BE);if(d<=r)a=0,i=Fg(-e/u,0,1);else{const t=UE.dot(zE),n=u*d-t*t;i=0!==n?Fg((t*h-e*d)/n,0,1):0,a=(t*i+h)/d,a<0?(a=0,i=Fg(-e/u,0,1)):a>1&&(a=1,i=Fg((t-e)/u,0,1))}}return t.copy(o).add(UE.multiplyScalar(i)),n.copy(s).add(zE.multiplyScalar(a)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const WE=new Gg;class GE extends vy{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new hb,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,s=32;a<s;a++,o++){const e=a/s*Math.PI*2,t=o/s*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new ib(r,3));const i=new m_({fog:!1,toneMapped:!1});this.cone=new C_(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),WE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(WE),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const XE=new Gg,qE=new Wv,YE=new Wv;class ZE extends C_{constructor(e){const t=KE(e),n=new hb,r=[],i=[];for(let s=0;s<t.length;s++){const e=t[s];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(0,0,0),i.push(0,0,0))}n.setAttribute("position",new ib(r,3)),n.setAttribute("color",new ib(i,3));super(n,new m_({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new Dy(255),o=new Dy(65280);this.setColors(a,o)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");YE.copy(this.root.matrixWorld).invert();for(let i=0,a=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(qE.multiplyMatrices(YE,e.matrixWorld),XE.setFromMatrixPosition(qE),r.setXYZ(a,XE.x,XE.y,XE.z),qE.multiplyMatrices(YE,e.parent.matrixWorld),XE.setFromMatrixPosition(qE),r.setXYZ(a+1,XE.x,XE.y,XE.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const n=this.geometry.getAttribute("color");for(let r=0;r<n.count;r+=2)n.setXYZ(r,e.r,e.g,e.b),n.setXYZ(r+1,t.r,t.g,t.b);return n.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function KE(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push(...KE(e.children[n]));return t}class JE extends Mb{constructor(e,t,n){super(new cS(t,4,2),new By({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const $E=new Gg,QE=new Dy,eT=new Dy;class tT extends vy{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new aS(t);r.rotateY(.5*Math.PI),this.material=new By({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.setAttribute("color",new Zy(a,3)),this.add(new Mb(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");QE.copy(this.light.color),eT.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?QE:eT;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt($E.setFromMatrixPosition(this.light.matrixWorld).negate())}}class nT extends C_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;n=new Dy(n),r=new Dy(r);const i=t/2,a=e/t,o=e/2,s=[],l=[];for(let u=0,d=0,h=-o;u<=t;u++,h+=a){s.push(-o,0,h,o,0,h),s.push(h,0,-o,h,0,o);const e=u===i?n:r;e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3}const c=new hb;c.setAttribute("position",new ib(s,3)),c.setAttribute("color",new ib(l,3));super(c,new m_({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class rT extends C_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;i=new Dy(i),a=new Dy(a);const o=[],s=[];if(t>1)for(let c=0;c<t;c++){const n=c/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;o.push(0,0,0),o.push(r,0,l);const u=1&c?i:a;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let c=0;c<n;c++){const t=1&c?i:a,l=e-e/n*c;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,a=Math.cos(n)*l;o.push(i,0,a),s.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,a=Math.cos(n)*l,o.push(i,0,a),s.push(t.r,t.g,t.b)}}const l=new hb;l.setAttribute("position",new ib(o,3)),l.setAttribute("color",new ib(s,3));super(l,new m_({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const iT=new Gg,aT=new Gg,oT=new Gg;class sT extends vy{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new hb;r.setAttribute("position",new ib([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new m_({fog:!1,toneMapped:!1});this.lightPlane=new S_(r,i),this.add(this.lightPlane),r=new hb,r.setAttribute("position",new ib([0,0,0,0,0,1],3)),this.targetLine=new S_(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),iT.setFromMatrixPosition(this.light.matrixWorld),aT.setFromMatrixPosition(this.light.target.matrixWorld),oT.subVectors(aT,iT),this.lightPlane.lookAt(aT),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(aT),this.targetLine.scale.z=oT.length()}}const lT=new Gg,cT=new Nb;class uT extends C_{constructor(e){const t=new hb,n=new m_({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],a={};function o(e,t){s(e),s(t)}function s(e){r.push(0,0,0),i.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4"),t.setAttribute("position",new ib(r,3)),t.setAttribute("color",new ib(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new Dy(16755200),c=new Dy(16711680),u=new Dy(43775),d=new Dy(16777215),h=new Dy(3355443);this.setColors(l,c,u,d,h)}setColors(e,t,n,r,i){const a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap;let n,r;if(cT.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),!0===this.camera.reversedDepth)n=1,r=0;else if(this.camera.coordinateSystem===fg)n=-1,r=1;else{if(this.camera.coordinateSystem!==pg)throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);n=0,r=1}dT("c",t,e,cT,0,0,n),dT("t",t,e,cT,0,0,r),dT("n1",t,e,cT,-1,-1,n),dT("n2",t,e,cT,1,-1,n),dT("n3",t,e,cT,-1,1,n),dT("n4",t,e,cT,1,1,n),dT("f1",t,e,cT,-1,-1,r),dT("f2",t,e,cT,1,-1,r),dT("f3",t,e,cT,-1,1,r),dT("f4",t,e,cT,1,1,r),dT("u1",t,e,cT,.7,1.1,n),dT("u2",t,e,cT,-.7,1.1,n),dT("u3",t,e,cT,0,2,n),dT("cf1",t,e,cT,-1,0,r),dT("cf2",t,e,cT,1,0,r),dT("cf3",t,e,cT,0,-1,r),dT("cf4",t,e,cT,0,1,r),dT("cn1",t,e,cT,-1,0,n),dT("cn2",t,e,cT,1,0,n),dT("cn3",t,e,cT,0,-1,n),dT("cn4",t,e,cT,0,1,n),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function dT(e,t,n,r,i,a,o){lT.set(i,a,o).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],lT.x,lT.y,lT.z)}}const hT=new vv;class fT extends C_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new hb;i.setIndex(new Zy(n,1)),i.setAttribute("position",new Zy(r,3)),super(i,new m_({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(void 0!==this.object&&hT.setFromObject(this.object),hT.isEmpty())return;const e=hT.min,t=hT.max,n=this.geometry.attributes.position,r=n.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class pT extends C_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new hb;r.setIndex(new Zy(n,1)),r.setAttribute("position",new ib([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new m_({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class mT extends S_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960,r=new hb;r.setAttribute("position",new ib([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere(),super(r,new m_({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const i=new hb;i.setAttribute("position",new ib([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Mb(i,new By({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const gT=new Gg;let vT,yT;class bT extends vy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gg(0,0,1),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gg(0,0,0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*n,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*i;super(),this.type="ArrowHelper",void 0===vT&&(vT=new hb,vT.setAttribute("position",new ib([0,0,0,0,1,0],3)),yT=new Y_(.5,1,5,1),yT.translate(0,-.5,0)),this.position.copy(t),this.line=new S_(vT,new m_({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mb(yT,new By({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{gT.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(gT,t)}}setLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class xT extends C_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new hb;n.setAttribute("position",new ib(t,3)),n.setAttribute("color",new ib([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new m_({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new Dy,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class _T{constructor(){this.type="ShapePath",this.color=new Dy,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Sw,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,a=0;a<n;i=a++){let n=t[i],o=t[a],s=o.x-n.x,l=o.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[a],s=-s,o=t[i],l=-l),e.y<n.y||e.y>o.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(o.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=o.x)return!0}}return r}const n=$w.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,a,o;const s=[];if(1===r.length)return a=r[0],o=new Mw,o.curves=a.curves,s.push(o),s;let l=!n(r[0].getPoints());l=e?!l:l;const c=[],u=[];let d,h,f=[],p=0;u[p]=void 0,f[p]=[];for(let m=0,g=r.length;m<g;m++)a=r[m],d=a.getPoints(),i=n(d),i=e?!i:i,i?(!l&&u[p]&&p++,u[p]={s:new Mw,p:d},u[p].s.curves=a.curves,l&&p++,f[p]=[]):f[p].push({h:a,p:d[0]});if(!u[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new Mw;i.curves=r.curves,t.push(i)}return t}(r);if(u.length>1){let e=!1,n=0;for(let t=0,r=u.length;t<r;t++)c[t]=[];for(let r=0,i=u.length;r<i;r++){const i=f[r];for(let a=0;a<i.length;a++){const o=i[a];let s=!0;for(let i=0;i<u.length;i++)t(o.p,u[i].p)&&(r!==i&&n++,s?(s=!1,c[i].push(o)):e=!0);s&&c[r].push(o)}}n>0&&!1===e&&(f=c)}for(let m=0,g=u.length;m<g;m++){o=u[m].s,s.push(o),h=f[m];for(let e=0,t=h.length;e<t;e++)o.holes.push(h[e].h)}return s}}class wT extends kg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){void 0!==e?(null!==this.domElement&&this.disconnect(),this.domElement=e):Ag("Controls: connect() now requires an element.")}disconnect(){}dispose(){}update(){}}function ST(e,t,n,r){const i=function(e){switch(e){case ap:case op:return{byteLength:1,components:1};case lp:case sp:case hp:return{byteLength:2,components:1};case fp:case pp:return{byteLength:2,components:4};case up:case cp:case dp:return{byteLength:4,components:1};case gp:case vp:return{byteLength:4,components:3}}throw new Error("Unknown texture type ".concat(e,"."))}(r);switch(n){case yp:return e*t;case Sp:case Mp:return e*t/i.components*i.byteLength;case Ep:case Tp:return e*t*2/i.components*i.byteLength;case bp:return e*t*3/i.components*i.byteLength;case xp:case Ap:return e*t*4/i.components*i.byteLength;case Rp:case Pp:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case kp:case Np:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Ip:case Dp:return Math.max(e,16)*Math.max(t,8)/4;case Lp:case Op:return Math.max(e,8)*Math.max(t,8)/2;case Fp:case Up:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case zp:case Bp:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case jp:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case Vp:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case Hp:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case Wp:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case Gp:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case Xp:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case qp:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case Yp:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case Zp:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case Kp:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case Jp:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case $p:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case Qp:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case em:case tm:case nm:return Math.ceil(e/4)*Math.ceil(t/4)*16;case rm:case im:return Math.ceil(e/4)*Math.ceil(t/4)*8;case am:case om:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error("Unable to determine texture byte length for ".concat(n," format."))}class MT{static contain(e,t){return function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e}(e,t)}static cover(e,t){return function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e}(e,t)}static fill(e){return function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e}(e)}static getByteLength(e,t,n,r){return ST(e,t,n,r)}}function ET(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function TT(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const i=t.get(n);if(void 0===i)t.set(n,function(t,n){const r=t.array,i=t.usage,a=r.byteLength,o=e.createBuffer();let s;if(e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)s=e.FLOAT;else if("undefined"!==typeof Float16Array&&r instanceof Float16Array)s=e.HALF_FLOAT;else if(r instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)s=e.SHORT;else if(r instanceof Uint32Array)s=e.UNSIGNED_INT;else if(r instanceof Int32Array)s=e.INT;else if(r instanceof Int8Array)s=e.BYTE;else if(r instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);s=e.UNSIGNED_BYTE}return{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:a}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){const i=n.array,a=n.updateRanges;if(e.bindBuffer(r,t),0===a.length)e.bufferSubData(r,0,i);else{a.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<a.length;e++){const n=a[t],r=a[e];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):(++t,a[t]=r)}a.length=t+1;for(let n=0,o=a.length;n<o;n++){const t=a[n];e.bufferSubData(r,t.start*i.BYTES_PER_ELEMENT,i,t.start,t.count)}n.clearUpdateRanges()}n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Nh}})),"undefined"!==typeof window&&(window.__THREE__?Ag("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Nh);const CT={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"uniform sampler2D dfgLUT;\nstruct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 uv = vec2( roughness, dotNV );\n\treturn texture2D( dfgLUT, uv ).rg;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nvec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );\n\tvec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );\n\tvec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;\n\tvec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;\n\tfloat Ess_V = dfgV.x + dfgV.y;\n\tfloat Ess_L = dfgL.x + dfgL.y;\n\tfloat Ems_V = 1.0 - Ess_V;\n\tfloat Ems_L = 1.0 - Ess_L;\n\tvec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;\n\tvec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );\n\tfloat compensationFactor = Ems_V * Ems_L;\n\tvec3 multiScatter = Fms * compensationFactor;\n\treturn singleScatter + multiScatter;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\tfloat depth = unpackRGBAToDepth( texture2D( depths, uv ) );\n\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\treturn step( depth, compare );\n\t\t#else\n\t\t\treturn step( compare, depth );\n\t\t#endif\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow( sampler2D shadow, vec2 uv, float compare ) {\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\tfloat hard_shadow = step( distribution.x, compare );\n\t\t#else\n\t\t\tfloat hard_shadow = step( compare, distribution.x );\n\t\t#endif\n\t\tif ( hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\tfloat fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];\n\t#else\n\t\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;\n\t#endif\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},AT={common:{diffuse:{value:new Dy(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Yg},alphaMap:{value:null},alphaMapTransform:{value:new Yg},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Yg}},envmap:{envMap:{value:null},envMapRotation:{value:new Yg},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Yg}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Yg}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Yg},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Yg},normalScale:{value:new Hg(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Yg},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Yg}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Yg}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Yg}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Dy(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Dy(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Yg},alphaTest:{value:0},uvTransform:{value:new Yg}},sprite:{diffuse:{value:new Dy(16777215)},opacity:{value:1},center:{value:new Hg(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Yg},alphaMap:{value:null},alphaMapTransform:{value:new Yg},alphaTest:{value:0}}},RT={basic:{uniforms:Ab([AT.common,AT.specularmap,AT.envmap,AT.aomap,AT.lightmap,AT.fog]),vertexShader:CT.meshbasic_vert,fragmentShader:CT.meshbasic_frag},lambert:{uniforms:Ab([AT.common,AT.specularmap,AT.envmap,AT.aomap,AT.lightmap,AT.emissivemap,AT.bumpmap,AT.normalmap,AT.displacementmap,AT.fog,AT.lights,{emissive:{value:new Dy(0)}}]),vertexShader:CT.meshlambert_vert,fragmentShader:CT.meshlambert_frag},phong:{uniforms:Ab([AT.common,AT.specularmap,AT.envmap,AT.aomap,AT.lightmap,AT.emissivemap,AT.bumpmap,AT.normalmap,AT.displacementmap,AT.fog,AT.lights,{emissive:{value:new Dy(0)},specular:{value:new Dy(1118481)},shininess:{value:30}}]),vertexShader:CT.meshphong_vert,fragmentShader:CT.meshphong_frag},standard:{uniforms:Ab([AT.common,AT.envmap,AT.aomap,AT.lightmap,AT.emissivemap,AT.bumpmap,AT.normalmap,AT.displacementmap,AT.roughnessmap,AT.metalnessmap,AT.fog,AT.lights,{emissive:{value:new Dy(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:CT.meshphysical_vert,fragmentShader:CT.meshphysical_frag},toon:{uniforms:Ab([AT.common,AT.aomap,AT.lightmap,AT.emissivemap,AT.bumpmap,AT.normalmap,AT.displacementmap,AT.gradientmap,AT.fog,AT.lights,{emissive:{value:new Dy(0)}}]),vertexShader:CT.meshtoon_vert,fragmentShader:CT.meshtoon_frag},matcap:{uniforms:Ab([AT.common,AT.bumpmap,AT.normalmap,AT.displacementmap,AT.fog,{matcap:{value:null}}]),vertexShader:CT.meshmatcap_vert,fragmentShader:CT.meshmatcap_frag},points:{uniforms:Ab([AT.points,AT.fog]),vertexShader:CT.points_vert,fragmentShader:CT.points_frag},dashed:{uniforms:Ab([AT.common,AT.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:CT.linedashed_vert,fragmentShader:CT.linedashed_frag},depth:{uniforms:Ab([AT.common,AT.displacementmap]),vertexShader:CT.depth_vert,fragmentShader:CT.depth_frag},normal:{uniforms:Ab([AT.common,AT.bumpmap,AT.normalmap,AT.displacementmap,{opacity:{value:1}}]),vertexShader:CT.meshnormal_vert,fragmentShader:CT.meshnormal_frag},sprite:{uniforms:Ab([AT.sprite,AT.fog]),vertexShader:CT.sprite_vert,fragmentShader:CT.sprite_frag},background:{uniforms:{uvTransform:{value:new Yg},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:CT.background_vert,fragmentShader:CT.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Yg}},vertexShader:CT.backgroundCube_vert,fragmentShader:CT.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:CT.cube_vert,fragmentShader:CT.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:CT.equirect_vert,fragmentShader:CT.equirect_frag},distanceRGBA:{uniforms:Ab([AT.common,AT.displacementmap,{referencePosition:{value:new Gg},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:CT.distanceRGBA_vert,fragmentShader:CT.distanceRGBA_frag},shadow:{uniforms:Ab([AT.lights,AT.fog,{color:{value:new Dy(0)},opacity:{value:1}}]),vertexShader:CT.shadow_vert,fragmentShader:CT.shadow_frag}};RT.physical={uniforms:Ab([RT.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Yg},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Yg},clearcoatNormalScale:{value:new Hg(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Yg},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Yg},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Yg},sheen:{value:0},sheenColor:{value:new Dy(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Yg},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Yg},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Yg},transmissionSamplerSize:{value:new Hg},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Yg},attenuationDistance:{value:0},attenuationColor:{value:new Dy(0)},specularColor:{value:new Dy(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Yg},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Yg},anisotropyVector:{value:new Hg},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Yg}}]),vertexShader:CT.meshphysical_vert,fragmentShader:CT.meshphysical_frag};const PT={r:0,b:0,g:0},kT=new ey,NT=new Wv;function LT(e,t,n,r,i,a,o){const s=new Dy(0);let l,c,u=!0===a?0:1,d=null,h=0,f=null;function p(e){let r=!0===e.isScene?e.background:null;if(r&&r.isTexture){r=(e.backgroundBlurriness>0?n:t).get(r)}return r}function m(t,n){t.getRGB(PT,Rb(e)),r.buffers.color.setClear(PT.r,PT.g,PT.b,n,o)}return{getClearColor:function(){return s},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),u=t,m(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,m(s,u)},render:function(t){let n=!1;const i=p(t);null===i?m(s,u):i&&i.isColor&&(m(i,1),n=!0);const a=e.xr.getEnvironmentBlendMode();"additive"===a?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===a&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=p(n);r&&(r.isCubeTexture||r.mapping===Gf)?(void 0===c&&(c=new Mb(new Tb(1,1,1),new kb({name:"BackgroundCubeMaterial",uniforms:Cb(RT.backgroundCube.uniforms),vertexShader:RT.backgroundCube.vertexShader,fragmentShader:RT.backgroundCube.fragmentShader,side:Wh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),kT.copy(n.backgroundRotation),kT.x*=-1,kT.y*=-1,kT.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(kT.y*=-1,kT.z*=-1),c.material.uniforms.envMap.value=r,c.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(NT.makeRotationFromEuler(kT)),c.material.toneMapped=Qg.getTransfer(r.colorSpace)!==km,d===r&&h===r.version&&f===e.toneMapping||(c.material.needsUpdate=!0,d=r,h=r.version,f=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):r&&r.isTexture&&(void 0===l&&(l=new Mb(new oS(2,2),new kb({name:"BackgroundMaterial",uniforms:Cb(RT.background.uniforms),vertexShader:RT.background.vertexShader,fragmentShader:RT.background.fragmentShader,side:Hh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=Qg.getTransfer(r.colorSpace)!==km,!0===r.matrixAutoUpdate&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),d===r&&h===r.version&&f===e.toneMapping||(l.material.needsUpdate=!0,d=r,h=r.version,f=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))},dispose:function(){void 0!==c&&(c.geometry.dispose(),c.material.dispose(),c=void 0),void 0!==l&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}}}function IT(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=c(null);let a=i,o=!1;function s(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function c(e){const t=[],r=[],i=[];for(let a=0;a<n;a++)t[a]=0,r[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function u(){const e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function d(e){h(e,0)}function h(t,n){const r=a.newAttributes,i=a.enabledAttributes,o=a.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function f(){const t=a.newAttributes,n=a.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function m(){g(),o=!0,a!==i&&(a=i,s(a.object))}function g(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,m,g){let v=!1;const y=function(t,n,i){const a=!0===i.wireframe;let o=r[t.id];void 0===o&&(o={},r[t.id]=o);let s=o[n.id];void 0===s&&(s={},o[n.id]=s);let l=s[a];void 0===l&&(l=c(e.createVertexArray()),s[a]=l);return l}(m,l,i);a!==y&&(a=y,s(a.object)),v=function(e,t,n,r){const i=a.attributes,o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){const t=i[a];let n=o[a];if(void 0===n&&("instanceMatrix"===a&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;s++}}return a.attributesNum!==s||a.index!==r}(n,m,l,g),v&&function(e,t,n,r){const i={},o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){let t=o[a];void 0===t&&("instanceMatrix"===a&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[a]=n,s++}}a.attributes=i,a.attributesNum=s,a.index=r}(n,m,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(v||o)&&(o=!1,function(n,r,i,a){u();const o=a.attributes,s=i.getAttributes(),l=r.defaultAttributeValues;for(const c in s){const r=s[c];if(r.location>=0){let i=o[c];if(void 0===i&&("instanceMatrix"===c&&n.instanceMatrix&&(i=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(i=n.instanceColor)),void 0!==i){const o=i.normalized,s=i.itemSize,l=t.get(i);if(void 0===l)continue;const c=l.buffer,u=l.type,f=l.bytesPerElement,m=u===e.INT||u===e.UNSIGNED_INT||i.gpuType===cp;if(i.isInterleavedBufferAttribute){const t=i.data,l=t.stride,g=i.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)h(r.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)p(r.location+e,s/r.locationSize,u,o,l*f,(g+s/r.locationSize*e)*f,m)}else{if(i.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)h(r.location+e,i.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)p(r.location+e,s/r.locationSize,u,o,s*f,s/r.locationSize*e*f,m)}}else if(void 0!==l){const t=l[c];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(r.location,t);break;case 3:e.vertexAttrib3fv(r.location,t);break;case 4:e.vertexAttrib4fv(r.location,t);break;default:e.vertexAttrib1fv(r.location,t)}}}}f()}(n,i,l,m),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:m,resetDefaultState:g,dispose:function(){m();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const n in t){const e=t[n];for(const t in e)l(e[t].object),delete e[t];delete t[n]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)l(i[e].object),delete i[e];delete n[e.id]}},initAttributes:u,enableAttribute:d,disableUnusedAttributes:f}}function OT(e,t,n){let r;function i(t,i,a){0!==a&&(e.drawArraysInstanced(r,t,i,a),n.update(i,r,a))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,e,0,i,0,a);let o=0;for(let t=0;t<a;t++)o+=i[t];n.update(o,r,1)},this.renderMultiDrawInstances=function(e,a,o,s){if(0===o)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)i(e[t],a[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,a,0,s,0,o);let t=0;for(let e=0;e<o;e++)t+=a[e]*s[e];n.update(t,r,1)}}}function DT(e,t,n,r){let i;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let o=void 0!==n.precision?n.precision:"highp";const s=a(o);s!==o&&(Ag("WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);const l=!0===n.logarithmicDepthBuffer,c=!0===n.reversedDepthBuffer&&t.has("EXT_clip_control"),u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:a,textureFormatReadable:function(t){return t===xp||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===hp&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==ap&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==dp&&!i)},precision:o,logarithmicDepthBuffer:l,reversedDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:d>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function FT(e){const t=this;let n=null,r=0,i=!1,a=!1;const o=new Vx,s=new Yg,l={value:null,needsUpdate:!1};function c(e,n,r,i){const a=null!==e?e.length:0;let c=null;if(0!==a){if(c=l.value,!0!==i||null===c){const t=r+4*a,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=r;n!==a;++n,l+=4)o.copy(e[n]).applyMatrix4(i,s),o.normal.toArray(c,l),c[l+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(o,s,u){const d=o.clippingPlanes,h=o.clipIntersection,f=o.clipShadows,p=e.get(o);if(!i||null===d||0===d.length||a&&!f)a?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=a?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=c(d,s,t,u);for(let r=0;r!==t;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function UT(e){let t=new WeakMap;function n(e,t){return t===Hf?e.mapping=jf:t===Wf&&(e.mapping=Vf),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping;if(a===Hf||a===Wf){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const a=i.image;if(a&&a.height>0){const o=new Bb(a.height);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",r),n(o.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}const zT=[.125,.215,.35,.446,.526,.582],BT=20,jT=new wM,VT=new Dy;let HT=null,WT=0,GT=0,XT=!1;const qT=new Gg;class YT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{size:a=256,position:o=qT}=i;HT=this._renderer.getRenderTarget(),WT=this._renderer.getActiveCubeFace(),GT=this._renderer.getActiveMipmapLevel(),XT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s,o),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=$T(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=JT(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose(),null!==this._backgroundBox&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._ggxMaterial&&this._ggxMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(HT,WT,GT),this._renderer.xr.enabled=XT,e.scissorTest=!1,KT(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===jf||e.mapping===Vf?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),HT=this._renderer.getRenderTarget(),WT=this._renderer.getActiveCubeFace(),GT=this._renderer.getActiveMipmapLevel(),XT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ep,minFilter:ep,generateMipmaps:!1,type:hp,format:xp,colorSpace:Rm,depthBuffer:!1},r=ZT(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=ZT(e,t,n);const{_lodMax:r}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const a=e-4+1+zT.length;for(let o=0;o<a;o++){const a=Math.pow(2,i);t.push(a);let s=1/a;o>e-4?s=zT[o-e+4-1]:0===o&&(s=0),n.push(s);const l=1/(a-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,f=6,p=3,m=2,g=1,v=new Float32Array(p*f*h),y=new Float32Array(m*f*h),b=new Float32Array(g*f*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*f*e),y.set(d,m*f*e);const i=[e,e,e,e,e,e];b.set(i,g*f*e)}const x=new hb;x.setAttribute("position",new Zy(v,p)),x.setAttribute("uv",new Zy(y,m)),x.setAttribute("faceIndex",new Zy(b,g)),r.push(new Mb(x,null)),i>4&&i--}return{lodMeshes:r,sizeLods:t,sigmas:n}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(BT),i=new Gg(0,1,0),a=new kb({name:"SphericalGaussianBlur",defines:{n:BT,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Xh,depthTest:!1,depthWrite:!1});return a}(r,e,t),this._ggxMaterial=function(e,t,n){const r=new kb({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:256,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:'\n\n\t\t\tprecision highp float;\n\t\t\tprecision highp int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform float roughness;\n\t\t\tuniform float mipInt;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\t#define PI 3.14159265359\n\n\t\t\t// Van der Corput radical inverse\n\t\t\tfloat radicalInverse_VdC(uint bits) {\n\t\t\t\tbits = (bits << 16u) | (bits >> 16u);\n\t\t\t\tbits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\n\t\t\t\tbits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\n\t\t\t\tbits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\n\t\t\t\tbits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\n\t\t\t\treturn float(bits) * 2.3283064365386963e-10; // / 0x100000000\n\t\t\t}\n\n\t\t\t// Hammersley sequence\n\t\t\tvec2 hammersley(uint i, uint N) {\n\t\t\t\treturn vec2(float(i) / float(N), radicalInverse_VdC(i));\n\t\t\t}\n\n\t\t\t// GGX VNDF importance sampling (Eric Heitz 2018)\n\t\t\t// "Sampling the GGX Distribution of Visible Normals"\n\t\t\t// https://jcgt.org/published/0007/04/01/\n\t\t\tvec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {\n\t\t\t\tfloat alpha = roughness * roughness;\n\n\t\t\t\t// Section 3.2: Transform view direction to hemisphere configuration\n\t\t\t\tvec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));\n\n\t\t\t\t// Section 4.1: Orthonormal basis\n\t\t\t\tfloat lensq = Vh.x * Vh.x + Vh.y * Vh.y;\n\t\t\t\tvec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);\n\t\t\t\tvec3 T2 = cross(Vh, T1);\n\n\t\t\t\t// Section 4.2: Parameterization of projected area\n\t\t\t\tfloat r = sqrt(Xi.x);\n\t\t\t\tfloat phi = 2.0 * PI * Xi.y;\n\t\t\t\tfloat t1 = r * cos(phi);\n\t\t\t\tfloat t2 = r * sin(phi);\n\t\t\t\tfloat s = 0.5 * (1.0 + Vh.z);\n\t\t\t\tt2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;\n\n\t\t\t\t// Section 4.3: Reprojection onto hemisphere\n\t\t\t\tvec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;\n\n\t\t\t\t// Section 3.4: Transform back to ellipsoid configuration\n\t\t\t\treturn normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));\n\t\t\t}\n\n\t\t\tvoid main() {\n\t\t\t\tvec3 N = normalize(vOutputDirection);\n\t\t\t\tvec3 V = N; // Assume view direction equals normal for pre-filtering\n\n\t\t\t\tvec3 prefilteredColor = vec3(0.0);\n\t\t\t\tfloat totalWeight = 0.0;\n\n\t\t\t\t// For very low roughness, just sample the environment directly\n\t\t\t\tif (roughness < 0.001) {\n\t\t\t\t\tgl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Tangent space basis for VNDF sampling\n\t\t\t\tvec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\n\t\t\t\tvec3 tangent = normalize(cross(up, N));\n\t\t\t\tvec3 bitangent = cross(N, tangent);\n\n\t\t\t\tfor(uint i = 0u; i < uint(GGX_SAMPLES); i++) {\n\t\t\t\t\tvec2 Xi = hammersley(i, uint(GGX_SAMPLES));\n\n\t\t\t\t\t// For PMREM, V = N, so in tangent space V is always (0, 0, 1)\n\t\t\t\t\tvec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);\n\n\t\t\t\t\t// Transform H back to world space\n\t\t\t\t\tvec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);\n\t\t\t\t\tvec3 L = normalize(2.0 * dot(V, H) * H - V);\n\n\t\t\t\t\tfloat NdotL = max(dot(N, L), 0.0);\n\n\t\t\t\t\tif(NdotL > 0.0) {\n\t\t\t\t\t\t// Sample environment at fixed mip level\n\t\t\t\t\t\t// VNDF importance sampling handles the distribution filtering\n\t\t\t\t\t\tvec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);\n\n\t\t\t\t\t\t// Weight by NdotL for the split-sum approximation\n\t\t\t\t\t\t// VNDF PDF naturally accounts for the visible microfacet distribution\n\t\t\t\t\t\tprefilteredColor += sampleColor * NdotL;\n\t\t\t\t\t\ttotalWeight += NdotL;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (totalWeight > 0.0) {\n\t\t\t\t\tprefilteredColor = prefilteredColor / totalWeight;\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = vec4(prefilteredColor, 1.0);\n\t\t\t}\n\t\t',blending:Xh,depthTest:!1,depthWrite:!1});return r}(r,e,t)}return r}_compileMaterial(e){const t=new Mb(new hb,e);this._renderer.compile(t,jT)}_sceneToCubeUV(e,t,n,r,i){const a=new Db(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(VT),l.toneMapping=Pf,l.autoClear=!1;l.state.buffers.depth.getReversed()&&(l.setRenderTarget(r),l.clearDepth(),l.setRenderTarget(null)),null===this._backgroundBox&&(this._backgroundBox=new Mb(new Tb,new By({name:"PMREM.Background",side:Wh,depthWrite:!1,depthTest:!1})));const d=this._backgroundBox,h=d.material;let f=!1;const p=e.background;p?p.isColor&&(h.color.copy(p),e.background=null,f=!0):(h.color.copy(VT),f=!0);for(let m=0;m<6;m++){const t=m%3;0===t?(a.up.set(0,o[m],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x+s[m],i.y,i.z)):1===t?(a.up.set(0,0,o[m]),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y+s[m],i.z)):(a.up.set(0,o[m],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y,i.z+s[m]));const n=this._cubeSize;KT(r,t*n,m>2?n:0,n,n),l.setRenderTarget(r),f&&l.render(d,a),l.render(e,a)}l.toneMapping=u,l.autoClear=c,e.background=p}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===jf||e.mapping===Vf;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=$T()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=JT());const i=r?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=i;i.uniforms.envMap.value=e;const o=this._cubeSize;KT(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,jT)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodMeshes.length;for(let i=1;i<r;i++)this._applyGGXFilter(e,i-1,i);t.autoClear=n}_applyGGXFilter(e,t,n){const r=this._renderer,i=this._pingPongRenderTarget,a=this._ggxMaterial,o=this._lodMeshes[n];o.material=a;const s=a.uniforms,l=n/(this._lodMeshes.length-1),c=t/(this._lodMeshes.length-1),u=Math.sqrt(l*l-c*c)*(.05+.95*l),{_lodMax:d}=this,h=this._sizeLods[n],f=3*h*(n>d-4?n-d+4:0),p=4*(this._cubeSize-h);s.envMap.value=e.texture,s.roughness.value=u,s.mipInt.value=d-t,KT(i,f,p,3*h,2*h),r.setRenderTarget(i),r.render(o,jT),s.envMap.value=i.texture,s.roughness.value=0,s.mipInt.value=d-n,KT(e,f,p,3*h,2*h),r.setRenderTarget(e),r.render(o,jT)}_blur(e,t,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,o){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&Rg("blur direction must be either latitudinal or longitudinal!");const c=this._lodMeshes[r];c.material=l;const u=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,f=i/h,p=isFinite(i)?1+Math.floor(3*f):BT;p>BT&&Ag("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(BT));const m=[];let g=0;for(let b=0;b<BT;++b){const e=b/f,t=Math.exp(-e*e/2);m.push(t),0===b?g+=t:b<p&&(g+=2*t)}for(let b=0;b<m.length;b++)m[b]=m[b]/g;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===a,o&&(u.poleAxis.value=o);const{_lodMax:v}=this;u.dTheta.value=h,u.mipInt.value=v-n;const y=this._sizeLods[r];KT(t,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(c,jT)}}function ZT(e,t,n){const r=new hv(e,t,n);return r.texture.mapping=Gf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function KT(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function JT(){return new kb({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Xh,depthTest:!1,depthWrite:!1})}function $T(){return new kb({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Xh,depthTest:!1,depthWrite:!1})}function QT(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping,o=a===Hf||a===Wf,s=a===jf||a===Vf;if(o||s){let a=t.get(i);const l=void 0!==a?a.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new YT(e)),a=o?n.fromEquirectangular(i,a):n.fromCubemap(i,a),a.texture.pmremVersion=i.pmremVersion,t.set(i,a),a.texture;if(void 0!==a)return a.texture;{const l=i.image;return o&&l&&l.height>0||s&&l&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)?(null===n&&(n=new YT(e)),a=o?n.fromEquirectangular(i):n.fromCubemap(i),a.texture.pmremVersion=i.pmremVersion,t.set(i,a),i.addEventListener("dispose",r),a.texture):null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function eC(e){const t={};function n(n){if(void 0!==t[n])return t[n];const r=e.getExtension(n);return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&Pg("WebGLRenderer: "+e+" extension not supported."),t}}}function tC(e,t,n,r){const i={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);s.removeEventListener("dispose",o),delete i[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let o=0;if(null!==r){const e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{if(void 0===i)return;{const e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const s=new(yg(n)?nb:eb)(n,1);s.version=o;const l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const i in r)t.update(r[i],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function nC(e,t,n){let r,i,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(r,o,i,t*a,s),n.update(o,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(r,o,i,t*a),n.update(o,r,1)},this.renderInstances=o,this.renderMultiDraw=function(e,a,o){if(0===o)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,a,0,i,e,0,o);let s=0;for(let t=0;t<o;t++)s+=a[t];n.update(s,r,1)},this.renderMultiDrawInstances=function(e,s,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)o(e[t]/a,s[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(r,s,0,i,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e]*c[e];n.update(t,r,1)}}}function rC(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:Rg("WebGLInfo: Unknown draw mode:",r)}}}}function iC(e,t,n){const r=new WeakMap,i=new uv;return{update:function(a,o,s){const l=a.morphTargetInfluences,c=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,u=void 0!==c?c.length:0;let d=r.get(o);if(void 0===d||d.count!==u){void 0!==d&&d.texture.dispose();const h=void 0!==o.morphAttributes.position,f=void 0!==o.morphAttributes.normal,p=void 0!==o.morphAttributes.color,m=o.morphAttributes.position||[],g=o.morphAttributes.normal||[],v=o.morphAttributes.color||[];let y=0;!0===h&&(y=1),!0===f&&(y=2),!0===p&&(y=3);let b=o.attributes.position.count*y,x=1;b>t.maxTextureSize&&(x=Math.ceil(b/t.maxTextureSize),b=t.maxTextureSize);const _=new Float32Array(b*x*4*u),w=new fv(_,b,x,u);w.type=dp,w.needsUpdate=!0;const S=4*y;for(let E=0;E<u;E++){const T=m[E],C=g[E],A=v[E],R=b*x*4*E;for(let P=0;P<T.count;P++){const k=P*S;!0===h&&(i.fromBufferAttribute(T,P),_[R+k+0]=i.x,_[R+k+1]=i.y,_[R+k+2]=i.z,_[R+k+3]=0),!0===f&&(i.fromBufferAttribute(C,P),_[R+k+4]=i.x,_[R+k+5]=i.y,_[R+k+6]=i.z,_[R+k+7]=0),!0===p&&(i.fromBufferAttribute(A,P),_[R+k+8]=i.x,_[R+k+9]=i.y,_[R+k+10]=i.z,_[R+k+11]=4===A.itemSize?i.w:1)}}function M(){w.dispose(),r.delete(o),o.removeEventListener("dispose",M)}d={count:u,texture:w,size:new Hg(b,x)},r.set(o,d),o.addEventListener("dispose",M)}if(!0===a.isInstancedMesh&&null!==a.morphTexture)s.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{let N=0;for(let I=0;I<l.length;I++)N+=l[I];const L=o.morphTargetsRelative?1:1-N;s.getUniforms().setValue(e,"morphTargetBaseInfluence",L),s.getUniforms().setValue(e,"morphTargetInfluences",l)}s.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function aC(e,t,n,r){let i=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){const s=r.render.frame,l=o.geometry,c=t.get(o,l);if(i.get(c)!==s&&(t.update(c),i.set(c,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){const e=o.skeleton;i.get(e)!==s&&(e.update(),i.set(e,s))}return c},dispose:function(){i=new WeakMap}}}const oC=new cv,sC=new H_(1,1),lC=new fv,cC=new mv,uC=new zb,dC=[],hC=[],fC=new Float32Array(16),pC=new Float32Array(9),mC=new Float32Array(4);function gC(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=dC[i];if(void 0===a&&(a=new Float32Array(i),dC[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function vC(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function yC(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function bC(e,t){let n=hC[t];void 0===n&&(n=new Int32Array(t),hC[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function xC(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function _C(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(vC(n,t))return;e.uniform2fv(this.addr,t),yC(n,t)}}function wC(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(vC(n,t))return;e.uniform3fv(this.addr,t),yC(n,t)}}function SC(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(vC(n,t))return;e.uniform4fv(this.addr,t),yC(n,t)}}function MC(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(vC(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),yC(n,t)}else{if(vC(n,r))return;mC.set(r),e.uniformMatrix2fv(this.addr,!1,mC),yC(n,r)}}function EC(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(vC(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),yC(n,t)}else{if(vC(n,r))return;pC.set(r),e.uniformMatrix3fv(this.addr,!1,pC),yC(n,r)}}function TC(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(vC(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),yC(n,t)}else{if(vC(n,r))return;fC.set(r),e.uniformMatrix4fv(this.addr,!1,fC),yC(n,r)}}function CC(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function AC(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(vC(n,t))return;e.uniform2iv(this.addr,t),yC(n,t)}}function RC(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(vC(n,t))return;e.uniform3iv(this.addr,t),yC(n,t)}}function PC(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(vC(n,t))return;e.uniform4iv(this.addr,t),yC(n,t)}}function kC(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function NC(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(vC(n,t))return;e.uniform2uiv(this.addr,t),yC(n,t)}}function LC(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(vC(n,t))return;e.uniform3uiv(this.addr,t),yC(n,t)}}function IC(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(vC(n,t))return;e.uniform4uiv(this.addr,t),yC(n,t)}}function OC(e,t,n){const r=this.cache,i=n.allocateTextureUnit();let a;r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),this.type===e.SAMPLER_2D_SHADOW?(sC.compareFunction=Jm,a=sC):a=oC,n.setTexture2D(t||a,i)}function DC(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||cC,i)}function FC(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||uC,i)}function UC(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||lC,i)}function zC(e,t){e.uniform1fv(this.addr,t)}function BC(e,t){const n=gC(t,this.size,2);e.uniform2fv(this.addr,n)}function jC(e,t){const n=gC(t,this.size,3);e.uniform3fv(this.addr,n)}function VC(e,t){const n=gC(t,this.size,4);e.uniform4fv(this.addr,n)}function HC(e,t){const n=gC(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function WC(e,t){const n=gC(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function GC(e,t){const n=gC(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function XC(e,t){e.uniform1iv(this.addr,t)}function qC(e,t){e.uniform2iv(this.addr,t)}function YC(e,t){e.uniform3iv(this.addr,t)}function ZC(e,t){e.uniform4iv(this.addr,t)}function KC(e,t){e.uniform1uiv(this.addr,t)}function JC(e,t){e.uniform2uiv(this.addr,t)}function $C(e,t){e.uniform3uiv(this.addr,t)}function QC(e,t){e.uniform4uiv(this.addr,t)}function eA(e,t,n){const r=this.cache,i=t.length,a=bC(n,i);vC(r,a)||(e.uniform1iv(this.addr,a),yC(r,a));for(let o=0;o!==i;++o)n.setTexture2D(t[o]||oC,a[o])}function tA(e,t,n){const r=this.cache,i=t.length,a=bC(n,i);vC(r,a)||(e.uniform1iv(this.addr,a),yC(r,a));for(let o=0;o!==i;++o)n.setTexture3D(t[o]||cC,a[o])}function nA(e,t,n){const r=this.cache,i=t.length,a=bC(n,i);vC(r,a)||(e.uniform1iv(this.addr,a),yC(r,a));for(let o=0;o!==i;++o)n.setTextureCube(t[o]||uC,a[o])}function rA(e,t,n){const r=this.cache,i=t.length,a=bC(n,i);vC(r,a)||(e.uniform1iv(this.addr,a),yC(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(t[o]||lC,a[o])}class iA{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return xC;case 35664:return _C;case 35665:return wC;case 35666:return SC;case 35674:return MC;case 35675:return EC;case 35676:return TC;case 5124:case 35670:return CC;case 35667:case 35671:return AC;case 35668:case 35672:return RC;case 35669:case 35673:return PC;case 5125:return kC;case 36294:return NC;case 36295:return LC;case 36296:return IC;case 35678:case 36198:case 36298:case 36306:case 35682:return OC;case 35679:case 36299:case 36307:return DC;case 35680:case 36300:case 36308:case 36293:return FC;case 36289:case 36303:case 36311:case 36292:return UC}}(t.type)}}class aA{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return zC;case 35664:return BC;case 35665:return jC;case 35666:return VC;case 35674:return HC;case 35675:return WC;case 35676:return GC;case 5124:case 35670:return XC;case 35667:case 35671:return qC;case 35668:case 35672:return YC;case 35669:case 35673:return ZC;case 5125:return KC;case 36294:return JC;case 36295:return $C;case 36296:return QC;case 35678:case 36198:case 36298:case 36306:case 35682:return eA;case 35679:case 36299:case 36307:return tA;case 35680:case 36300:case 36308:case 36293:return nA;case 36289:case 36303:case 36311:case 36292:return rA}}(t.type)}}class oA{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(e,t[a.id],n)}}}const sA=/(\w+)(\])?(\[|\.)?/g;function lA(e,t){e.seq.push(t),e.map[t.id]=t}function cA(e,t,n){const r=e.name,i=r.length;for(sA.lastIndex=0;;){const a=sA.exec(r),o=sA.lastIndex;let s=a[1];const l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===i){lA(n,void 0===c?new iA(s,e,t):new aA(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new oA(s),lA(n,e)),n=e}}}class uA{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);cA(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){const a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function dA(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let hA=0;const fA=new Yg;function pA(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=(e.getShaderInfoLog(t)||"").trim();if(r&&""===i)return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let o=i;o<a;o++){const e=o+1;r.push("".concat(e===t?">":" "," ").concat(e,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),r)}return i}function mA(e,t){const n=function(e){Qg._getMatrix(fA,Qg.workingColorSpace,e);const t="mat3( ".concat(fA.elements.map(e=>e.toFixed(4))," )");switch(Qg.getTransfer(e)){case Pm:return[t,"LinearTransferOETF"];case km:return[t,"sRGBTransferOETF"];default:return Ag("WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(t);return["vec4 ".concat(e,"( vec4 value ) {"),"\treturn ".concat(n[1],"( vec4( value.rgb * ").concat(n[0],", value.a ) );"),"}"].join("\n")}function gA(e,t){let n;switch(t){case kf:n="Linear";break;case Nf:n="Reinhard";break;case Lf:n="Cineon";break;case If:n="ACESFilmic";break;case Df:n="AgX";break;case Ff:n="Neutral";break;case Of:n="Custom";break;default:Ag("WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const vA=new Gg;function yA(){Qg.getLuminanceCoefficients(vA);const e=vA.x.toFixed(4),t=vA.y.toFixed(4),n=vA.z.toFixed(4);return["float luminance( const in vec3 rgb ) {","\tconst vec3 weights = vec3( ".concat(e,", ").concat(t,", ").concat(n," );"),"\treturn dot( weights, rgb );","}"].join("\n")}function bA(e){return""!==e}function xA(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function _A(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const wA=/^[ \t]*#include +<([\w\d./]+)>/gm;function SA(e){return e.replace(wA,EA)}const MA=new Map;function EA(e,t){let n=CT[t];if(void 0===n){const e=MA.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=CT[e],Ag('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return SA(n)}const TA=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function CA(e){return e.replace(TA,AA)}function AA(e,t,n,r){let i="";for(let a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function RA(e){let t="precision ".concat(e.precision," float;\n\tprecision ").concat(e.precision," int;\n\tprecision ").concat(e.precision," sampler2D;\n\tprecision ").concat(e.precision," samplerCube;\n\tprecision ").concat(e.precision," sampler3D;\n\tprecision ").concat(e.precision," sampler2DArray;\n\tprecision ").concat(e.precision," sampler2DShadow;\n\tprecision ").concat(e.precision," samplerCubeShadow;\n\tprecision ").concat(e.precision," sampler2DArrayShadow;\n\tprecision ").concat(e.precision," isampler2D;\n\tprecision ").concat(e.precision," isampler3D;\n\tprecision ").concat(e.precision," isamplerCube;\n\tprecision ").concat(e.precision," isampler2DArray;\n\tprecision ").concat(e.precision," usampler2D;\n\tprecision ").concat(e.precision," usampler3D;\n\tprecision ").concat(e.precision," usamplerCube;\n\tprecision ").concat(e.precision," usampler2DArray;\n\t");return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function PA(e,t,n,r){const i=e.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Bh?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===jh?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Vh&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case jf:case Vf:t="ENVMAP_TYPE_CUBE";break;case Gf:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Vf&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Cf:t="ENVMAP_BLENDING_MULTIPLY";break;case Af:t="ENVMAP_BLENDING_MIX";break;case Rf:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),f=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(bA).join("\n")}(n),p=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(a),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(bA).join("\n"),g.length>0&&(g+="\n"),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(bA).join("\n"),v.length>0&&(v+="\n")):(g=[RA(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(bA).join("\n"),v=[RA(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Pf?"#define TONE_MAPPING":"",n.toneMapping!==Pf?CT.tonemapping_pars_fragment:"",n.toneMapping!==Pf?gA("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",CT.colorspace_pars_fragment,mA("linearToOutputTexel",n.outputColorSpace),yA(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(bA).join("\n")),o=SA(o),o=xA(o,n),o=_A(o,n),s=SA(s),s=xA(s,n),s=_A(s,n),o=CA(o),s=CA(s),!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=[f,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===hg?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===hg?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const b=y+g+o,x=y+v+s,_=dA(i,i.VERTEX_SHADER,b),w=dA(i,i.FRAGMENT_SHADER,x);function S(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(m)||"",r=i.getShaderInfoLog(_)||"",a=i.getShaderInfoLog(w)||"",o=n.trim(),s=r.trim(),l=a.trim();let c=!0,u=!0;if(!1===i.getProgramParameter(m,i.LINK_STATUS))if(c=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(i,m,_,w);else{const e=pA(i,_,"vertex"),n=pA(i,w,"fragment");Rg("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+o+"\n"+e+"\n"+n)}else""!==o?Ag("WebGLProgram: Program Info Log:",o):""!==s&&""!==l||(u=!1);u&&(t.diagnostics={runnable:c,programLog:o,vertexShader:{log:s,prefix:g},fragmentShader:{log:l,prefix:v}})}i.deleteShader(_),i.deleteShader(w),M=new uA(i,m),E=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),a=r.name;let o=1;r.type===e.FLOAT_MAT2&&(o=2),r.type===e.FLOAT_MAT3&&(o=3),r.type===e.FLOAT_MAT4&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(i,m)}let M,E;i.attachShader(m,_),i.attachShader(m,w),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),this.getUniforms=function(){return void 0===M&&S(this),M},this.getAttributes=function(){return void 0===E&&S(this),E};let T=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=i.getProgramParameter(m,37297)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=hA++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=_,this.fragmentShader=w,this}let kA=0;class NA{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new LA(e),t.set(e,n)),n}}class LA{constructor(e){this.id=kA++,this.code=e,this.usedTimes=0}}function IA(e,t,n,r,i,a,o){const s=new ty,l=new NA,c=new Set,u=[],d=i.logarithmicDepthBuffer,h=i.vertexTextures;let f=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return c.add(e),0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,u,g,v){const y=g.fog,b=v.geometry,x=a.isMeshStandardMaterial?g.environment:null,_=(a.isMeshStandardMaterial?n:t).get(a.envMap||x),w=_&&_.mapping===Gf?_.image.height:null,S=p[a.type];null!==a.precision&&(f=i.getMaxPrecision(a.precision),f!==a.precision&&Ag("WebGLProgram.getParameters:",a.precision,"not supported, using",f,"instead."));const M=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,E=void 0!==M?M.length:0;let T,C,A,R,P=0;if(void 0!==b.morphAttributes.position&&(P=1),void 0!==b.morphAttributes.normal&&(P=2),void 0!==b.morphAttributes.color&&(P=3),S){const e=RT[S];T=e.vertexShader,C=e.fragmentShader}else T=a.vertexShader,C=a.fragmentShader,l.update(a),A=l.getVertexShaderID(a),R=l.getFragmentShaderID(a);const k=e.getRenderTarget(),N=e.state.buffers.depth.getReversed(),L=!0===v.isInstancedMesh,I=!0===v.isBatchedMesh,O=!!a.map,D=!!a.matcap,F=!!_,U=!!a.aoMap,z=!!a.lightMap,B=!!a.bumpMap,j=!!a.normalMap,V=!!a.displacementMap,H=!!a.emissiveMap,W=!!a.metalnessMap,G=!!a.roughnessMap,X=a.anisotropy>0,q=a.clearcoat>0,Y=a.dispersion>0,Z=a.iridescence>0,K=a.sheen>0,J=a.transmission>0,$=X&&!!a.anisotropyMap,Q=q&&!!a.clearcoatMap,ee=q&&!!a.clearcoatNormalMap,te=q&&!!a.clearcoatRoughnessMap,ne=Z&&!!a.iridescenceMap,re=Z&&!!a.iridescenceThicknessMap,ie=K&&!!a.sheenColorMap,ae=K&&!!a.sheenRoughnessMap,oe=!!a.specularMap,se=!!a.specularColorMap,le=!!a.specularIntensityMap,ce=J&&!!a.transmissionMap,ue=J&&!!a.thicknessMap,de=!!a.gradientMap,he=!!a.alphaMap,fe=a.alphaTest>0,pe=!!a.alphaHash,me=!!a.extensions;let ge=Pf;a.toneMapped&&(null!==k&&!0!==k.isXRRenderTarget||(ge=e.toneMapping));const ve={shaderID:S,shaderType:a.type,shaderName:a.name,vertexShader:T,fragmentShader:C,defines:a.defines,customVertexShaderID:A,customFragmentShaderID:R,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,batching:I,batchingColor:I&&null!==v._colorsTexture,instancing:L,instancingColor:L&&null!==v.instanceColor,instancingMorph:L&&null!==v.morphTexture,supportsVertexTextures:h,outputColorSpace:null===k?e.outputColorSpace:!0===k.isXRRenderTarget?k.texture.colorSpace:Rm,alphaToCoverage:!!a.alphaToCoverage,map:O,matcap:D,envMap:F,envMapMode:F&&_.mapping,envMapCubeUVHeight:w,aoMap:U,lightMap:z,bumpMap:B,normalMap:j,displacementMap:h&&V,emissiveMap:H,normalMapObjectSpace:j&&a.normalMapType===Tm,normalMapTangentSpace:j&&a.normalMapType===Em,metalnessMap:W,roughnessMap:G,anisotropy:X,anisotropyMap:$,clearcoat:q,clearcoatMap:Q,clearcoatNormalMap:ee,clearcoatRoughnessMap:te,dispersion:Y,iridescence:Z,iridescenceMap:ne,iridescenceThicknessMap:re,sheen:K,sheenColorMap:ie,sheenRoughnessMap:ae,specularMap:oe,specularColorMap:se,specularIntensityMap:le,transmission:J,transmissionMap:ce,thicknessMap:ue,gradientMap:de,opaque:!1===a.transparent&&a.blending===qh&&!1===a.alphaToCoverage,alphaMap:he,alphaTest:fe,alphaHash:pe,combine:a.combine,mapUv:O&&m(a.map.channel),aoMapUv:U&&m(a.aoMap.channel),lightMapUv:z&&m(a.lightMap.channel),bumpMapUv:B&&m(a.bumpMap.channel),normalMapUv:j&&m(a.normalMap.channel),displacementMapUv:V&&m(a.displacementMap.channel),emissiveMapUv:H&&m(a.emissiveMap.channel),metalnessMapUv:W&&m(a.metalnessMap.channel),roughnessMapUv:G&&m(a.roughnessMap.channel),anisotropyMapUv:$&&m(a.anisotropyMap.channel),clearcoatMapUv:Q&&m(a.clearcoatMap.channel),clearcoatNormalMapUv:ee&&m(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:te&&m(a.clearcoatRoughnessMap.channel),iridescenceMapUv:ne&&m(a.iridescenceMap.channel),iridescenceThicknessMapUv:re&&m(a.iridescenceThicknessMap.channel),sheenColorMapUv:ie&&m(a.sheenColorMap.channel),sheenRoughnessMapUv:ae&&m(a.sheenRoughnessMap.channel),specularMapUv:oe&&m(a.specularMap.channel),specularColorMapUv:se&&m(a.specularColorMap.channel),specularIntensityMapUv:le&&m(a.specularIntensityMap.channel),transmissionMapUv:ce&&m(a.transmissionMap.channel),thicknessMapUv:ue&&m(a.thicknessMap.channel),alphaMapUv:he&&m(a.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(j||X),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,pointsUvs:!0===v.isPoints&&!!b.attributes.uv&&(O||he),fog:!!y,useFog:!0===a.fog,fogExp2:!!y&&y.isFogExp2,flatShading:!0===a.flatShading&&!1===a.wireframe,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:d,reversedDepthBuffer:N,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:E,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:ge,decodeVideoTexture:O&&!0===a.map.isVideoTexture&&Qg.getTransfer(a.map.colorSpace)===km,decodeVideoTextureEmissive:H&&!0===a.emissiveMap.isVideoTexture&&Qg.getTransfer(a.emissiveMap.colorSpace)===km,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===Gh,flipSided:a.side===Wh,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:me&&!0===a.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(me&&!0===a.extensions.multiDraw||I)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return ve.vertexUv1s=c.has(1),ve.vertexUv2s=c.has(2),ve.vertexUv3s=c.has(3),c.clear(),ve},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.supportsVertexTextures&&s.enable(0);t.instancing&&s.enable(1);t.instancingColor&&s.enable(2);t.instancingMorph&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);t.alphaHash&&s.enable(18);t.batching&&s.enable(19);t.dispersion&&s.enable(20);t.batchingColor&&s.enable(21);t.gradientMap&&s.enable(22);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.reversedDepthBuffer&&s.enable(4);t.skinning&&s.enable(5);t.morphTargets&&s.enable(6);t.morphNormals&&s.enable(7);t.morphColors&&s.enable(8);t.premultipliedAlpha&&s.enable(9);t.shadowMapEnabled&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);t.decodeVideoTextureEmissive&&s.enable(20);t.alphaToCoverage&&s.enable(21);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=RT[t];n=Pb.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=u.length;e<i;e++){const t=u[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new PA(e,n,t,a),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function OA(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function DA(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function FA(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function UA(){const e=[];let t=0;const n=[],r=[],i=[];function a(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.push(u):!0===o.transparent?i.push(u):n.push(u)},unshift:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.unshift(u):!0===o.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||DA),r.length>1&&r.sort(t||FA),i.length>1&&i.sort(t||FA)}}}function zA(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new UA,e.set(t,[i])):n>=r.length?(i=new UA,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function BA(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Gg,color:new Dy};break;case"SpotLight":n={position:new Gg,direction:new Gg,color:new Dy,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Gg,color:new Dy,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Gg,skyColor:new Dy,groundColor:new Dy};break;case"RectAreaLight":n={color:new Dy,position:new Gg,halfWidth:new Gg,halfHeight:new Gg}}return e[t.id]=n,n}}}let jA=0;function VA(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function HA(e){const t=new BA,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Hg};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Hg,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let s=0;s<9;s++)r.probe.push(new Gg);const i=new Gg,a=new Wv,o=new Wv;return{setup:function(i){let a=0,o=0,s=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,c=0,u=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,y=0;i.sort(VA);for(let e=0,x=i.length;e<x;e++){const b=i[e],x=b.color,_=b.intensity,w=b.distance,S=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)a+=x.r*_,o+=x.g*_,s+=x.b*_;else if(b.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(b.sh.coefficients[e],_);y++}else if(b.isDirectionalLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){const e=b.shadow,t=n.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=S,r.directionalShadowMatrix[l]=b.shadow.matrix,f++}r.directional[l]=e,l++}else if(b.isSpotLight){const e=t.get(b);e.position.setFromMatrixPosition(b.matrixWorld),e.color.copy(x).multiplyScalar(_),e.distance=w,e.coneCos=Math.cos(b.angle),e.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),e.decay=b.decay,r.spot[u]=e;const i=b.shadow;if(b.map&&(r.spotLightMap[g]=b.map,g++,i.updateMatrices(b),b.castShadow&&v++),r.spotLightMatrix[u]=i.matrix,b.castShadow){const e=n.get(b);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[u]=e,r.spotShadowMap[u]=S,m++}u++}else if(b.isRectAreaLight){const e=t.get(b);e.color.copy(x).multiplyScalar(_),e.halfWidth.set(.5*b.width,0,0),e.halfHeight.set(0,.5*b.height,0),r.rectArea[d]=e,d++}else if(b.isPointLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),e.distance=b.distance,e.decay=b.decay,b.castShadow){const e=b.shadow,t=n.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[c]=t,r.pointShadowMap[c]=S,r.pointShadowMatrix[c]=b.shadow.matrix,p++}r.point[c]=e,c++}else if(b.isHemisphereLight){const e=t.get(b);e.skyColor.copy(b.color).multiplyScalar(_),e.groundColor.copy(b.groundColor).multiplyScalar(_),r.hemi[h]=e,h++}}d>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=AT.LTC_FLOAT_1,r.rectAreaLTC2=AT.LTC_FLOAT_2):(r.rectAreaLTC1=AT.LTC_HALF_1,r.rectAreaLTC2=AT.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=o,r.ambient[2]=s;const b=r.hash;b.directionalLength===l&&b.pointLength===c&&b.spotLength===u&&b.rectAreaLength===d&&b.hemiLength===h&&b.numDirectionalShadows===f&&b.numPointShadows===p&&b.numSpotShadows===m&&b.numSpotMaps===g&&b.numLightProbes===y||(r.directional.length=l,r.spot.length=u,r.rectArea.length=d,r.point.length=c,r.hemi.length=h,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=p,r.pointShadowMap.length=p,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=p,r.spotLightMatrix.length=m+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,b.directionalLength=l,b.pointLength=c,b.spotLength=u,b.rectAreaLength=d,b.hemiLength=h,b.numDirectionalShadows=f,b.numPointShadows=p,b.numSpotShadows=m,b.numSpotMaps=g,b.numLightProbes=y,r.version=jA++)},setupView:function(e,t){let n=0,s=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let h=0,f=e.length;h<f;h++){const t=e[h];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),l++}else if(t.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),o.identity(),a.copy(t.matrixWorld),a.premultiply(d),o.extractRotation(a),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),c++}else if(t.isPointLight){const e=r.point[s];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),s++}else if(t.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(d),u++}}},state:r}}function WA(e){const t=new HA(e),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function GA(e){let t=new WeakMap;return{get:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=t.get(n);let a;return void 0===i?(a=new WA(e),t.set(n,[a])):r>=i.length?(a=new WA(e),i.push(a)):a=i[r],a},dispose:function(){t=new WeakMap}}}function XA(e,t,n){let r=new Xx;const i=new Hg,a=new Hg,o=new uv,s=new ES({depthPacking:wm}),l=new TS,c={},u=n.maxTextureSize,d={[Hh]:Wh,[Wh]:Hh,[Gh]:Gh},h=new kb({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Hg},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new hb;p.setAttribute("position",new Zy(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Mb(p,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Bh;let v=this.type;function y(n,r){const a=t.update(m);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new hv(i.x,i.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,h,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,f,m,null)}function b(t,n,r,i){let a=null;const o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0||!0===n.alphaToCoverage){const e=a.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=a.clone(),r[t]=i,n.addEventListener("dispose",_)),a=i}if(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===Vh?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=!0===n.alphaToCoverage?.5:n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial){e.properties.get(a).light=r}return a}function x(n,i,a,o,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===Vh)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=t.update(n),l=n.material;if(Array.isArray(l)){const t=r.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],d=l[u.materialIndex];if(d&&d.visible){const t=b(n,d,o,s);n.onBeforeShadow(e,n,i,a,r,t,u),e.renderBufferDirect(a,null,r,t,n,u),n.onAfterShadow(e,n,i,a,r,t,u)}}}else if(l.visible){const t=b(n,l,o,s);n.onBeforeShadow(e,n,i,a,r,t,null),e.renderBufferDirect(a,null,r,t,n,null),n.onAfterShadow(e,n,i,a,r,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)x(l[e],i,a,o,s)}function _(e){e.target.removeEventListener("dispose",_);for(const t in c){const n=c[t],r=e.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(t,n,s){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(Xh),!0===h.buffers.depth.getReversed()?h.buffers.color.setClear(0,0,0,0):h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const f=v!==Vh&&this.type===Vh,p=v===Vh&&this.type!==Vh;for(let m=0,g=t.length;m<g;m++){const l=t[m],c=l.shadow;if(void 0===c){Ag("WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const d=c.getFrameExtents();if(i.multiply(d),a.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/d.x),i.x=a.x*d.x,c.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/d.y),i.y=a.y*d.y,c.mapSize.y=a.y)),null===c.map||!0===f||!0===p){const e=this.type!==Vh?{minFilter:Zf,magFilter:Zf}:{};null!==c.map&&c.map.dispose(),c.map=new hv(i.x,i.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const g=c.getViewportCount();for(let e=0;e<g;e++){const t=c.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),h.viewport(o),c.updateMatrices(l,e),r=c.getFrustum(),x(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===Vh&&y(c,s),c.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(l,c,d)}}const qA={[bf]:xf,[_f]:Ef,[Sf]:Tf,[wf]:Mf,[xf]:bf,[Ef]:_f,[Tf]:Sf,[Mf]:wf};function YA(e,t){const n=new function(){let t=!1;const n=new uv;let r=null;const i=new uv(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},r=new function(){let n=!1,r=!1,i=null,a=null,o=null;return{setReversed:function(e){if(r!==e){const n=t.get("EXT_clip_control");e?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),r=e;const i=o;o=null,this.setClear(i)}},getReversed:function(){return r},setTest:function(t){t?B(e.DEPTH_TEST):j(e.DEPTH_TEST)},setMask:function(t){i===t||n||(e.depthMask(t),i=t)},setFunc:function(t){if(r&&(t=qA[t]),a!==t){switch(t){case bf:e.depthFunc(e.NEVER);break;case xf:e.depthFunc(e.ALWAYS);break;case _f:e.depthFunc(e.LESS);break;case wf:e.depthFunc(e.LEQUAL);break;case Sf:e.depthFunc(e.EQUAL);break;case Mf:e.depthFunc(e.GEQUAL);break;case Ef:e.depthFunc(e.GREATER);break;case Tf:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){o!==t&&(r&&(t=1-t),e.clearDepth(t),o=t)},reset:function(){n=!1,i=null,a=null,o=null,r=!1}}},i=new function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?B(e.STENCIL_TEST):j(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null}}},a=new WeakMap,o=new WeakMap;let s={},l={},c=new WeakMap,u=[],d=null,h=!1,f=null,p=null,m=null,g=null,v=null,y=null,b=null,x=new Dy(0,0,0),_=0,w=!1,S=null,M=null,E=null,T=null,C=null;const A=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let R=!1,P=0;const k=e.getParameter(e.VERSION);-1!==k.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(k)[1]),R=P>=1):-1!==k.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),R=P>=2);let N=null,L={};const I=e.getParameter(e.SCISSOR_BOX),O=e.getParameter(e.VIEWPORT),D=(new uv).fromArray(I),F=(new uv).fromArray(O);function U(t,n,r,i){const a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<r;s++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}const z={};function B(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function j(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}z[e.TEXTURE_2D]=U(e.TEXTURE_2D,e.TEXTURE_2D,1),z[e.TEXTURE_CUBE_MAP]=U(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),z[e.TEXTURE_2D_ARRAY]=U(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),z[e.TEXTURE_3D]=U(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),r.setClear(1),i.setClear(0),B(e.DEPTH_TEST),r.setFunc(wf),G(!1),X(Dh),B(e.CULL_FACE),W(Xh);const V={[$h]:e.FUNC_ADD,[Qh]:e.FUNC_SUBTRACT,[ef]:e.FUNC_REVERSE_SUBTRACT};V[tf]=e.MIN,V[nf]=e.MAX;const H={[rf]:e.ZERO,[af]:e.ONE,[of]:e.SRC_COLOR,[lf]:e.SRC_ALPHA,[pf]:e.SRC_ALPHA_SATURATE,[hf]:e.DST_COLOR,[uf]:e.DST_ALPHA,[sf]:e.ONE_MINUS_SRC_COLOR,[cf]:e.ONE_MINUS_SRC_ALPHA,[ff]:e.ONE_MINUS_DST_COLOR,[df]:e.ONE_MINUS_DST_ALPHA,[mf]:e.CONSTANT_COLOR,[gf]:e.ONE_MINUS_CONSTANT_COLOR,[vf]:e.CONSTANT_ALPHA,[yf]:e.ONE_MINUS_CONSTANT_ALPHA};function W(t,n,r,i,a,o,s,l,c,u){if(t!==Xh){if(!1===h&&(B(e.BLEND),h=!0),t===Jh)a=a||n,o=o||r,s=s||i,n===p&&a===v||(e.blendEquationSeparate(V[n],V[a]),p=n,v=a),r===m&&i===g&&o===y&&s===b||(e.blendFuncSeparate(H[r],H[i],H[o],H[s]),m=r,g=i,y=o,b=s),!1!==l.equals(x)&&c===_||(e.blendColor(l.r,l.g,l.b,c),x.copy(l),_=c),f=t,w=!1;else if(t!==f||u!==w){if(p===$h&&v===$h||(e.blendEquation(e.FUNC_ADD),p=$h,v=$h),u)switch(t){case qh:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Yh:e.blendFunc(e.ONE,e.ONE);break;case Zh:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case Kh:e.blendFuncSeparate(e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ZERO,e.ONE);break;default:Rg("WebGLState: Invalid blending: ",t)}else switch(t){case qh:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Yh:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE,e.ONE,e.ONE);break;case Zh:Rg("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case Kh:Rg("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Rg("WebGLState: Invalid blending: ",t)}m=null,g=null,y=null,b=null,x.set(0,0,0),_=0,f=t,w=u}}else!0===h&&(j(e.BLEND),h=!1)}function G(t){S!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),S=t)}function X(t){t!==Oh?(B(e.CULL_FACE),t!==M&&(t===Dh?e.cullFace(e.BACK):t===Fh?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):j(e.CULL_FACE),M=t}function q(t,n,r){t?(B(e.POLYGON_OFFSET_FILL),T===n&&C===r||(e.polygonOffset(n,r),T=n,C=r)):j(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:r,stencil:i},enable:B,disable:j,bindFramebuffer:function(t,n){return l[t]!==n&&(e.bindFramebuffer(t,n),l[t]=n,t===e.DRAW_FRAMEBUFFER&&(l[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(l[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=u,i=!1;if(t){r=c.get(n),void 0===r&&(r=[],c.set(n,r));const a=t.textures;if(r.length!==a.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=a.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:W,setMaterial:function(t,a){t.side===Gh?j(e.CULL_FACE):B(e.CULL_FACE);let o=t.side===Wh;a&&(o=!o),G(o),t.blending===qh&&!1===t.transparent?W(Xh):W(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),n.setMask(t.colorWrite);const s=t.stencilWrite;i.setTest(s),s&&(i.setMask(t.stencilWriteMask),i.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),i.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),q(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?B(e.SAMPLE_ALPHA_TO_COVERAGE):j(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:G,setCullFace:X,setLineWidth:function(t){t!==E&&(R&&e.lineWidth(t),E=t)},setPolygonOffset:q,setScissorTest:function(t){t?B(e.SCISSOR_TEST):j(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+A-1),N!==t&&(e.activeTexture(t),N=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===N?e.TEXTURE0+A-1:N);let i=L[r];void 0===i&&(i={type:void 0,texture:void 0},L[r]=i),i.type===t&&i.texture===n||(N!==r&&(e.activeTexture(r),N=r),e.bindTexture(t,n||z[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=L[N];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D(...arguments)}catch(Rg){Rg("WebGLState:",Rg)}},compressedTexImage3D:function(){try{e.compressedTexImage3D(...arguments)}catch(Rg){Rg("WebGLState:",Rg)}},texImage2D:function(){try{e.texImage2D(...arguments)}catch(Rg){Rg("WebGLState:",Rg)}},texImage3D:function(){try{e.texImage3D(...arguments)}catch(Rg){Rg("WebGLState:",Rg)}},updateUBOMapping:function(t,n){let r=o.get(n);void 0===r&&(r=new WeakMap,o.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=o.get(n).get(t);a.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),a.set(n,r))},texStorage2D:function(){try{e.texStorage2D(...arguments)}catch(Rg){Rg("WebGLState:",Rg)}},texStorage3D:function(){try{e.texStorage3D(...arguments)}catch(Rg){Rg("WebGLState:",Rg)}},texSubImage2D:function(){try{e.texSubImage2D(...arguments)}catch(Rg){Rg("WebGLState:",Rg)}},texSubImage3D:function(){try{e.texSubImage3D(...arguments)}catch(Rg){Rg("WebGLState:",Rg)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D(...arguments)}catch(Rg){Rg("WebGLState:",Rg)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D(...arguments)}catch(Rg){Rg("WebGLState:",Rg)}},scissor:function(t){!1===D.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),D.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),r.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),s={},N=null,L={},l={},c=new WeakMap,u=[],d=null,h=!1,f=null,p=null,m=null,g=null,v=null,y=null,b=null,x=new Dy(0,0,0),_=0,w=!1,S=null,M=null,E=null,T=null,C=null,D.set(0,0,e.canvas.width,e.canvas.height),F.set(0,0,e.canvas.width,e.canvas.height),n.reset(),r.reset(),i.reset()}}}function ZA(e,t,n,r,i,a,o){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new Hg,u=new WeakMap;let d;const h=new WeakMap;let f=!1;try{f="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(W){}function p(e,t){return f?new OffscreenCanvas(e,t):_g("canvas")}function m(e,t,n){let r=1;const i=H(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),a=Math.floor(r*i.height);void 0===d&&(d=p(n,a));const o=t?p(n,a):d;o.width=n,o.height=a;return o.getContext("2d").drawImage(e,0,0,n,a),Ag("WebGLRenderer: Texture has been resized from ("+i.width+"x"+i.height+") to ("+n+"x"+a+")."),o}return"data"in e&&Ag("WebGLRenderer: Image in DataTexture is too big ("+i.width+"x"+i.height+")."),e}return e}function g(e){return e.generateMipmaps}function v(t){e.generateMipmap(t)}function y(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function b(n,r,i,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null!==n){if(void 0!==e[n])return e[n];Ag("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=r;if(r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RG8UI),i===e.UNSIGNED_SHORT&&(s=e.RG16UI),i===e.UNSIGNED_INT&&(s=e.RG32UI),i===e.BYTE&&(s=e.RG8I),i===e.SHORT&&(s=e.RG16I),i===e.INT&&(s=e.RG32I)),r===e.RGB_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGB8UI),i===e.UNSIGNED_SHORT&&(s=e.RGB16UI),i===e.UNSIGNED_INT&&(s=e.RGB32UI),i===e.BYTE&&(s=e.RGB8I),i===e.SHORT&&(s=e.RGB16I),i===e.INT&&(s=e.RGB32I)),r===e.RGBA_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGBA8UI),i===e.UNSIGNED_SHORT&&(s=e.RGBA16UI),i===e.UNSIGNED_INT&&(s=e.RGBA32UI),i===e.BYTE&&(s=e.RGBA8I),i===e.SHORT&&(s=e.RGBA16I),i===e.INT&&(s=e.RGBA32I)),r===e.RGB&&(i===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),i===e.UNSIGNED_INT_10F_11F_11F_REV&&(s=e.R11F_G11F_B10F)),r===e.RGBA){const t=o?Pm:Qg.getTransfer(a);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=t===km?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function x(t,n){let r;return t?null===n||n===up||n===mp?r=e.DEPTH24_STENCIL8:n===dp?r=e.DEPTH32F_STENCIL8:n===lp&&(r=e.DEPTH24_STENCIL8,Ag("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===up||n===mp?r=e.DEPTH_COMPONENT24:n===dp?r=e.DEPTH_COMPONENT32F:n===lp&&(r=e.DEPTH_COMPONENT16),r}function _(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==Zf&&e.minFilter!==ep?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function w(e){const t=e.target;t.removeEventListener("dispose",w),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=h.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&M(e),0===Object.keys(i).length&&h.delete(n)}r.remove(e)}(t),t.isVideoTexture&&u.delete(t)}function S(t){const n=t.target;n.removeEventListener("dispose",S),function(t){const n=r.get(t);t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture));if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(n.__webglFramebuffer[r]))for(let t=0;t<n.__webglFramebuffer[r].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[r][t]);else e.deleteFramebuffer(n.__webglFramebuffer[r]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[r])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let a=0,s=i.length;a<s;a++){const t=r.get(i[a]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),o.memory.textures--),r.remove(i[a])}r.remove(t)}(n)}function M(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete h.get(i)[n.__cacheKey],o.memory.textures--}let E=0;function T(t,i){const a=r.get(t);if(t.isVideoTexture&&function(e){const t=o.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&!0!==t.isExternalTexture&&t.version>0&&a.__version!==t.version){const e=t.image;if(null===e)Ag("WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void L(a,t,i);Ag("WebGLRenderer: Texture marked for update but image is incomplete")}}else t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null);n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}const C={[Xf]:e.REPEAT,[qf]:e.CLAMP_TO_EDGE,[Yf]:e.MIRRORED_REPEAT},A={[Zf]:e.NEAREST,[Kf]:e.NEAREST_MIPMAP_NEAREST,[$f]:e.NEAREST_MIPMAP_LINEAR,[ep]:e.LINEAR,[tp]:e.LINEAR_MIPMAP_NEAREST,[rp]:e.LINEAR_MIPMAP_LINEAR},R={[Ym]:e.NEVER,[tg]:e.ALWAYS,[Zm]:e.LESS,[Jm]:e.LEQUAL,[Km]:e.EQUAL,[eg]:e.GEQUAL,[$m]:e.GREATER,[Qm]:e.NOTEQUAL};function P(n,a){if(a.type!==dp||!1!==t.has("OES_texture_float_linear")||a.magFilter!==ep&&a.magFilter!==tp&&a.magFilter!==$f&&a.magFilter!==rp&&a.minFilter!==ep&&a.minFilter!==tp&&a.minFilter!==$f&&a.minFilter!==rp||Ag("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,C[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,C[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,C[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,A[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,A[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,R[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(a.magFilter===Zf)return;if(a.minFilter!==$f&&a.minFilter!==rp)return;if(a.type===dp&&!1===t.has("OES_texture_float_linear"))return;if(a.anisotropy>1||r.get(a).__currentAnisotropy){const o=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}}function k(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",w));const i=n.source;let a=h.get(i);void 0===a&&(a={},h.set(i,a));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;const i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&M(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function N(e,t,n){return Math.floor(Math.floor(e/n)/t)}function L(t,o,s){let l=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(l=e.TEXTURE_3D);const c=k(t,o),u=o.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);const d=r.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+s);const t=Qg.getPrimaries(Qg.workingColorSpace),r=o.colorSpace===Cm?null:Qg.getPrimaries(o.colorSpace),h=o.colorSpace===Cm||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);let f=m(o.image,!1,i.maxTextureSize);f=V(o,f);const p=a.convert(o.format,o.colorSpace),y=a.convert(o.type);let w,S=b(o.internalFormat,p,y,o.colorSpace,o.isVideoTexture);P(l,o);const M=o.mipmaps,E=!0!==o.isVideoTexture,T=void 0===d.__version||!0===c,C=u.dataReady,A=_(o,f);if(o.isDepthTexture)S=x(o.format===wp,o.type),T&&(E?n.texStorage2D(e.TEXTURE_2D,1,S,f.width,f.height):n.texImage2D(e.TEXTURE_2D,0,S,f.width,f.height,0,p,y,null));else if(o.isDataTexture)if(M.length>0){E&&T&&n.texStorage2D(e.TEXTURE_2D,A,S,M[0].width,M[0].height);for(let t=0,r=M.length;t<r;t++)w=M[t],E?C&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,y,w.data):n.texImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,p,y,w.data);o.generateMipmaps=!1}else E?(T&&n.texStorage2D(e.TEXTURE_2D,A,S,f.width,f.height),C&&function(t,r,i,a){const o=t.updateRanges;if(0===o.length)n.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,i,a,r.data);else{o.sort((e,t)=>e.start-t.start);let s=0;for(let e=1;e<o.length;e++){const t=o[s],n=o[e],i=t.start+t.count,a=N(n.start,r.width,4),l=N(t.start,r.width,4);n.start<=i+1&&a===l&&N(n.start+n.count-1,r.width,4)===a?t.count=Math.max(t.count,n.start+n.count-t.start):(++s,o[s]=n)}o.length=s+1;const l=e.getParameter(e.UNPACK_ROW_LENGTH),c=e.getParameter(e.UNPACK_SKIP_PIXELS),u=e.getParameter(e.UNPACK_SKIP_ROWS);e.pixelStorei(e.UNPACK_ROW_LENGTH,r.width);for(let t=0,d=o.length;t<d;t++){const s=o[t],l=Math.floor(s.start/4),c=Math.ceil(s.count/4),u=l%r.width,d=Math.floor(l/r.width),h=c,f=1;e.pixelStorei(e.UNPACK_SKIP_PIXELS,u),e.pixelStorei(e.UNPACK_SKIP_ROWS,d),n.texSubImage2D(e.TEXTURE_2D,0,u,d,h,f,i,a,r.data)}t.clearUpdateRanges(),e.pixelStorei(e.UNPACK_ROW_LENGTH,l),e.pixelStorei(e.UNPACK_SKIP_PIXELS,c),e.pixelStorei(e.UNPACK_SKIP_ROWS,u)}}(o,f,p,y)):n.texImage2D(e.TEXTURE_2D,0,S,f.width,f.height,0,p,y,f.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){E&&T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,A,S,M[0].width,M[0].height,f.depth);for(let t=0,r=M.length;t<r;t++)if(w=M[t],o.format!==xp)if(null!==p)if(E){if(C)if(o.layerUpdates.size>0){const r=ST(w.width,w.height,o.format,o.type);for(const i of o.layerUpdates){const a=w.data.subarray(i*r/w.data.BYTES_PER_ELEMENT,(i+1)*r/w.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,w.width,w.height,1,p,a)}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,f.depth,p,w.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,S,w.width,w.height,f.depth,0,w.data,0,0);else Ag("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else E?C&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,f.depth,p,y,w.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,S,w.width,w.height,f.depth,0,p,y,w.data)}else{E&&T&&n.texStorage2D(e.TEXTURE_2D,A,S,M[0].width,M[0].height);for(let t=0,r=M.length;t<r;t++)w=M[t],o.format!==xp?null!==p?E?C&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,w.data):n.compressedTexImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,w.data):Ag("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?C&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,y,w.data):n.texImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,p,y,w.data)}else if(o.isDataArrayTexture)if(E){if(T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,A,S,f.width,f.height,f.depth),C)if(o.layerUpdates.size>0){const t=ST(f.width,f.height,o.format,o.type);for(const r of o.layerUpdates){const i=f.data.subarray(r*t/f.data.BYTES_PER_ELEMENT,(r+1)*t/f.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,f.width,f.height,1,p,y,i)}o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,f.width,f.height,f.depth,p,y,f.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,S,f.width,f.height,f.depth,0,p,y,f.data);else if(o.isData3DTexture)E?(T&&n.texStorage3D(e.TEXTURE_3D,A,S,f.width,f.height,f.depth),C&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,f.width,f.height,f.depth,p,y,f.data)):n.texImage3D(e.TEXTURE_3D,0,S,f.width,f.height,f.depth,0,p,y,f.data);else if(o.isFramebufferTexture){if(T)if(E)n.texStorage2D(e.TEXTURE_2D,A,S,f.width,f.height);else{let t=f.width,r=f.height;for(let i=0;i<A;i++)n.texImage2D(e.TEXTURE_2D,i,S,t,r,0,p,y,null),t>>=1,r>>=1}}else if(M.length>0){if(E&&T){const t=H(M[0]);n.texStorage2D(e.TEXTURE_2D,A,S,t.width,t.height)}for(let t=0,r=M.length;t<r;t++)w=M[t],E?C&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,p,y,w):n.texImage2D(e.TEXTURE_2D,t,S,p,y,w);o.generateMipmaps=!1}else if(E){if(T){const t=H(f);n.texStorage2D(e.TEXTURE_2D,A,S,t.width,t.height)}C&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,p,y,f)}else n.texImage2D(e.TEXTURE_2D,0,S,p,y,f);g(o)&&v(l),d.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function I(t,i,o,l,c,u){const d=a.convert(o.format,o.colorSpace),h=a.convert(o.type),f=b(o.internalFormat,d,h,o.colorSpace),p=r.get(i),m=r.get(o);if(m.__renderTarget=i,!p.__hasExternalTextures){const t=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,f,t,r,i.depth,0,d,h,null):n.texImage2D(c,u,f,t,r,0,d,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),j(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,c,m.__webglTexture,0,B(i)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,c,m.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function O(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const i=n.depthTexture,a=i&&i.isDepthTexture?i.type:null,o=x(n.stencilBuffer,a),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=B(n);j(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,o,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,o,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,o,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let i=0;i<t.length;i++){const o=t[i],l=a.convert(o.format,o.colorSpace),c=a.convert(o.type),u=b(o.internalFormat,l,c,o.colorSpace),d=B(n);r&&!1===j(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,u,n.width,n.height):j(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function D(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const a=r.get(i.depthTexture);a.__renderTarget=i,a.__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),T(i.depthTexture,0);const o=a.__webglTexture,l=B(i);if(i.depthTexture.format===_p)j(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==wp)throw new Error("Unknown depthTexture format");j(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}function F(t){const i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),e){const t=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),i.__depthDisposeCallback=t}i.__boundDepthTexture=e}if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");const e=t.texture.mipmaps;e&&e.length>0?D(i.__webglFramebuffer[0],t):D(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),void 0===i.__webglDepthbuffer[r])i.__webglDepthbuffer[r]=e.createRenderbuffer(),O(i.__webglDepthbuffer[r],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,a=i.__webglDepthbuffer[r];e.bindRenderbuffer(e.RENDERBUFFER,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,a)}}else{const r=t.texture.mipmaps;if(r&&r.length>0?n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[0]):n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer)i.__webglDepthbuffer=e.createRenderbuffer(),O(i.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=i.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}}n.bindFramebuffer(e.FRAMEBUFFER,null)}const U=[],z=[];function B(e){return Math.min(i.maxSamples,e.samples)}function j(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,t){const n=e.colorSpace,r=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==Rm&&n!==Cm&&(Qg.getTransfer(n)===km?r===xp&&i===ap||Ag("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Rg("WebGLTextures: Unsupported texture color space:",n)),t}function H(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!==typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){const e=E;return e>=i.maxTextures&&Ag("WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),E+=1,e},this.resetTextureUnits=function(){E=0},this.setTexture2D=T,this.setTexture2DArray=function(t,i){const a=r.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?L(a,t,i):(t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null),n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i))},this.setTexture3D=function(t,i){const a=r.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?L(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,o){const s=r.get(t);t.version>0&&s.__version!==t.version?function(t,o,s){if(6!==o.image.length)return;const l=k(t,o),c=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);const u=r.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+s);const t=Qg.getPrimaries(Qg.workingColorSpace),r=o.colorSpace===Cm?null:Qg.getPrimaries(o.colorSpace),d=o.colorSpace===Cm||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const h=o.isCompressedTexture||o.image[0].isCompressedTexture,f=o.image[0]&&o.image[0].isDataTexture,p=[];for(let e=0;e<6;e++)p[e]=h||f?f?o.image[e].image:o.image[e]:m(o.image[e],!0,i.maxCubemapSize),p[e]=V(o,p[e]);const y=p[0],x=a.convert(o.format,o.colorSpace),w=a.convert(o.type),S=b(o.internalFormat,x,w,o.colorSpace),M=!0!==o.isVideoTexture,E=void 0===u.__version||!0===l,T=c.dataReady;let C,A=_(o,y);if(P(e.TEXTURE_CUBE_MAP,o),h){M&&E&&n.texStorage2D(e.TEXTURE_CUBE_MAP,A,S,y.width,y.height);for(let t=0;t<6;t++){C=p[t].mipmaps;for(let r=0;r<C.length;r++){const i=C[r];o.format!==xp?null!==x?M?T&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,x,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,i.data):Ag("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,x,w,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,x,w,i.data)}}}else{if(C=o.mipmaps,M&&E){C.length>0&&A++;const t=H(p[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,A,S,t.width,t.height)}for(let t=0;t<6;t++)if(f){M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,p[t].width,p[t].height,x,w,p[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,p[t].width,p[t].height,0,x,w,p[t].data);for(let r=0;r<C.length;r++){const i=C[r].image[t].image;M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,x,w,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,i.width,i.height,0,x,w,i.data)}}else{M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,x,w,p[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,x,w,p[t]);for(let r=0;r<C.length;r++){const i=C[r];M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,x,w,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,x,w,i.image[t])}}}g(o)&&v(e.TEXTURE_CUBE_MAP),u.__version=c.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(s,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,i){const a=r.get(t);void 0!==n&&I(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&F(t)},this.setupRenderTarget=function(t){const i=t.texture,s=r.get(t),l=r.get(i);t.addEventListener("dispose",S);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,o.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=c.length;t<n;t++){const n=r.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===j(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const i=a.convert(r.format,r.colorSpace),o=a.convert(r.type),l=b(r.internalFormat,i,o,r.colorSpace,!0===t.isXRRenderTarget),u=B(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),O(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),P(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)I(s.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else I(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let i=0,a=c.length;i<a;i++){const a=c[i],o=r.get(a);let l=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(l=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(l,o.__webglTexture),P(l,a),I(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+i,l,0),g(a)&&v(l)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),P(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)I(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else I(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);g(i)&&v(r),n.unbindTexture()}t.depthBuffer&&F(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let i=0,a=t.length;i<a;i++){const a=t[i];if(g(a)){const t=y(e),i=r.get(a).__webglTexture;n.bindTexture(t,i),v(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===j(t)){const i=t.textures,a=t.width,o=t.height;let s=e.COLOR_BUFFER_BIT;const c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),d=i.length>1;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer);const h=t.texture.mipmaps;h&&h.length>0?n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer[0]):n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),!0===l&&(U.length=0,z.length=0,U.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(U.push(c),z.push(c),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,z)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,U))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const a=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=F,this.setupFrameBufferTexture=I,this.useMultisampledRTT=j}function KA(e,t){return{convert:function(n){let r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cm;const a=Qg.getTransfer(i);if(n===ap)return e.UNSIGNED_BYTE;if(n===fp)return e.UNSIGNED_SHORT_4_4_4_4;if(n===pp)return e.UNSIGNED_SHORT_5_5_5_1;if(n===gp)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===vp)return e.UNSIGNED_INT_10F_11F_11F_REV;if(n===op)return e.BYTE;if(n===sp)return e.SHORT;if(n===lp)return e.UNSIGNED_SHORT;if(n===cp)return e.INT;if(n===up)return e.UNSIGNED_INT;if(n===dp)return e.FLOAT;if(n===hp)return e.HALF_FLOAT;if(n===yp)return e.ALPHA;if(n===bp)return e.RGB;if(n===xp)return e.RGBA;if(n===_p)return e.DEPTH_COMPONENT;if(n===wp)return e.DEPTH_STENCIL;if(n===Sp)return e.RED;if(n===Mp)return e.RED_INTEGER;if(n===Ep)return e.RG;if(n===Tp)return e.RG_INTEGER;if(n===Ap)return e.RGBA_INTEGER;if(n===Rp||n===Pp||n===kp||n===Np)if(a===km){if(r=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(n===Rp)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Pp)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===kp)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Np)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(n===Rp)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Pp)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===kp)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Np)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Lp||n===Ip||n===Op||n===Dp){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(n===Lp)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Ip)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Op)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Dp)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Fp||n===Up||n===zp){if(r=t.get("WEBGL_compressed_texture_etc"),null===r)return null;if(n===Fp||n===Up)return a===km?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===zp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(n===Bp||n===jp||n===Vp||n===Hp||n===Wp||n===Gp||n===Xp||n===qp||n===Yp||n===Zp||n===Kp||n===Jp||n===$p||n===Qp){if(r=t.get("WEBGL_compressed_texture_astc"),null===r)return null;if(n===Bp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===jp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Vp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Hp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Wp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Gp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Xp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===qp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Yp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Zp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Kp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Jp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===$p)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Qp)return a===km?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===em||n===tm||n===nm){if(r=t.get("EXT_texture_compression_bptc"),null===r)return null;if(n===em)return a===km?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===tm)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===nm)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===rm||n===im||n===am||n===om){if(r=t.get("EXT_texture_compression_rgtc"),null===r)return null;if(n===rm)return r.COMPRESSED_RED_RGTC1_EXT;if(n===im)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===am)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===om)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===mp?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class JA{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(null===this.texture){const n=new W_(e.texture);e.depthNear===t.depthNear&&e.depthFar===t.depthFar||(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new kb({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Mb(new oS(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class $A extends kg{constructor(e,t){super();const n=this;let r=null,i=1,a=null,o="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,f=null;const p="undefined"!==typeof XRWebGLBinding,m=new JA,g={},v=t.getContextAttributes();let y=null,b=null;const x=[],_=[],w=new Hg;let S=null;const M=new Db;M.viewport=new uv;const E=new Db;E.viewport=new uv;const T=[M,E],C=new XM;let A=null,R=null;function P(e){const t=_.indexOf(e.inputSource);if(-1===t)return;const n=x[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function k(){r.removeEventListener("select",P),r.removeEventListener("selectstart",P),r.removeEventListener("selectend",P),r.removeEventListener("squeeze",P),r.removeEventListener("squeezestart",P),r.removeEventListener("squeezeend",P),r.removeEventListener("end",k),r.removeEventListener("inputsourceschange",N);for(let e=0;e<x.length;e++){const t=_[e];null!==t&&(_[e]=null,x[e].disconnect(t))}A=null,R=null,m.reset();for(const e in g)delete g[e];e.setRenderTarget(y),h=null,d=null,u=null,r=null,b=null,F.stop(),n.isPresenting=!1,e.setPixelRatio(S),e.setSize(w.width,w.height,!1),n.dispatchEvent({type:"sessionend"})}function N(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=_.indexOf(n);r>=0&&(_[r]=null,x[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=_.indexOf(n);if(-1===r){for(let e=0;e<x.length;e++){if(e>=_.length){_.push(n),r=e;break}if(null===_[e]){_[e]=n,r=e;break}}if(-1===r)break}const i=x[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=x[e];return void 0===t&&(t=new Hb,x[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=x[e];return void 0===t&&(t=new Hb,x[e]=t),t.getGripSpace()},this.getHand=function(e){let t=x[e];return void 0===t&&(t=new Hb,x[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&Ag("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&Ag("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return null===u&&p&&(u=new XRWebGLBinding(r,t)),u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){y=e.getRenderTarget(),r.addEventListener("select",P),r.addEventListener("selectstart",P),r.addEventListener("selectend",P),r.addEventListener("squeeze",P),r.addEventListener("squeezestart",P),r.addEventListener("squeezeend",P),r.addEventListener("end",k),r.addEventListener("inputsourceschange",N),!0!==v.xrCompatible&&await t.makeXRCompatible(),S=e.getPixelRatio(),e.getSize(w);if(p&&"createProjectionLayer"in XRWebGLBinding.prototype){let n=null,a=null,o=null;v.depth&&(o=v.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=v.stencil?wp:_p,a=v.stencil?mp:up);const s={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:i};u=this.getBinding(),d=u.createProjectionLayer(s),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),b=new hv(d.textureWidth,d.textureHeight,{format:xp,type:ap,depthTexture:new H_(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues,resolveStencilBuffer:!1===d.ignoreDepthValues})}else{const n={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),b=new hv(h.framebufferWidth,h.framebufferHeight,{format:xp,type:ap,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil,resolveDepthBuffer:!1===h.ignoreDepthValues,resolveStencilBuffer:!1===h.ignoreDepthValues})}b.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await r.requestReferenceSpace(o),F.setContext(r),F.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};const L=new Gg,I=new Gg;function O(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;let t=e.near,n=e.far;null!==m.texture&&(m.depthNear>0&&(t=m.depthNear),m.depthFar>0&&(n=m.depthFar)),C.near=E.near=M.near=t,C.far=E.far=M.far=n,A===C.near&&R===C.far||(r.updateRenderState({depthNear:C.near,depthFar:C.far}),A=C.near,R=C.far),C.layers.mask=6|e.layers.mask,M.layers.mask=3&C.layers.mask,E.layers.mask=5&C.layers.mask;const i=e.parent,a=C.cameras;O(C,i);for(let r=0;r<a.length;r++)O(a[r],i);2===a.length?function(e,t,n){L.setFromMatrixPosition(t.matrixWorld),I.setFromMatrixPosition(n.matrixWorld);const r=L.distanceTo(I),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=o*u,f=o*d,p=r/(-u+d),m=p*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===i[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=o+p,n=s+p,i=h-m,a=f+(r-m),u=l*s/n*t,d=c*s/n*t;e.projectionMatrix.makePerspective(i,a,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(C,M,E):C.projectionMatrix.copy(M.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Og*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,C,i)},this.getCamera=function(){return C},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==m.texture},this.getDepthSensingMesh=function(){return m.getMesh(C)},this.getCameraTexture=function(e){return g[e]};let D=null;const F=new ET;F.setAnimationLoop(function(t,i){if(c=i.getViewerPose(l||a),f=i,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(b,h.framebuffer),e.setRenderTarget(b));let i=!1;t.length!==C.cameras.length&&(C.cameras.length=0,i=!0);for(let n=0;n<t.length;n++){const r=t[n];let a=null;if(null!==h)a=h.getViewport(r);else{const t=u.getViewSubImage(d,r);a=t.viewport,0===n&&(e.setRenderTargetTextures(b,t.colorTexture,t.depthStencilTexture),e.setRenderTarget(b))}let o=T[n];void 0===o&&(o=new Db,o.layers.enable(n),o.viewport=new uv,T[n]=o),o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(r.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===n&&(C.matrix.copy(o.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),!0===i&&C.cameras.push(o)}const a=r.enabledFeatures;if(a&&a.includes("depth-sensing")&&"gpu-optimized"==r.depthUsage&&p){u=n.getBinding();const e=u.getDepthInformation(t[0]);e&&e.isValid&&e.texture&&m.init(e,r.renderState)}if(a&&a.includes("camera-access")&&p){e.state.unbindTexture(),u=n.getBinding();for(let e=0;e<t.length;e++){const n=t[e].camera;if(n){let e=g[n];e||(e=new W_,g[n]=e);const t=u.getCameraImage(n);e.sourceTexture=t}}}}for(let e=0;e<x.length;e++){const t=_[e],n=x[e];null!==t&&void 0!==n&&n.update(t,i,l||a)}D&&D(t,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),f=null}),this.setAnimationLoop=function(e){D=e},this.dispose=function(){}}}const QA=new ey,eR=new Wv;function tR(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,r.side===Wh&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),r.side===Wh&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const i=t.get(r),a=i.envMap,o=i.envMapRotation;a&&(e.envMap.value=a,QA.copy(o),QA.x*=-1,QA.y*=-1,QA.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(QA.y*=-1,QA.z*=-1),e.envMapRotation.value.setFromMatrix4(eR.makeRotationFromEuler(QA)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Rb(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===Wh&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function nR(e,t,n,r){let i={},a={},o=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){const i=e.value,a=t+"_"+n;if(void 0===r[a])return r[a]="number"===typeof i||"boolean"===typeof i?i:i.clone(),!0;{const e=r[a];if("number"===typeof i||"boolean"===typeof i){if(e!==i)return r[a]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"===typeof e||"boolean"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?Ag("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Ag("WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){let h=i[n.id];void 0===h&&(!function(e){const t=e.uniforms;let n=0;const r=16;for(let a=0,o=t.length;a<o;a++){const e=Array.isArray(t[a])?t[a]:[t[a]];for(let t=0,i=e.length;t<i;t++){const i=e[t],a=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=a.length;e<t;e++){const t=c(a[e]),o=n%r,s=o%t.boundary,l=o+s;n+=s,0!==l&&r-l<t.storage&&(n+=r-l),i.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,n+=t.storage}}}const i=n%r;i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return Rg("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=h,n.addEventListener("dispose",u));const f=d.program;r.updateUBOMapping(n,f);const p=t.render.frame;a[n.id]!==p&&(!function(t){const n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,o=r.length;i<o;i++){const t=Array.isArray(r[i])?r[i]:[r[i]];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!0===l(r,i,n,a)){const t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let a=0;a<n.length;a++){const o=n[a],s=c(o);"number"===typeof o||"boolean"===typeof o?(r.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):o.isMatrix3?(r.__data[0]=o.elements[0],r.__data[1]=o.elements[1],r.__data[2]=o.elements[2],r.__data[3]=0,r.__data[4]=o.elements[3],r.__data[5]=o.elements[4],r.__data[6]=o.elements[5],r.__data[7]=0,r.__data[8]=o.elements[6],r.__data[9]=o.elements[7],r.__data[10]=o.elements[8],r.__data[11]=0):(o.toArray(r.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=p)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}const rR=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let iR=null;class aR{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:t=wg(),context:n=null,depth:r=!0,stencil:i=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1,reversedDepthBuffer:d=!1}=e;let h;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!==typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=n.getContextAttributes().alpha}else h=a;const f=new Set([Ap,Tp,Mp]),p=new Set([ap,up,lp,mp,fp,pp]),m=new Uint32Array(4),g=new Int32Array(4);let v=null,y=null;const b=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Pf,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const _=this;let w=!1;this._outputColorSpace=Am;let S=0,M=0,E=null,T=-1,C=null;const A=new uv,R=new uv;let P=null;const k=new Dy(0);let N=0,L=t.width,I=t.height,O=1,D=null,F=null;const U=new uv(0,0,L,I),z=new uv(0,0,L,I);let B=!1;const j=new Xx;let V=!1,H=!1;const W=new Wv,G=new Gg,X=new uv,q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Y=!1;function Z(){return null===E?O:1}let K,J,$,Q,ee,te,ne,re,ie,ae,oe,se,le,ce,ue,de,he,fe,pe,me,ge,ve,ye,be,xe=n;function _e(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(Nh)),t.addEventListener("webglcontextlost",Me,!1),t.addEventListener("webglcontextrestored",Ee,!1),t.addEventListener("webglcontextcreationerror",Te,!1),null===xe){const t="webgl2";if(xe=_e(t,e),null===xe)throw _e(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Rg){throw Rg("WebGLRenderer: "+Rg.message),Rg}function we(){K=new eC(xe),K.init(),ve=new KA(xe,K),J=new DT(xe,K,e,ve),$=new YA(xe,K),J.reversedDepthBuffer&&d&&$.buffers.depth.setReversed(!0),Q=new rC(xe),ee=new OA,te=new ZA(xe,K,$,ee,J,ve,Q),ne=new UT(_),re=new QT(_),ie=new TT(xe),ye=new IT(xe,ie),ae=new tC(xe,ie,Q,ye),oe=new aC(xe,ae,ie,Q),pe=new iC(xe,J,te),de=new FT(ee),se=new IA(_,ne,re,K,J,ye,de),le=new tR(_,ee),ce=new zA,ue=new GA(K),fe=new LT(_,ne,re,$,oe,h,s),he=new XA(_,oe,J),be=new nR(xe,Q,J,$),me=new OT(xe,K,Q),ge=new nC(xe,K,Q),Q.programs=se.programs,_.capabilities=J,_.extensions=K,_.properties=ee,_.renderLists=ce,_.shadowMap=he,_.state=$,_.info=Q}we();const Se=new $A(_,xe);function Me(e){e.preventDefault(),Cg("WebGLRenderer: Context Lost."),w=!0}function Ee(){Cg("WebGLRenderer: Context Restored."),w=!1;const e=Q.autoReset,t=he.enabled,n=he.autoUpdate,r=he.needsUpdate,i=he.type;we(),Q.autoReset=e,he.enabled=t,he.autoUpdate=n,he.needsUpdate=r,he.type=i}function Te(e){Rg("WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ce(e){const t=e.target;t.removeEventListener("dispose",Ce),function(e){(function(e){const t=ee.get(e).programs;void 0!==t&&(t.forEach(function(e){se.releaseProgram(e)}),e.isShaderMaterial&&se.releaseShaderCache(e))})(e),ee.remove(e)}(t)}function Ae(e,t,n){!0===e.transparent&&e.side===Gh&&!1===e.forceSinglePass?(e.side=Wh,e.needsUpdate=!0,Ue(e,t,n),e.side=Hh,e.needsUpdate=!0,Ue(e,t,n),e.side=Gh):Ue(e,t,n)}this.xr=Se,this.getContext=function(){return xe},this.getContextAttributes=function(){return xe.getContextAttributes()},this.forceContextLoss=function(){const e=K.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=K.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(e){void 0!==e&&(O=e,this.setSize(L,I,!1))},this.getSize=function(e){return e.set(L,I)},this.setSize=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Se.isPresenting?Ag("WebGLRenderer: Can't change size while VR device is presenting."):(L=e,I=n,t.width=Math.floor(e*O),t.height=Math.floor(n*O),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(L*O,I*O).floor()},this.setDrawingBufferSize=function(e,n,r){L=e,I=n,O=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(A)},this.getViewport=function(e){return e.copy(U)},this.setViewport=function(e,t,n,r){e.isVector4?U.set(e.x,e.y,e.z,e.w):U.set(e,t,n,r),$.viewport(A.copy(U).multiplyScalar(O).round())},this.getScissor=function(e){return e.copy(z)},this.setScissor=function(e,t,n,r){e.isVector4?z.set(e.x,e.y,e.z,e.w):z.set(e,t,n,r),$.scissor(R.copy(z).multiplyScalar(O).round())},this.getScissorTest=function(){return B},this.setScissorTest=function(e){$.setScissorTest(B=e)},this.setOpaqueSort=function(e){D=e},this.setTransparentSort=function(e){F=e},this.getClearColor=function(e){return e.copy(fe.getClearColor())},this.setClearColor=function(){fe.setClearColor(...arguments)},this.getClearAlpha=function(){return fe.getClearAlpha()},this.setClearAlpha=function(){fe.setClearAlpha(...arguments)},this.clear=function(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let e=!1;if(null!==E){const t=E.texture.format;e=f.has(t)}if(e){const e=E.texture.type,t=p.has(e),n=fe.getClearColor(),r=fe.getClearAlpha(),i=n.r,a=n.g,o=n.b;t?(m[0]=i,m[1]=a,m[2]=o,m[3]=r,xe.clearBufferuiv(xe.COLOR,0,m)):(g[0]=i,g[1]=a,g[2]=o,g[3]=r,xe.clearBufferiv(xe.COLOR,0,g))}else n|=xe.COLOR_BUFFER_BIT}e&&(n|=xe.DEPTH_BUFFER_BIT),t&&(n|=xe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),xe.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Me,!1),t.removeEventListener("webglcontextrestored",Ee,!1),t.removeEventListener("webglcontextcreationerror",Te,!1),fe.dispose(),ce.dispose(),ue.dispose(),ee.dispose(),ne.dispose(),re.dispose(),oe.dispose(),ye.dispose(),be.dispose(),se.dispose(),Se.dispose(),Se.removeEventListener("sessionstart",Pe),Se.removeEventListener("sessionend",ke),Ne.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=q);const o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=q);te.resetTextureUnits();const a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===E?_.outputColorSpace:!0===E.isXRRenderTarget?E.texture.colorSpace:Rm,l=(r.isMeshStandardMaterial?re:ne).get(r.envMap||o),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,f=!!n.morphAttributes.color;let p=Pf;r.toneMapped&&(null!==E&&!0!==E.isXRRenderTarget||(p=_.toneMapping));const m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==m?m.length:0,v=ee.get(r),b=y.state.lights;if(!0===V&&(!0===H||e!==C)){const t=e===C&&r.id===T;de.setState(r,e,t)}let x=!1;r.version===v.__version?v.needsLights&&v.lightsStateVersion!==b.state.version||v.outputColorSpace!==s||i.isBatchedMesh&&!1===v.batching?x=!0:i.isBatchedMesh||!0!==v.batching?i.isBatchedMesh&&!0===v.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===v.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===v.instancing?x=!0:i.isInstancedMesh||!0!==v.instancing?i.isSkinnedMesh&&!1===v.skinning?x=!0:i.isSkinnedMesh||!0!==v.skinning?i.isInstancedMesh&&!0===v.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===v.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===v.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===v.instancingMorph&&null!==i.morphTexture||v.envMap!==l||!0===r.fog&&v.fog!==a?x=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===de.numPlanes&&v.numIntersection===de.numIntersection?(v.vertexAlphas!==c||v.vertexTangents!==u||v.morphTargets!==d||v.morphNormals!==h||v.morphColors!==f||v.toneMapping!==p||v.morphTargetsCount!==g)&&(x=!0):x=!0:x=!0:x=!0:x=!0:(x=!0,v.__version=r.version);let w=v.currentProgram;!0===x&&(w=Ue(r,t,i));let S=!1,M=!1,A=!1;const R=w.getUniforms(),P=v.uniforms;$.useProgram(w.program)&&(S=!0,M=!0,A=!0);r.id!==T&&(T=r.id,M=!0);if(S||C!==e){$.buffers.depth.getReversed()&&!0!==e.reversedDepth&&(e._reversedDepth=!0,e.updateProjectionMatrix()),R.setValue(xe,"projectionMatrix",e.projectionMatrix),R.setValue(xe,"viewMatrix",e.matrixWorldInverse);const t=R.map.cameraPosition;void 0!==t&&t.setValue(xe,G.setFromMatrixPosition(e.matrixWorld)),J.logarithmicDepthBuffer&&R.setValue(xe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&R.setValue(xe,"isOrthographic",!0===e.isOrthographicCamera),C!==e&&(C=e,M=!0,A=!0)}if(i.isSkinnedMesh){R.setOptional(xe,i,"bindMatrix"),R.setOptional(xe,i,"bindMatrixInverse");const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),R.setValue(xe,"boneTexture",e.boneTexture,te))}i.isBatchedMesh&&(R.setOptional(xe,i,"batchingTexture"),R.setValue(xe,"batchingTexture",i._matricesTexture,te),R.setOptional(xe,i,"batchingIdTexture"),R.setValue(xe,"batchingIdTexture",i._indirectTexture,te),R.setOptional(xe,i,"batchingColorTexture"),null!==i._colorsTexture&&R.setValue(xe,"batchingColorTexture",i._colorsTexture,te));const k=n.morphAttributes;void 0===k.position&&void 0===k.normal&&void 0===k.color||pe.update(i,n,w);(M||v.receiveShadow!==i.receiveShadow)&&(v.receiveShadow=i.receiveShadow,R.setValue(xe,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(P.envMap.value=l,P.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(P.envMapIntensity.value=t.environmentIntensity);void 0!==P.dfgLUT&&(P.dfgLUT.value=(null===iR&&(iR=new Tx(rR,32,32,Ep,hp),iR.minFilter=ep,iR.magFilter=ep,iR.wrapS=qf,iR.wrapT=qf,iR.generateMipmaps=!1,iR.needsUpdate=!0),iR));M&&(R.setValue(xe,"toneMappingExposure",_.toneMappingExposure),v.needsLights&&(L=A,(N=P).ambientLightColor.needsUpdate=L,N.lightProbe.needsUpdate=L,N.directionalLights.needsUpdate=L,N.directionalLightShadows.needsUpdate=L,N.pointLights.needsUpdate=L,N.pointLightShadows.needsUpdate=L,N.spotLights.needsUpdate=L,N.spotLightShadows.needsUpdate=L,N.rectAreaLights.needsUpdate=L,N.hemisphereLights.needsUpdate=L),a&&!0===r.fog&&le.refreshFogUniforms(P,a),le.refreshMaterialUniforms(P,r,O,I,y.state.transmissionRenderTarget[e.id]),uA.upload(xe,ze(v),P,te));var N,L;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(uA.upload(xe,ze(v),P,te),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&R.setValue(xe,"center",i.center);if(R.setValue(xe,"modelViewMatrix",i.modelViewMatrix),R.setValue(xe,"normalMatrix",i.normalMatrix),R.setValue(xe,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];be.update(n,w),be.bind(n,w)}}return w}(e,t,n,r,i);$.setMaterial(r,o);let l=n.index,c=1;if(!0===r.wireframe){if(l=ae.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,d=n.attributes.position;let h=u.start*c,f=(u.start+u.count)*c;null!==a&&(h=Math.max(h,a.start*c),f=Math.min(f,(a.start+a.count)*c)),null!==l?(h=Math.max(h,0),f=Math.min(f,l.count)):void 0!==d&&null!==d&&(h=Math.max(h,0),f=Math.min(f,d.count));const p=f-h;if(p<0||p===1/0)return;let m;ye.setup(i,r,s,n,l);let g=me;if(null!==l&&(m=ie.get(l),g=ge,g.setIndex(m)),i.isMesh)!0===r.wireframe?($.setLineWidth(r.wireframeLinewidth*Z()),g.setMode(xe.LINES)):g.setMode(xe.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),$.setLineWidth(e*Z()),i.isLineSegments?g.setMode(xe.LINES):i.isLineLoop?g.setMode(xe.LINE_LOOP):g.setMode(xe.LINE_STRIP)}else i.isPoints?g.setMode(xe.POINTS):i.isSprite&&g.setMode(xe.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)Pg("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),g.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(K.get("WEBGL_multi_draw"))g.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const e=i._multiDrawStarts,t=i._multiDrawCounts,n=i._multiDrawCount,a=l?ie.get(l).bytesPerElement:1,o=ee.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)o.setValue(xe,"_gl_DrawID",r),g.render(e[r]/a,t[r])}else if(i.isInstancedMesh)g.renderInstances(h,p,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);g.renderInstances(h,p,t)}else g.render(h,p)},this.compile=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),y=ue.get(n),y.init(t),x.push(y),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(y.pushLight(e),e.castShadow&&y.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(y.pushLight(e),e.castShadow&&y.pushShadow(e))}),y.setupLights();const r=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=t[i];Ae(a,n,e),r.add(a)}else Ae(t,n,e),r.add(t)}),y=x.pop(),r},this.compileAsync=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=this.compile(e,t,n);return new Promise(t=>{function n(){r.forEach(function(e){ee.get(e).currentProgram.isReady()&&r.delete(e)}),0!==r.size?setTimeout(n,10):t(e)}null!==K.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let Re=null;function Pe(){Ne.stop()}function ke(){Ne.start()}const Ne=new ET;function Le(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)y.pushLight(e),e.castShadow&&y.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||j.intersectsSprite(e)){r&&X.setFromMatrixPosition(e.matrixWorld).applyMatrix4(W);const t=oe.update(e),i=e.material;i.visible&&v.push(e,t,i,n,X.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||j.intersectsObject(e))){const t=oe.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),X.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),X.copy(t.boundingSphere.center)),X.applyMatrix4(e.matrixWorld).applyMatrix4(W)),Array.isArray(i)){const r=t.groups;for(let a=0,o=r.length;a<o;a++){const o=r[a],s=i[o.materialIndex];s&&s.visible&&v.push(e,t,s,n,X.z,o)}}else i.visible&&v.push(e,t,i,n,X.z,null)}const i=e.children;for(let a=0,o=i.length;a<o;a++)Le(i[a],t,n,r)}function Ie(e,t,n,r){const{opaque:i,transmissive:a,transparent:o}=e;y.setupLightsView(n),!0===V&&de.setGlobalState(_.clippingPlanes,n),r&&$.viewport(A.copy(r)),i.length>0&&De(i,t,n),a.length>0&&De(a,t,n),o.length>0&&De(o,t,n),$.buffers.depth.setTest(!0),$.buffers.depth.setMask(!0),$.buffers.color.setMask(!0),$.setPolygonOffset(!1)}function Oe(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===y.state.transmissionRenderTarget[r.id]&&(y.state.transmissionRenderTarget[r.id]=new hv(1,1,{generateMipmaps:!0,type:K.has("EXT_color_buffer_half_float")||K.has("EXT_color_buffer_float")?hp:ap,minFilter:rp,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Qg.workingColorSpace}));const a=y.state.transmissionRenderTarget[r.id],o=r.viewport||A;a.setSize(o.z*_.transmissionResolutionScale,o.w*_.transmissionResolutionScale);const s=_.getRenderTarget(),l=_.getActiveCubeFace(),c=_.getActiveMipmapLevel();_.setRenderTarget(a),_.getClearColor(k),N=_.getClearAlpha(),N<1&&_.setClearColor(16777215,.5),_.clear(),Y&&fe.render(n);const u=_.toneMapping;_.toneMapping=Pf;const d=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),y.setupLightsView(r),!0===V&&de.setGlobalState(_.clippingPlanes,r),De(e,n,r),te.updateMultisampleRenderTarget(a),te.updateRenderTargetMipmap(a),!1===K.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let i=0,a=t.length;i<a;i++){const a=t[i],{object:o,geometry:s,material:l,group:c}=a;if(l.side===Gh&&o.layers.test(r.layers)){const t=l.side;l.side=Wh,l.needsUpdate=!0,Fe(o,n,r,s,l,c),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(te.updateMultisampleRenderTarget(a),te.updateRenderTargetMipmap(a))}_.setRenderTarget(s,l,c),_.setClearColor(k,N),void 0!==d&&(r.viewport=d),_.toneMapping=u}function De(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],{object:o,geometry:s,group:l}=a;let c=a.material;!0===c.allowOverride&&null!==r&&(c=r),o.layers.test(n.layers)&&Fe(o,t,n,s,c,l)}}function Fe(e,t,n,r,i,a){e.onBeforeRender(_,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(_,t,n,r,e,a),!0===i.transparent&&i.side===Gh&&!1===i.forceSinglePass?(i.side=Wh,i.needsUpdate=!0,_.renderBufferDirect(n,t,r,i,e,a),i.side=Hh,i.needsUpdate=!0,_.renderBufferDirect(n,t,r,i,e,a),i.side=Gh):_.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(_,t,n,r,i,a)}function Ue(e,t,n){!0!==t.isScene&&(t=q);const r=ee.get(e),i=y.state.lights,a=y.state.shadowsArray,o=i.state.version,s=se.getParameters(e,i.state,a,t,n),l=se.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?re:ne).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",Ce),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===o)return Be(e,s),u}else s.uniforms=se.getUniforms(e),e.onBeforeCompile(s,_),u=se.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const d=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=de.uniform),Be(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function ze(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=uA.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Be(e,t){const n=ee.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Ne.setAnimationLoop(function(e){Re&&Re(e)}),"undefined"!==typeof self&&Ne.setContext(self),this.setAnimationLoop=function(e){Re=e,Se.setAnimationLoop(e),null===e?Ne.stop():Ne.start()},Se.addEventListener("sessionstart",Pe),Se.addEventListener("sessionend",ke),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void Rg("WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===w)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Se.enabled&&!0===Se.isPresenting&&(!0===Se.cameraAutoUpdate&&Se.updateCamera(t),t=Se.getCamera()),!0===e.isScene&&e.onBeforeRender(_,e,t,E),y=ue.get(e,x.length),y.init(t),x.push(y),W.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),j.setFromProjectionMatrix(W,fg,t.reversedDepth),H=this.localClippingEnabled,V=de.init(this.clippingPlanes,H),v=ce.get(e,b.length),v.init(),b.push(v),!0===Se.enabled&&!0===Se.isPresenting){const e=_.xr.getDepthSensingMesh();null!==e&&Le(e,t,-1/0,_.sortObjects)}Le(e,t,0,_.sortObjects),v.finish(),!0===_.sortObjects&&v.sort(D,F),Y=!1===Se.enabled||!1===Se.isPresenting||!1===Se.hasDepthSensing(),Y&&fe.addToRenderList(v,e),this.info.render.frame++,!0===V&&de.beginShadows();const n=y.state.shadowsArray;he.render(n,e,t),!0===V&&de.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=v.opaque,i=v.transmissive;if(y.setupLights(),t.isArrayCamera){const n=t.cameras;if(i.length>0)for(let t=0,a=n.length;t<a;t++){Oe(r,i,e,n[t])}Y&&fe.render(e);for(let t=0,r=n.length;t<r;t++){const r=n[t];Ie(v,e,r,r.viewport)}}else i.length>0&&Oe(r,i,e,t),Y&&fe.render(e),Ie(v,e,t);null!==E&&0===M&&(te.updateMultisampleRenderTarget(E),te.updateRenderTargetMipmap(E)),!0===e.isScene&&e.onAfterRender(_,e,t),ye.resetDefaultState(),T=-1,C=null,x.pop(),x.length>0?(y=x[x.length-1],!0===V&&de.setGlobalState(_.clippingPlanes,y.state.camera)):y=null,b.pop(),v=b.length>0?b[b.length-1]:null},this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(e,t,n){const r=ee.get(e);r.__autoAllocateDepthBuffer=!1===e.resolveDepthBuffer,!1===r.__autoAllocateDepthBuffer&&(r.__useRenderToTexture=!1),ee.get(e.texture).__webglTexture=t,ee.get(e.depthTexture).__webglTexture=r.__autoAllocateDepthBuffer?void 0:n,r.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(e,t){const n=ee.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const je=xe.createFramebuffer();this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;E=e,S=t,M=n;let r=!0,i=null,a=!1,o=!1;if(e){const s=ee.get(e);if(void 0!==s.__useDefaultFramebuffer)$.bindFramebuffer(xe.FRAMEBUFFER,null),r=!1;else if(void 0===s.__webglFramebuffer)te.setupRenderTarget(e);else if(s.__hasExternalTextures)te.rebindTextures(e,ee.get(e.texture).__webglTexture,ee.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(s.__boundDepthTexture!==t){if(null!==t&&ee.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");te.setupDepthRenderbuffer(e)}}const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);const c=ee.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(c[t])?c[t][n]:c[t],a=!0):i=e.samples>0&&!1===te.useMultisampledRTT(e)?ee.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,A.copy(e.viewport),R.copy(e.scissor),P=e.scissorTest}else A.copy(U).multiplyScalar(O).floor(),R.copy(z).multiplyScalar(O).floor(),P=B;0!==n&&(i=je);if($.bindFramebuffer(xe.FRAMEBUFFER,i)&&r&&$.drawBuffers(e,i),$.viewport(A),$.scissor(R),$.setScissorTest(P),a){const r=ee.get(e.texture);xe.framebufferTexture2D(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(o){const r=t;for(let t=0;t<e.textures.length;t++){const i=ee.get(e.textures[t]);xe.framebufferTextureLayer(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0+t,i.__webglTexture,n,r)}}else if(null!==e&&0!==n){const t=ee.get(e.texture);xe.framebufferTexture2D(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_2D,t.__webglTexture,n)}T=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(!e||!e.isWebGLRenderTarget)return void Rg("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=ee.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){$.bindFramebuffer(xe.FRAMEBUFFER,l);try{const o=e.textures[s],l=o.format,c=o.type;if(!J.textureFormatReadable(l))return void Rg("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!J.textureTypeReadable(c))return void Rg("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&(e.textures.length>1&&xe.readBuffer(xe.COLOR_ATTACHMENT0+s),xe.readPixels(t,n,r,i,ve.convert(l),ve.convert(c),a))}finally{const e=null!==E?ee.get(E).__webglFramebuffer:null;$.bindFramebuffer(xe.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,a,o){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=ee.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){$.bindFramebuffer(xe.FRAMEBUFFER,l);const o=e.textures[s],c=o.format,u=o.type;if(!J.textureFormatReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!J.textureTypeReadable(u))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const d=xe.createBuffer();xe.bindBuffer(xe.PIXEL_PACK_BUFFER,d),xe.bufferData(xe.PIXEL_PACK_BUFFER,a.byteLength,xe.STREAM_READ),e.textures.length>1&&xe.readBuffer(xe.COLOR_ATTACHMENT0+s),xe.readPixels(t,n,r,i,ve.convert(c),ve.convert(u),0);const h=null!==E?ee.get(E).__webglFramebuffer:null;$.bindFramebuffer(xe.FRAMEBUFFER,h);const f=xe.fenceSync(xe.SYNC_GPU_COMMANDS_COMPLETE,0);return xe.flush(),await function(e,t,n){return new Promise(function(r,i){setTimeout(function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}},n)})}(xe,f,4),xe.bindBuffer(xe.PIXEL_PACK_BUFFER,d),xe.getBufferSubData(xe.PIXEL_PACK_BUFFER,0,a),xe.deleteBuffer(d),xe.deleteSync(f),a}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r),o=null!==t?t.x:0,s=null!==t?t.y:0;te.setTexture2D(e,0),xe.copyTexSubImage2D(xe.TEXTURE_2D,n,0,0,o,s,i,a),$.unbindTexture()};const Ve=xe.createFramebuffer(),He=xe.createFramebuffer();this.copyTextureToTexture=function(e,t){let n,r,i,a,o,s,l,c,u,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===p&&(0!==f?(Pg("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),p=f,f=0):p=0);const m=e.isCompressedTexture?e.mipmaps[p]:e.image;if(null!==d)n=d.max.x-d.min.x,r=d.max.y-d.min.y,i=d.isBox3?d.max.z-d.min.z:1,a=d.min.x,o=d.min.y,s=d.isBox3?d.min.z:0;else{const t=Math.pow(2,-f);n=Math.floor(m.width*t),r=Math.floor(m.height*t),i=e.isDataArrayTexture?m.depth:e.isData3DTexture?Math.floor(m.depth*t):1,a=0,o=0,s=0}null!==h?(l=h.x,c=h.y,u=h.z):(l=0,c=0,u=0);const g=ve.convert(t.format),v=ve.convert(t.type);let y;t.isData3DTexture?(te.setTexture3D(t,0),y=xe.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(te.setTexture2DArray(t,0),y=xe.TEXTURE_2D_ARRAY):(te.setTexture2D(t,0),y=xe.TEXTURE_2D),xe.pixelStorei(xe.UNPACK_FLIP_Y_WEBGL,t.flipY),xe.pixelStorei(xe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),xe.pixelStorei(xe.UNPACK_ALIGNMENT,t.unpackAlignment);const b=xe.getParameter(xe.UNPACK_ROW_LENGTH),x=xe.getParameter(xe.UNPACK_IMAGE_HEIGHT),_=xe.getParameter(xe.UNPACK_SKIP_PIXELS),w=xe.getParameter(xe.UNPACK_SKIP_ROWS),S=xe.getParameter(xe.UNPACK_SKIP_IMAGES);xe.pixelStorei(xe.UNPACK_ROW_LENGTH,m.width),xe.pixelStorei(xe.UNPACK_IMAGE_HEIGHT,m.height),xe.pixelStorei(xe.UNPACK_SKIP_PIXELS,a),xe.pixelStorei(xe.UNPACK_SKIP_ROWS,o),xe.pixelStorei(xe.UNPACK_SKIP_IMAGES,s);const M=e.isDataArrayTexture||e.isData3DTexture,E=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const d=ee.get(e),h=ee.get(t),m=ee.get(d.__renderTarget),g=ee.get(h.__renderTarget);$.bindFramebuffer(xe.READ_FRAMEBUFFER,m.__webglFramebuffer),$.bindFramebuffer(xe.DRAW_FRAMEBUFFER,g.__webglFramebuffer);for(let v=0;v<i;v++)M&&(xe.framebufferTextureLayer(xe.READ_FRAMEBUFFER,xe.COLOR_ATTACHMENT0,ee.get(e).__webglTexture,f,s+v),xe.framebufferTextureLayer(xe.DRAW_FRAMEBUFFER,xe.COLOR_ATTACHMENT0,ee.get(t).__webglTexture,p,u+v)),xe.blitFramebuffer(a,o,n,r,l,c,n,r,xe.DEPTH_BUFFER_BIT,xe.NEAREST);$.bindFramebuffer(xe.READ_FRAMEBUFFER,null),$.bindFramebuffer(xe.DRAW_FRAMEBUFFER,null)}else if(0!==f||e.isRenderTargetTexture||ee.has(e)){const d=ee.get(e),h=ee.get(t);$.bindFramebuffer(xe.READ_FRAMEBUFFER,Ve),$.bindFramebuffer(xe.DRAW_FRAMEBUFFER,He);for(let e=0;e<i;e++)M?xe.framebufferTextureLayer(xe.READ_FRAMEBUFFER,xe.COLOR_ATTACHMENT0,d.__webglTexture,f,s+e):xe.framebufferTexture2D(xe.READ_FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_2D,d.__webglTexture,f),E?xe.framebufferTextureLayer(xe.DRAW_FRAMEBUFFER,xe.COLOR_ATTACHMENT0,h.__webglTexture,p,u+e):xe.framebufferTexture2D(xe.DRAW_FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_2D,h.__webglTexture,p),0!==f?xe.blitFramebuffer(a,o,n,r,l,c,n,r,xe.COLOR_BUFFER_BIT,xe.NEAREST):E?xe.copyTexSubImage3D(y,p,l,c,u+e,a,o,n,r):xe.copyTexSubImage2D(y,p,l,c,a,o,n,r);$.bindFramebuffer(xe.READ_FRAMEBUFFER,null),$.bindFramebuffer(xe.DRAW_FRAMEBUFFER,null)}else E?e.isDataTexture||e.isData3DTexture?xe.texSubImage3D(y,p,l,c,u,n,r,i,g,v,m.data):t.isCompressedArrayTexture?xe.compressedTexSubImage3D(y,p,l,c,u,n,r,i,g,m.data):xe.texSubImage3D(y,p,l,c,u,n,r,i,g,v,m):e.isDataTexture?xe.texSubImage2D(xe.TEXTURE_2D,p,l,c,n,r,g,v,m.data):e.isCompressedTexture?xe.compressedTexSubImage2D(xe.TEXTURE_2D,p,l,c,m.width,m.height,g,m.data):xe.texSubImage2D(xe.TEXTURE_2D,p,l,c,n,r,g,v,m);xe.pixelStorei(xe.UNPACK_ROW_LENGTH,b),xe.pixelStorei(xe.UNPACK_IMAGE_HEIGHT,x),xe.pixelStorei(xe.UNPACK_SKIP_PIXELS,_),xe.pixelStorei(xe.UNPACK_SKIP_ROWS,w),xe.pixelStorei(xe.UNPACK_SKIP_IMAGES,S),0===p&&t.generateMipmaps&&xe.generateMipmap(y),$.unbindTexture()},this.initRenderTarget=function(e){void 0===ee.get(e).__webglFramebuffer&&te.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?te.setTextureCube(e,0):e.isData3DTexture?te.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?te.setTexture2DArray(e,0):te.setTexture2D(e,0),$.unbindTexture()},this.resetState=function(){S=0,M=0,E=null,$.reset(),ye.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return fg}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Qg._getDrawingBufferColorSpace(e),t.unpackColorSpace=Qg._getUnpackColorSpace()}}var oR=n(443);const sR=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,a);return a},{useSyncExternalStoreWithSelector:lR}=oR,cR=e=>e;const uR=(e,t)=>{const n=(e=>e?sR(e):sR)(e),r=function(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cR,n=arguments.length>2?arguments[2]:void 0;const r=lR(e.subscribe,e.getState,e.getInitialState,t,n);return a.useDebugValue(r),r}(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(r,n),r},dR=[];function hR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function fR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);for(const o of dR)if(hR(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:t,equal:r.equal,remove:()=>{const e=dR.indexOf(i);-1!==e&&dR.splice(e,1)},promise:(a=e,"object"===typeof a&&"function"===typeof a.then?e:e(...t)).then(e=>{i.response=e,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(e=>i.error=e)};var a;if(dR.push(i),!n)throw i.promise}var pR=n(16),mR=n.n(pR),gR=n(853);(()=>{var e,t;return"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||"ReactNative"===(null==(t=window.navigator)?void 0:t.product))})()?a.useLayoutEffect:a.useEffect;function vR(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=vR(r,t,n);if(e)return e;r=t?null:r.sibling}}function yR(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(dL){return e}}const bR=yR(a.createContext(null));class xR extends a.Component{render(){return a.createElement(bR.Provider,{value:this._reactInternals},this.props.children)}}function _R(){const e=a.useContext(bR);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=a.useId();return a.useMemo(()=>{for(const n of[e,null==e?void 0:e.alternate]){if(!n)continue;const e=vR(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}const wR=Symbol.for("react.context"),SR=e=>null!==e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===wR;function MR(){const e=function(){const e=_R(),[t]=a.useState(()=>new Map);t.clear();let n=e;for(;n;){const e=n.type;SR(e)&&e!==bR&&!t.has(e)&&t.set(e,a.use(yR(e))),n=n.return}return t}();return a.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>a.createElement(t,null,a.createElement(n.Provider,f(f({},r),{},{value:e.get(n)}))),e=>a.createElement(xR,f({},e))),[e])}const ER=["params"];function TR(e){let t=e.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}o.act;const CR=e=>e&&e.isOrthographicCamera,AR=e=>null!=e&&("string"===typeof e||"number"===typeof e||e.isColor),RR=((e,t)=>"undefined"!==typeof window&&((null==(e=window.document)?void 0:e.createElement)||"ReactNative"===(null==(t=window.navigator)?void 0:t.product)))()?a.useLayoutEffect:a.useEffect;function PR(e){const t=a.useRef(e);return RR(()=>{t.current=e},[e]),t}function kR(e){let{set:t}=e;return RR(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const NR=(e=>((e=class extends a.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),e))();function LR(e){var t;const n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}function IR(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()}const OR={obj:e=>e===Object(e)&&!OR.arr(e)&&"function"!==typeof e,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,boo:e=>"boolean"===typeof e,und:e=>void 0===e,nul:e=>null===e,arr:e=>Array.isArray(e),equ(e,t){let{arrays:n="shallow",objects:r="reference",strict:i=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!==typeof t||!!e!==!!t)return!1;if(OR.str(e)||OR.num(e)||OR.boo(e))return e===t;const a=OR.obj(e);if(a&&"reference"===r)return e===t;const o=OR.arr(e);if(o&&"reference"===n)return e===t;if((o||a)&&e===t)return!0;let s;for(s in e)if(!(s in t))return!1;if(a&&"shallow"===n&&"shallow"===r){for(s in i?t:e)if(!OR.equ(e[s],t[s],{strict:i,objects:"reference"}))return!1}else for(s in i?t:e)if(e[s]!==t[s])return!1;if(OR.und(s)){if(o&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function DR(e){const t={nodes:{},materials:{},meshes:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}const FR=["children","key","ref"];function UR(e){const t={};for(const n in e)FR.includes(n)||(t[n]=e[n]);return t}function zR(e,t,n,r){const i=e;let a=null==i?void 0:i.__r3f;return a||(a={root:t,type:n,parent:null,children:[],props:UR(r),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a)),a}function BR(e,t){if(!t.includes("-"))return{root:e,key:t,target:e[t]};if(t in e)return{root:e,key:t,target:e[t]};let n=e;const r=t.split("-");for(const i of r){if("object"!==typeof n||null===n){if(void 0!==n){return{root:n,key:r.slice(r.indexOf(i)).join("-"),target:void 0}}return{root:e,key:t,target:void 0}}e=n,n=n[t=i]}return{root:e,key:t,target:n}}const jR=/-\d+$/;function VR(e,t){if(OR.str(t.props.attach)){if(jR.test(t.props.attach)){const n=t.props.attach.replace(jR,""),{root:r,key:i}=BR(e.object,n);Array.isArray(r[i])||(r[i]=[])}const{root:n,key:r}=BR(e.object,t.props.attach);t.previousAttach=n[r],n[r]=t.object}else OR.fun(t.props.attach)&&(t.previousAttach=t.props.attach(e.object,t.object))}function HR(e,t){if(OR.str(t.props.attach)){const{root:n,key:r}=BR(e.object,t.props.attach),i=t.previousAttach;void 0===i?delete n[r]:n[r]=i}else null==t.previousAttach||t.previousAttach(e.object,t.object);delete t.previousAttach}const WR=[...FR,"args","dispose","attach","object","onUpdate","dispose"],GR=new Map;function XR(e){let t=GR.get(e.constructor);try{t||(t=new e.constructor,GR.set(e.constructor,t))}catch(dX){}return t}const qR=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],YR=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function ZR(e,t){var n;const r=e.__r3f,i=r&&TR(r).getState(),a=null==r?void 0:r.eventCount;for(const s in t){let n=t[s];if(WR.includes(s))continue;if(r&&YR.test(s)){"function"===typeof n?r.handlers[s]=n:delete r.handlers[s],r.eventCount=Object.keys(r.handlers).length;continue}if(void 0===n)continue;let{root:a,key:l,target:c}=BR(e,s);if(void 0===c&&("object"!==typeof a||null===a))throw Error('R3F: Cannot set "'.concat(s,'". Ensure it is an object before setting "').concat(l,'".'));if(c instanceof ty&&n instanceof ty)c.mask=n.mask;else if(c instanceof Dy&&AR(n))c.set(n);else if(null!==c&&"object"===typeof c&&"function"===typeof c.set&&"function"===typeof c.copy&&null!=n&&n.constructor&&c.constructor===n.constructor)c.copy(n);else if(null!==c&&"object"===typeof c&&"function"===typeof c.set&&Array.isArray(n))"function"===typeof c.fromArray?c.fromArray(n):c.set(...n);else if(null!==c&&"object"===typeof c&&"function"===typeof c.set&&"number"===typeof n)"function"===typeof c.setScalar?c.setScalar(n):c.set(n);else{var o;a[l]=n,i&&!i.linear&&qR.includes(l)&&null!=(o=a[l])&&o.isTexture&&a[l].format===xp&&a[l].type===ap&&(a[l].colorSpace=Am)}}if(null!=r&&r.parent&&null!=i&&i.internal&&null!=(n=r.object)&&n.isObject3D&&a!==r.eventCount){const e=r.object,t=i.internal.interaction.indexOf(e);t>-1&&i.internal.interaction.splice(t,1),r.eventCount&&null!==e.raycast&&i.internal.interaction.push(e)}return r&&void 0===r.props.attach&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&KR(r),e}function KR(e){var t;if(!e.parent)return;null==e.props.onUpdate||e.props.onUpdate(e.object);const n=null==(t=e.root)||null==t.getState?void 0:t.getState();n&&0===n.internal.frames&&n.invalidate()}function JR(e,t){e.manual||(CR(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix())}const $R=e=>null==e?void 0:e.isObject3D;function QR(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function eP(e,t,n,r){const i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function tP(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){const r=e.eventObject.__r3f;if(n.hovered.delete(QR(e)),null!=r&&r.eventCount){const n=r.handlers,i=f(f({},e),{},{intersections:t});null==n.onPointerOut||n.onPointerOut(i),null==n.onPointerLeave||n.onPointerLeave(i)}}}function r(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))})}}return function(a){const{onPointerMissed:o,internal:s}=e.getState();s.lastEvent.current=a;const l="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,u=function(t,n){const r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<o.length;e++){const t=IR(o[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=o.flatMap(function(e){const n=IR(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r}).sort((e,t)=>{const n=IR(e.object),r=IR(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{const t=QR(e);return!i.has(t)&&(i.add(t),!0)});r.events.filter&&(s=r.events.filter(s,r));for(const e of s){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push(f(f({},e),{},{eventObject:t})),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(QR(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),d=c?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(s.initialClick=[a.offsetX,a.offsetY],s.initialHits=u.map(e=>e.eventObject)),c&&!u.length&&d<=2&&(r(a,s.interaction),o&&o(a)),l&&n(u),function(e,t,r,i){if(e.length){const a={stopped:!1};for(const o of e){let s=IR(o.object);if(s||o.object.traverseAncestors(e=>{const t=IR(e);if(t)return s=t,!1}),s){const{raycaster:l,pointer:c,camera:u,internal:d}=s,h=new Gg(c.x,c.y,0).unproject(u),p=e=>{var t,n;return null!=(t=null==(n=d.capturedMap.get(e))?void 0:n.has(o.eventObject))&&t},m=e=>{const n={intersection:o,target:t.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(o.eventObject,n):d.capturedMap.set(e,new Map([[o.eventObject,n]])),t.target.setPointerCapture(e)},g=e=>{const t=d.capturedMap.get(e);t&&eP(d.capturedMap,o.eventObject,t,e)};let v={};for(let e in t){let n=t[e];"function"!==typeof n&&(v[e]=n)}let y=f(f(f({},o),v),{},{pointer:c,intersections:e,stopped:a.stopped,delta:r,unprojectedPoint:h,ray:l.ray,camera:u,stopPropagation(){const r="pointerId"in t&&d.capturedMap.get(t.pointerId);(!r||r.has(o.eventObject))&&(y.stopped=a.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find(e=>e.eventObject===o.eventObject))&&n([...e.slice(0,e.indexOf(o)),o])},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},nativeEvent:t});if(i(y),!0===a.stopped)break}}}}(u,a,d,function(e){const t=e.eventObject,n=t.__r3f;if(null==n||!n.eventCount)return;const o=n.handlers;if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){const t=QR(e),n=s.hovered.get(t);n?n.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{const n=o[i];n?c&&!s.initialHits.includes(t)||(r(a,s.interaction.filter(e=>!s.initialHits.includes(e))),n(e)):c&&s.initialHits.includes(t)&&r(a,s.interaction.filter(e=>!s.initialHits.includes(e)))}})}}}}const nP=e=>!(null==e||!e.render),rP=a.createContext(null),iP=(e,t)=>{const n=(r=(n,r)=>{const i=new Gg,o=new Gg,s=new Gg;function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r().size;const{width:a,height:l,top:c,left:u}=n,d=a/l;t.isVector3?s.copy(t):s.set(...t);const h=e.getWorldPosition(i).distanceTo(s);if(CR(e))return{width:a/e.zoom,height:l/e.zoom,top:c,left:u,factor:1,distance:h,aspect:d};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*h,r=n*(a/l);return{width:r,height:n,top:c,left:u,factor:a/r,distance:h,aspect:d}}}let c;const u=e=>n(t=>({performance:f(f({},t.performance),{},{current:e})})),d=new Hg,h={set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(r(),t)},advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new qM,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=r();c&&clearTimeout(c),e.performance.current!==e.performance.min&&u(e.performance.min),c=setTimeout(()=>u(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>n(t=>f(f({},t),{},{events:f(f({},t.events),e)})),setSize:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const s=r().camera,c={width:e,height:t,top:i,left:a};n(e=>({size:c,viewport:f(f({},e.viewport),l(s,o,c))}))},setDpr:e=>n(t=>{const n=LR(e);return{viewport:f(f({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always";const t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:a.createRef(),active:!1,frames:0,priority:0,subscribe:(e,t,n)=>{const i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{const n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}};return h},r?uR(r,i):uR);var r,i;const o=n.getState();let s=o.size,l=o.viewport.dpr,c=o.camera;return n.subscribe(()=>{const{camera:e,size:t,viewport:r,gl:i,set:a}=n.getState();if(t.width!==s.width||t.height!==s.height||r.dpr!==l){s=t,l=r.dpr,JR(e,t),r.dpr>0&&i.setPixelRatio(r.dpr);const n="undefined"!==typeof HTMLCanvasElement&&i.domElement instanceof HTMLCanvasElement;i.setSize(t.width,t.height,n)}e!==c&&(c=e,a(t=>({viewport:f(f({},t.viewport),t.viewport.getCurrentViewport(e))})))}),n.subscribe(t=>e(t)),n};function aP(){const e=a.useContext(rP);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}const oP=new WeakMap;function sP(e,t){return function(n){let r;(e=>{var t;return"function"===typeof e&&(null==e||null==(t=e.prototype)?void 0:t.constructor)===e})(n)?(r=oP.get(n),r||(r=new n,oP.set(n,r))):r=n,e&&e(r);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Promise.all(a.map(e=>new Promise((n,i)=>r.load(e,e=>{$R(null==e?void 0:e.scene)&&Object.assign(e,DR(e.scene)),n(e)},t,t=>i(new Error("Could not load ".concat(e,": ").concat(null==t?void 0:t.message)))))))}}function lP(e,t,n,r){const i=Array.isArray(t)?t:[t],a=((e,t,n)=>fR(e,t,!1,n))(sP(n,r),[e,...i],{equal:OR.equ});return Array.isArray(t)?a:a[0]}lP.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return((e,t,n)=>{fR(e,t,!0,n)})(sP(n),[e,...r])},lP.clear=function(e,t){return(e=>{if(void 0===e||0===e.length)dR.splice(0,dR.length);else{const t=dR.find(t=>hR(e,t.keys,t.equal));t&&t.remove()}})([e,...Array.isArray(t)?t:[t]])};function cP(e){const t=mR()(e);return t.injectIntoDevTools(),t}const uP={},dP=/^three(?=[A-Z])/,hP=e=>"".concat(e[0].toUpperCase()).concat(e.slice(1));let fP=0;function pP(e,t){const n=hP(e),r=uP[n];if("primitive"!==e&&!r)throw new Error("R3F: ".concat(n," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if("primitive"===e&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(void 0!==t.args&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function mP(e){var t;e.isHidden&&(e.props.attach&&null!=(t=e.parent)&&t.object?VR(e.parent,e):$R(e.object)&&!1!==e.props.visible&&(e.object.visible=!0),e.isHidden=!1,KR(e))}function gP(e,t,n){const r=t.root.getState();if(e.parent||e.object===r.scene){if(!t.object){var i,a;const e=uP[hP(t.type)];t.object=null!=(i=t.props.object)?i:new e(...null!=(a=t.props.args)?a:[]),t.object.__r3f=t}if(ZR(t.object,t.props),t.props.attach)VR(e,t);else if($R(t.object)&&$R(e.object)){const r=e.object.children.indexOf(null==n?void 0:n.object);if(n&&-1!==r){const n=e.object.children.indexOf(t.object);if(-1!==n){e.object.children.splice(n,1);const i=n<r?r-1:r;e.object.children.splice(i,0,t.object)}else t.object.parent=e.object,e.object.children.splice(r,0,t.object),t.object.dispatchEvent({type:"added"}),e.object.dispatchEvent({type:"childadded",child:t.object})}else e.object.add(t.object)}for(const e of t.children)gP(t,e);KR(t)}}function vP(e,t){t&&(t.parent=e,e.children.push(t),gP(e,t))}function yP(e,t,n){if(!t||!n)return;t.parent=e;const r=e.children.indexOf(n);-1!==r?e.children.splice(r,0,t):e.children.push(t),gP(e,t,n)}function bP(e){if("function"===typeof e.dispose){const t=()=>{try{e.dispose()}catch(t){}};"undefined"!==typeof IS_REACT_ACT_ENVIRONMENT?t():(0,gR.unstable_scheduleCallback)(gR.unstable_IdlePriority,t)}}function xP(e,t,n){if(!t)return;t.parent=null;const r=e.children.indexOf(t);-1!==r&&e.children.splice(r,1),t.props.attach?HR(e,t):$R(t.object)&&$R(e.object)&&(e.object.remove(t.object),function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{eP(n.capturedMap,t,e,r)})}(TR(t),t.object));const i=null!==t.props.dispose&&!1!==n;for(let a=t.children.length-1;a>=0;a--){xP(t,t.children[a],i)}t.children.length=0,delete t.object.__r3f,i&&"primitive"!==t.type&&"Scene"!==t.object.type&&bP(t.object),void 0===n&&KR(t)}function _P(e,t){for(const n of[e,e.alternate])if(null!==n)if("function"===typeof n.ref){null==n.refCleanup||n.refCleanup();const e=n.ref(t);"function"===typeof e&&(n.refCleanup=e)}else n.ref&&(n.ref.current=t)}const wP=[];const SP=()=>{},MP={};let EP=0;const TP=cP({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(e,t,n){var r;return pP(e=hP(e)in uP?e:e.replace(dP,""),t),"primitive"===e&&null!=(r=t.object)&&r.__r3f&&delete t.object.__r3f,zR(t.object,n,e,t)},removeChild:xP,appendChild:vP,appendInitialChild:vP,insertBefore:yP,appendChildToContainer(e,t){const n=e.getState().scene.__r3f;t&&n&&vP(n,t)},removeChildFromContainer(e,t){const n=e.getState().scene.__r3f;t&&n&&xP(n,t)},insertInContainerBefore(e,t,n){const r=e.getState().scene.__r3f;t&&n&&r&&yP(r,t,n)},getRootHostContext:()=>MP,getChildHostContext:()=>MP,commitUpdate(e,t,n,r,i){var a,o,s;pP(t,r);let l=!1;if(("primitive"===e.type&&n.object!==r.object||(null==(a=r.args)?void 0:a.length)!==(null==(o=n.args)?void 0:o.length)||null!=(s=r.args)&&s.some((e,t)=>{var r;return e!==(null==(r=n.args)?void 0:r[t])}))&&(l=!0),l)wP.push([e,f({},r),i]);else{const t=function(e,t){const n={};for(const r in t)if(!WR.includes(r)&&!OR.equ(t[r],e.props[r])){n[r]=t[r];for(const e in t)e.startsWith("".concat(r,"-"))&&(n[e]=t[e])}for(const r in e.props){if(WR.includes(r)||t.hasOwnProperty(r))continue;const{root:i,key:a}=BR(e.object,r);if(i.constructor&&0===i.constructor.length){const e=XR(i);OR.und(e)||(n[a]=e[a])}else n[a]=0}return n}(e,r);Object.keys(t).length&&(Object.assign(e.props,t),ZR(e.object,t))}(null===i.sibling||0===(4&i.flags))&&function(){for(const[n]of wP){const e=n.parent;if(e){n.props.attach?HR(e,n):$R(n.object)&&$R(e.object)&&e.object.remove(n.object);for(const e of n.children)e.props.attach?HR(n,e):$R(e.object)&&$R(n.object)&&n.object.remove(e.object)}n.isHidden&&mP(n),n.object.__r3f&&delete n.object.__r3f,"primitive"!==n.type&&bP(n.object)}for(const[n,r,i]of wP){n.props=r;const a=n.parent;if(a){var e,t;const r=uP[hP(n.type)];n.object=null!=(e=n.props.object)?e:new r(...null!=(t=n.props.args)?t:[]),n.object.__r3f=n,_P(i,n.object),ZR(n.object,n.props),n.props.attach?VR(a,n):$R(n.object)&&$R(a.object)&&a.object.add(n.object);for(const e of n.children)e.props.attach?VR(n,e):$R(e.object)&&$R(n.object)&&n.object.add(e.object);KR(n)}}wP.length=0}()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:e=>null==e?void 0:e.object,prepareForCommit:()=>null,preparePortalMount:e=>zR(e.getState().scene,e,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(e){var t;e.isHidden||(e.props.attach&&null!=(t=e.parent)&&t.object?HR(e.parent,e):$R(e.object)&&(e.object.visible=!1),e.isHidden=!0,KR(e))},unhideInstance:mP,createTextInstance:SP,hideTextInstance:SP,unhideTextInstance:SP,scheduleTimeout:"function"===typeof setTimeout?setTimeout:void 0,cancelTimeout:"function"===typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:a.createContext(null),setCurrentUpdatePriority(e){EP=e},getCurrentUpdatePriority:()=>EP,resolveUpdatePriority(){var e;if(0!==EP)return EP;switch("undefined"!==typeof window&&(null==(e=window.event)?void 0:e.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return kh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return kh.ContinuousEventPriority;default:return kh.DefaultEventPriority}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:"9.4.2"}),CP=new Map,AP={objects:"shallow",strict:!1};function RP(e){const t=CP.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const i="function"===typeof reportError?reportError:console.error,a=r||iP(XP,qP),o=n||TP.createContainer(a,kh.ConcurrentRoot,null,!1,null,"",i,i,i,null);let s,c;t||CP.set(e,{fiber:o,store:a});let u=!1,d=null;return{async configure(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d=new Promise(e=>t=e);let{gl:r,size:i,scene:o,events:h,onCreated:p,shadows:m=!1,linear:g=!1,flat:v=!1,legacy:y=!1,orthographic:b=!1,frameloop:x="always",dpr:_=[1,2],performance:w,raycaster:S,camera:M,onPointerMissed:E}=n,T=a.getState(),C=T.gl;if(!T.gl){const t={canvas:e,powerPreference:"high-performance",antialias:!0,alpha:!0},n="function"===typeof r?await r(t):r;C=nP(n)?n:new aR(f(f({},t),r)),T.set({gl:C})}let A=T.raycaster;A||T.set({raycaster:A=new TE});const R=S||{},{params:P}=R,k=l(R,ER);if(OR.equ(k,A,AP)||ZR(A,f({},k)),OR.equ(P,A.params,AP)||ZR(A,{params:f(f({},A.params),P)}),!T.camera||T.camera===c&&!OR.equ(c,M,AP)){c=M;const e=null==M?void 0:M.isCamera,t=e?M:b?new wM(0,0,0,0,.1,1e3):new Db(75,0,.1,1e3);e||(t.position.z=5,M&&(ZR(t,M),t.manual||("aspect"in M||"left"in M||"right"in M||"bottom"in M||"top"in M)&&(t.manual=!0,t.updateProjectionMatrix())),T.camera||null!=M&&M.rotation||t.lookAt(0,0,0)),T.set({camera:t}),A.camera=t}if(!T.scene){let e;null!=o&&o.isScene?(e=o,zR(e,a,"",{})):(e=new Xb,zR(e,a,"",{}),o&&ZR(e,o)),T.set({scene:e})}h&&!T.events.handlers&&T.set({events:h(a)});const N=function(e,t){if(!t&&"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:n,top:r,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:i}}return!t&&"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:f({width:0,height:0,top:0,left:0},t)}(e,i);if(OR.equ(N,T.size,AP)||T.setSize(N.width,N.height,N.top,N.left),_&&T.viewport.dpr!==LR(_)&&T.setDpr(_),T.frameloop!==x&&T.setFrameloop(x),T.onPointerMissed||T.set({onPointerMissed:E}),w&&!OR.equ(w,T.performance,AP)&&T.set(e=>({performance:f(f({},e.performance),w)})),!T.xr){var L;const e=(e,t)=>{const n=a.getState();"never"!==n.frameloop&&qP(e,!0,n,t)},t=()=>{const t=a.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||XP(t)},n={connect(){const e=a.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=a.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"===typeof(null==(L=C.xr)?void 0:L.addEventListener)&&n.connect(),T.set({xr:n})}if(C.shadowMap){const e=C.shadowMap.enabled,t=C.shadowMap.type;if(C.shadowMap.enabled=!!m,OR.boo(m))C.shadowMap.type=jh;else if(OR.str(m)){var I;const e={basic:zh,percentage:Bh,soft:jh,variance:Vh};C.shadowMap.type=null!=(I=e[m])?I:jh}else OR.obj(m)&&Object.assign(C.shadowMap,m);e===C.shadowMap.enabled&&t===C.shadowMap.type||(C.shadowMap.needsUpdate=!0)}return Qg.enabled=!y,u||(C.outputColorSpace=g?Rm:Am,C.toneMapping=v?Pf:If),T.legacy!==y&&T.set(()=>({legacy:y})),T.linear!==g&&T.set(()=>({linear:g})),T.flat!==v&&T.set(()=>({flat:v})),!r||OR.fun(r)||nP(r)||OR.equ(r,C,AP)||ZR(C,r),s=p,u=!0,t(),this},render(t){return u||d||this.configure(),d.then(()=>{TP.updateContainer((0,Sh.jsx)(PP,{store:a,children:t,onCreated:s,rootElement:e}),o,null,()=>{})}),a},unmount(){kP(e)}}}function PP(e){let{store:t,children:n,onCreated:r,rootElement:i}=e;return RR(()=>{const e=t.getState();e.set(e=>({internal:f(f({},e.internal),{},{active:!0})})),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(i)},[]),(0,Sh.jsx)(rP.Provider,{value:t,children:n})}function kP(e,t){const n=CP.get(e),r=null==n?void 0:n.fiber;if(r){const i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),TP.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){"Scene"!==e.type&&(null==e.dispose||e.dispose());for(const t in e){const n=e[t];"Scene"!==(null==n?void 0:n.type)&&(null==n||null==n.dispose||n.dispose())}}(i.scene),CP.delete(e),t&&t(e)}catch(dX){}},500)})}}const NP=new Set,LP=new Set,IP=new Set;function OP(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function DP(e,t){switch(e){case"before":return OP(NP,t);case"after":return OP(LP,t);case"tail":return OP(IP,t)}}let FP,UP;function zP(e,t,n){let r=t.clock.getDelta();"never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),FP=t.internal.subscribers;for(let i=0;i<FP.length;i++)UP=FP[i],UP.ref.current(UP.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}let BP,jP,VP,HP=!1,WP=!1;function GP(e){jP=requestAnimationFrame(GP),HP=!0,BP=0,DP("before",e),WP=!0;for(const n of CP.values()){var t;VP=n.store.getState(),!VP.internal.active||!("always"===VP.frameloop||VP.internal.frames>0)||null!=(t=VP.gl.xr)&&t.isPresenting||(BP+=zP(e,VP))}if(WP=!1,DP("after",e),0===BP)return DP("tail",e),HP=!1,cancelAnimationFrame(jP)}function XP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var n;if(!e)return CP.forEach(e=>XP(e.store.getState(),t));null!=(n=e.gl.xr)&&n.isPresenting||!e.internal.active||"never"===e.frameloop||(e.internal.frames=t>1?Math.min(60,e.internal.frames+t):WP?2:1,HP||(HP=!0,requestAnimationFrame(GP)))}function qP(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(t&&DP("before",e),n)zP(e,n,r);else for(const i of CP.values())zP(e,i.store.getState());t&&DP("after",e)}const YP={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ZP(e){const{handlePointer:t}=tP(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(YP).reduce((e,n)=>f(f({},e),{},{[n]:t(n)}),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:n,events:r}=e.getState();if(null==r.disconnect||r.disconnect(),n(e=>({events:f(f({},e.events),{},{connected:t})})),r.handlers)for(const e in r.handlers){const n=r.handlers[e],[i,a]=YP[e];t.addEventListener(i,n,{passive:a})}},disconnect:()=>{const{set:t,events:n}=e.getState();if(n.connected){if(n.handlers)for(const e in n.handlers){const t=n.handlers[e],[r]=YP[e];n.connected.removeEventListener(r,t)}t(e=>({events:f(f({},e.events),{},{connected:void 0})}))}}}}function KP(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];window.clearTimeout(n),n=window.setTimeout(()=>e(...i),t)}}function JP(){let{debounce:e,scroll:t,polyfill:n,offsetSize:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1,offsetSize:!1};const i=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,s]=(0,a.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,a.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),c=e?"number"==typeof e?e:e.scroll:null,u=e?"number"==typeof e?e:e.resize:null,d=(0,a.useRef)(!1);(0,a.useEffect)(()=>(d.current=!0,()=>{d.current=!1}));const[h,f,p]=(0,a.useMemo)(()=>{const e=()=>{if(!l.current.element)return;const{left:e,top:t,width:n,height:i,bottom:a,right:o,x:c,y:u}=l.current.element.getBoundingClientRect(),h={left:e,top:t,width:n,height:i,bottom:a,right:o,x:c,y:u};l.current.element instanceof HTMLElement&&r&&(h.height=l.current.element.offsetHeight,h.width=l.current.element.offsetWidth),Object.freeze(h),d.current&&!ek(l.current.lastBounds,h)&&s(l.current.lastBounds=h)};return[e,u?KP(e,u):e,c?KP(e,c):e]},[s,r,c,u]);function m(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",p,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function g(){l.current.element&&(l.current.resizeObserver=new i(p),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(e=>e.addEventListener("scroll",p,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}return function(e,t){(0,a.useEffect)(()=>{if(t){const t=e;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[e,t])}(p,!!t),function(e){(0,a.useEffect)(()=>{const t=e;return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}(f),(0,a.useEffect)(()=>{m(),g()},[t,p,f]),(0,a.useEffect)(()=>m,[]),[e=>{!e||e===l.current.element||(m(),l.current.element=e,l.current.scrollContainers=$P(e),g())},o,h]}function $P(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some(e=>"auto"===e||"scroll"===e)&&t.push(e),[...t,...$P(e.parentElement)]}const QP=["x","y","top","bottom","left","right","width","height"],ek=(e,t)=>QP.every(n=>e[n]===t[n]),tk=["ref","children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","scene","onPointerMissed","onCreated"];function nk(e){let{ref:t,children:n,fallback:r,resize:o,style:s,gl:c,events:u=ZP,eventSource:d,eventPrefix:h,shadows:p,linear:m,flat:g,legacy:v,orthographic:y,frameloop:b,dpr:x,performance:_,raycaster:w,camera:S,scene:M,onPointerMissed:E,onCreated:T}=e,C=l(e,tk);a.useMemo(()=>function(e){if("function"===typeof e){const t="".concat(fP++);return uP[t]=e,t}Object.assign(uP,e)}(i),[]);const A=function(){const e=_R(),t=MR();return a.useMemo(()=>n=>{let{children:r}=n;const i=vR(e,!0,e=>e.type===a.StrictMode)?a.StrictMode:a.Fragment;return(0,Sh.jsx)(i,{children:(0,Sh.jsx)(t,{children:r})})},[e,t])}(),[R,P]=JP(f({scroll:!0,debounce:{scroll:50,resize:0}},o)),k=a.useRef(null),N=a.useRef(null);a.useImperativeHandle(t,()=>k.current);const L=PR(E),[I,O]=a.useState(!1),[D,F]=a.useState(!1);if(I)throw I;if(D)throw D;const U=a.useRef(null);RR(()=>{const e=k.current;if(P.width>0&&P.height>0&&e){async function t(){await U.current.configure({gl:c,scene:M,events:u,shadows:p,linear:m,flat:g,legacy:v,orthographic:y,frameloop:b,dpr:x,performance:_,raycaster:w,camera:S,size:P,onPointerMissed:function(){return null==L.current?void 0:L.current(...arguments)},onCreated:e=>{var t;null==e.events.connect||e.events.connect(d?(t=d)&&t.hasOwnProperty("current")?d.current:d:N.current),h&&e.setEvents({compute:(e,t)=>{const n=e[h+"X"],r=e[h+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==T||T(e)}}),U.current.render((0,Sh.jsx)(A,{children:(0,Sh.jsx)(NR,{set:F,children:(0,Sh.jsx)(a.Suspense,{fallback:(0,Sh.jsx)(kR,{set:O}),children:null!=n?n:null})})}))}U.current||(U.current=RP(e)),t()}}),a.useEffect(()=>{const e=k.current;if(e)return()=>kP(e)},[]);const z=d?"none":"auto";return(0,Sh.jsx)("div",f(f({ref:N,style:f({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z},s)},C),{},{children:(0,Sh.jsx)("div",{ref:R,style:{width:"100%",height:"100%"},children:(0,Sh.jsx)("canvas",{ref:k,style:{display:"block"},children:r})})}))}function rk(e){return(0,Sh.jsx)(xR,{children:(0,Sh.jsx)(nk,f({},e))})}const ik=()=>{const e=(0,a.useRef)(),t=(0,a.useRef)();return(0,a.useEffect)(()=>{e.current&&t.current&&(e.current.target=t.current)},[]),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=aP(),r=n.getState().internal.subscribe,i=PR(e);RR(()=>r(i,t,n),[t,r,n])}(t=>{if(e.current){const n=t.clock.getElapsedTime();e.current.position.x=3*Math.sin(.5*n),e.current.intensity=2+.5*Math.sin(2*n)}}),(0,Sh.jsxs)(Sh.Fragment,{children:[(0,Sh.jsx)("spotLight",{ref:e,position:[-5,5,0],angle:.3,penumbra:.5,intensity:2,color:"#60a5fa",castShadow:!0}),(0,Sh.jsx)("mesh",{ref:t,position:[0,0,0],visible:!1,children:(0,Sh.jsx)("sphereGeometry",{args:[.1,16,16]})})]})},ak=()=>(0,Sh.jsx)("div",{className:"fixed inset-0 pointer-events-none z-50",style:{mixBlendMode:"screen"},"data-testid":"beam-transition",children:(0,Sh.jsxs)(rk,{camera:{position:[0,0,5],fov:50},children:[(0,Sh.jsx)("ambientLight",{intensity:.1}),(0,Sh.jsx)(ik,{})]})}),ok=yh("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);Zl.registerPlugin(nh);const sk=e=>{let{profile:t}=e;const n=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(r.current&&Zl.from(r.current,{scrollTrigger:{trigger:r.current,start:"top bottom-=100",toggleActions:"play none none reverse"},opacity:0,y:50,duration:1,ease:"power3.out"}),i.current){const e=i.current.children;Zl.from(e,{scrollTrigger:{trigger:i.current,start:"top bottom-=100",toggleActions:"play none none reverse"},opacity:0,y:20,stagger:.1,duration:.8,ease:"power3.out"})}},[t]),t?(0,Sh.jsx)("div",{ref:n,className:"min-h-screen py-20 px-6",style:{background:"linear-gradient(180deg, #0a0a0f 0%, #1a1a2e 100%)"},"data-testid":"about-section",children:(0,Sh.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Sh.jsxs)("div",{className:"text-center mb-16",children:[(0,Sh.jsx)("h2",{className:"text-4xl sm:text-5xl font-bold gradient-text mb-4","data-testid":"about-heading",children:"About Me"}),(0,Sh.jsx)("p",{className:"text-gray-400 text-lg",children:"Get to know me better"})]}),(0,Sh.jsxs)("div",{className:"grid md:grid-cols-2 gap-12 items-start",children:[(0,Sh.jsxs)("div",{ref:r,className:"space-y-6",children:[t.avatar_url&&(0,Sh.jsxs)("div",{className:"relative w-full aspect-square rounded-2xl overflow-hidden","data-testid":"about-avatar",children:[(0,Sh.jsx)("img",{src:t.avatar_url,alt:t.name,className:"w-full h-full object-cover"}),(0,Sh.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),t.bio&&(0,Sh.jsx)("div",{className:"card","data-testid":"about-bio",children:(0,Sh.jsx)("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:t.bio})}),t.resume_url&&(0,Sh.jsxs)("a",{href:t.resume_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 btn-primary","data-testid":"about-resume-btn",children:[(0,Sh.jsx)(ok,{size:20}),"Download Resume"]})]}),(0,Sh.jsxs)("div",{className:"space-y-8",children:[(0,Sh.jsxs)("div",{className:"card","data-testid":"about-details",children:[(0,Sh.jsx)("h3",{className:"text-2xl font-semibold text-white mb-6",children:"Details"}),(0,Sh.jsxs)("div",{className:"space-y-4",children:[t.email&&(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"Email"}),(0,Sh.jsx)("p",{className:"text-white","data-testid":"about-email",children:t.email})]}),t.phone&&(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"Phone"}),(0,Sh.jsx)("p",{className:"text-white","data-testid":"about-phone",children:t.phone})]}),t.location&&(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"Location"}),(0,Sh.jsx)("p",{className:"text-white","data-testid":"about-location",children:t.location})]})]})]}),t.skills&&t.skills.length>0&&(0,Sh.jsxs)("div",{className:"card","data-testid":"about-skills",children:[(0,Sh.jsx)("h3",{className:"text-2xl font-semibold text-white mb-6",children:"Skills"}),(0,Sh.jsx)("div",{ref:i,className:"flex flex-wrap gap-3",children:t.skills.map((e,t)=>(0,Sh.jsx)("span",{className:"px-4 py-2 rounded-full bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-white border border-blue-500/30","data-testid":"skill-".concat(t),children:e},t))})]}),(t.github||t.linkedin||t.twitter||t.website)&&(0,Sh.jsxs)("div",{className:"card","data-testid":"about-links",children:[(0,Sh.jsx)("h3",{className:"text-2xl font-semibold text-white mb-6",children:"Connect"}),(0,Sh.jsxs)("div",{className:"space-y-3",children:[t.github&&(0,Sh.jsx)("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:text-blue-300 transition-colors","data-testid":"about-github",children:"GitHub \u2192"}),t.linkedin&&(0,Sh.jsx)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:text-blue-300 transition-colors","data-testid":"about-linkedin",children:"LinkedIn \u2192"}),t.twitter&&(0,Sh.jsx)("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:text-blue-300 transition-colors","data-testid":"about-twitter",children:"Twitter \u2192"}),t.website&&(0,Sh.jsx)("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:text-blue-300 transition-colors","data-testid":"about-website",children:"Website \u2192"})]})]})]})]})]})}):(0,Sh.jsx)("div",{className:"min-h-screen flex items-center justify-center","data-testid":"about-empty",children:(0,Sh.jsx)("p",{className:"text-gray-500 text-lg",children:"Loading about section..."})})},lk=yh("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ck=yh("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),uk=yh("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var dk=n(950);const hk=["message"];Array(12).fill(0);let fk=1;const pk=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n}=e,r=l(e,hk),i="number"===typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:fk++,a=this.toasts.find(e=>e.id===i),o=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(t=>t.id===i?(this.publish(f(f(f({},t),e),{},{id:i,title:n})),f(f(f({},t),e),{},{id:i,dismissible:o,title:n})):t):this.addToast(f(f({title:n},r),{},{dismissible:o,id:i})),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create(f(f({},t),{},{message:e})),this.error=(e,t)=>this.create(f(f({},t),{},{message:e,type:"error"})),this.success=(e,t)=>this.create(f(f({},t),{},{type:"success",message:e})),this.info=(e,t)=>this.create(f(f({},t),{},{type:"info",message:e})),this.warning=(e,t)=>this.create(f(f({},t),{},{type:"warning",message:e})),this.loading=(e,t)=>this.create(f(f({},t),{},{type:"loading",message:e})),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create(f(f({},t),{},{promise:e,type:"loading",message:t.loading,description:"function"!==typeof t.description?t.description:void 0})));const r=Promise.resolve(e instanceof Function?e():e);let i,o=void 0!==n;const s=r.then(async e=>{i=["resolve",e];if(a.isValidElement(e))o=!1,this.create({id:n,type:"default",message:e});else if(mk(e)&&!e.ok){o=!1;const r="function"===typeof t.error?await t.error("HTTP error! status: ".concat(e.status)):t.error,i="function"===typeof t.description?await t.description("HTTP error! status: ".concat(e.status)):t.description,s="object"===typeof r&&!a.isValidElement(r)?r:{message:r};this.create(f({id:n,type:"error",description:i},s))}else if(e instanceof Error){o=!1;const r="function"===typeof t.error?await t.error(e):t.error,i="function"===typeof t.description?await t.description(e):t.description,s="object"===typeof r&&!a.isValidElement(r)?r:{message:r};this.create(f({id:n,type:"error",description:i},s))}else if(void 0!==t.success){o=!1;const r="function"===typeof t.success?await t.success(e):t.success,i="function"===typeof t.description?await t.description(e):t.description,s="object"===typeof r&&!a.isValidElement(r)?r:{message:r};this.create(f({id:n,type:"success",description:i},s))}}).catch(async e=>{if(i=["reject",e],void 0!==t.error){o=!1;const r="function"===typeof t.error?await t.error(e):t.error,i="function"===typeof t.description?await t.description(e):t.description,s="object"===typeof r&&!a.isValidElement(r)?r:{message:r};this.create(f({id:n,type:"error",description:i},s))}}).finally(()=>{o&&(this.dismiss(n),n=void 0),null==t.finally||t.finally.call(t)}),l=()=>new Promise((e,t)=>s.then(()=>"reject"===i[0]?t(i[1]):e(i[1])).catch(t));return"string"!==typeof n&&"number"!==typeof n?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{const n=(null==t?void 0:t.id)||fk++;return this.create(f({jsx:e(n),id:n},t)),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},mk=e=>e&&"object"===typeof e&&"ok"in e&&"boolean"===typeof e.ok&&"status"in e&&"number"===typeof e.status,gk=(e,t)=>{const n=(null==t?void 0:t.id)||fk++;return pk.addToast(f(f({title:e},t),{},{id:n})),n},vk=Object.assign(gk,{success:pk.success,info:pk.info,warning:pk.warning,error:pk.error,custom:pk.custom,message:pk.message,promise:pk.promise,dismiss:pk.dismiss,loading:pk.loading},{getHistory:()=>pk.toasts,getToasts:()=>pk.getActiveToasts()});!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");Zl.registerPlugin(nh);const yk=e=>{let{profile:t}=e;const n=(0,a.useRef)(null),r=(0,a.useRef)(null),[i,o]=(0,a.useState)({name:"",email:"",message:""});(0,a.useEffect)(()=>{r.current&&Zl.from(r.current,{scrollTrigger:{trigger:r.current,start:"top bottom-=100",toggleActions:"play none none reverse"},opacity:0,y:50,duration:1,ease:"power3.out"})},[]);const s=e=>{o(f(f({},i),{},{[e.target.name]:e.target.value}))};return(0,Sh.jsx)("div",{ref:n,className:"min-h-screen py-20 px-6",style:{background:"linear-gradient(180deg, #1a1a2e 0%, #0a0a0f 100%)"},"data-testid":"contact-section",children:(0,Sh.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Sh.jsxs)("div",{className:"text-center mb-16",children:[(0,Sh.jsx)("h2",{className:"text-4xl sm:text-5xl font-bold gradient-text mb-4","data-testid":"contact-heading",children:"Get In Touch"}),(0,Sh.jsx)("p",{className:"text-gray-400 text-lg",children:"Let's work together on your next project"})]}),(0,Sh.jsxs)("div",{className:"grid md:grid-cols-2 gap-12",children:[(0,Sh.jsxs)("div",{className:"space-y-6","data-testid":"contact-info",children:[(0,Sh.jsx)("h3",{className:"text-2xl font-semibold text-white mb-8",children:"Contact Information"}),(null===t||void 0===t?void 0:t.email)&&(0,Sh.jsxs)("div",{className:"card flex items-start gap-4","data-testid":"contact-email-card",children:[(0,Sh.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 flex-shrink-0",children:(0,Sh.jsx)(_h,{size:24})}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"Email"}),(0,Sh.jsx)("a",{href:"mailto:".concat(t.email),className:"text-white hover:text-blue-400 transition-colors",children:t.email})]})]}),(null===t||void 0===t?void 0:t.phone)&&(0,Sh.jsxs)("div",{className:"card flex items-start gap-4","data-testid":"contact-phone-card",children:[(0,Sh.jsx)("div",{className:"w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center text-purple-400 flex-shrink-0",children:(0,Sh.jsx)(lk,{size:24})}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"Phone"}),(0,Sh.jsx)("a",{href:"tel:".concat(t.phone),className:"text-white hover:text-purple-400 transition-colors",children:t.phone})]})]}),(null===t||void 0===t?void 0:t.location)&&(0,Sh.jsxs)("div",{className:"card flex items-start gap-4","data-testid":"contact-location-card",children:[(0,Sh.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center text-green-400 flex-shrink-0",children:(0,Sh.jsx)(ck,{size:24})}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"Location"}),(0,Sh.jsx)("p",{className:"text-white",children:t.location})]})]}),(0,Sh.jsxs)("div",{className:"card mt-8","data-testid":"contact-availability",children:[(0,Sh.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:"Availability"}),(0,Sh.jsx)("p",{className:"text-gray-400",children:"I'm currently available for freelance work and exciting opportunities. Feel free to reach out!"})]})]}),(0,Sh.jsx)("div",{ref:r,children:(0,Sh.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!i.name||!i.email||!i.message)return void vk.error("Please fill in all fields");const n="mailto:".concat((null===t||void 0===t?void 0:t.email)||"contact@example.com","?subject=Contact from ").concat(i.name,"&body=").concat(i.message,"%0D%0A%0D%0AFrom: ").concat(i.name," (").concat(i.email,")");window.location.href=n,vk.success("Opening your email client..."),o({name:"",email:"",message:""})},className:"card space-y-6","data-testid":"contact-form",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)("label",{htmlFor:"name",className:"block text-gray-300 mb-2",children:"Name"}),(0,Sh.jsx)("input",{type:"text",id:"name",name:"name",value:i.name,onChange:s,className:"w-full px-4 py-3 rounded-lg bg-white/5 border border-white/10 text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"Your name","data-testid":"contact-name-input"})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)("label",{htmlFor:"email",className:"block text-gray-300 mb-2",children:"Email"}),(0,Sh.jsx)("input",{type:"email",id:"email",name:"email",value:i.email,onChange:s,className:"w-full px-4 py-3 rounded-lg bg-white/5 border border-white/10 text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"your@email.com","data-testid":"contact-email-input"})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)("label",{htmlFor:"message",className:"block text-gray-300 mb-2",children:"Message"}),(0,Sh.jsx)("textarea",{id:"message",name:"message",value:i.message,onChange:s,rows:6,className:"w-full px-4 py-3 rounded-lg bg-white/5 border border-white/10 text-white focus:border-blue-500 focus:outline-none transition-colors resize-none",placeholder:"Tell me about your project...","data-testid":"contact-message-input"})]}),(0,Sh.jsxs)("button",{type:"submit",className:"w-full btn-primary flex items-center justify-center gap-2","data-testid":"contact-submit-btn",children:[(0,Sh.jsx)(uk,{size:20}),"Send Message"]})]})})]}),(0,Sh.jsx)("div",{className:"mt-20 text-center text-gray-500","data-testid":"contact-footer",children:(0,Sh.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," ",(null===t||void 0===t?void 0:t.name)||"Charchit Singh Sahay",". All rights reserved."]})})]})})};Zl.registerPlugin(nh);const bk="".concat("https://my-portfolio-backend.onrender.com","/api"),xk=()=>{const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),c=(0,a.useRef)(null);(0,a.useEffect)(()=>{u()},[]),(0,a.useEffect)(()=>{const e=()=>{window.scrollY>.5*window.innerHeight&&!s&&l(!0)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[s]);const u=async()=>{try{const[e,n,i]=await Promise.all([oi.get("".concat(bk,"/profile")),oi.get("".concat(bk,"/projects")),oi.get("".concat(bk,"/experiences"))]);t(e.data),r(n.data),o(i.data)}catch(Rg){console.error("Error fetching data:",Rg)}};return(0,Sh.jsxs)("div",{className:"home-container",children:[(0,Sh.jsx)("div",{className:"noise-overlay"}),(0,Sh.jsx)("section",{ref:c,children:(0,Sh.jsx)(Mh,{profile:e})}),s&&(0,Sh.jsx)(ak,{}),(0,Sh.jsx)("section",{id:"experience","data-testid":"experience-section",children:(0,Sh.jsx)(Ph,{experiences:i})}),(0,Sh.jsx)("section",{id:"projects","data-testid":"projects-section",children:(0,Sh.jsx)(Th,{projects:n})}),(0,Sh.jsx)("section",{id:"about","data-testid":"about-section",children:(0,Sh.jsx)(sk,{profile:e})}),(0,Sh.jsx)("section",{id:"contact","data-testid":"contact-section",children:(0,Sh.jsx)(yk,{profile:e})})]})},_k=["_f"],wk=["name"],Sk=["_f"],Mk=["ref","message","type"],Ek=["formControl"];var Tk=e=>"checkbox"===e.type,Ck=e=>e instanceof Date,Ak=e=>null==e;const Rk=e=>"object"===typeof e;var Pk=e=>!Ak(e)&&!Array.isArray(e)&&Rk(e)&&!Ck(e),kk=e=>Pk(e)&&e.target?Tk(e.target)?e.target.checked:e.target.value:e,Nk=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),Lk="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Ik(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(Lk&&(e instanceof Blob||r)||!n&&!Pk(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return Pk(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ik(e[n]));else t=e}return t}var Ok=e=>/^\w*$/.test(e),Dk=e=>void 0===e,Fk=e=>Array.isArray(e)?e.filter(Boolean):[],Uk=e=>Fk(e.replace(/["|']|\]/g,"").split(/\.|\[/)),zk=(e,t,n)=>{if(!t||!Pk(e))return n;const r=(Ok(t)?[t]:Uk(t)).reduce((e,t)=>Ak(e)?e:e[t],e);return Dk(r)||r===e?Dk(e[t])?n:e[t]:r},Bk=e=>"boolean"===typeof e,jk=(e,t,n)=>{let r=-1;const i=Ok(t)?[t]:Uk(t),a=i.length,o=a-1;for(;++r<a;){const t=i[r];let a=n;if(r!==o){const n=e[t];a=Pk(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=a,e=e[t]}};const Vk="blur",Hk="focusout",Wk="onBlur",Gk="onChange",Xk="onSubmit",qk="onTouched",Yk="all",Zk="max",Kk="min",Jk="maxLength",$k="minLength",Qk="pattern",eN="required",tN="validate",nN=a.createContext(null);nN.displayName="HookFormContext";var rN=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const i=a;return t._proxyFormState[i]!==Yk&&(t._proxyFormState[i]=!r||Yk),n&&(n[i]=!0),e[i]}});return i};const iN="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;var aN=e=>"string"===typeof e,oN=(e,t,n,r,i)=>aN(e)?(r&&t.watch.add(e),zk(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),zk(n,e))):(r&&(t.watchAll=!0),n),sN=e=>Ak(e)||!Rk(e);function lN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(sN(e)||sN(t))return Object.is(e,t);if(Ck(e)&&Ck(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const r=e[a];if(!i.includes(a))return!1;if("ref"!==a){const e=t[a];if(Ck(r)&&Ck(e)||Pk(r)&&Pk(e)||Array.isArray(r)&&Array.isArray(e)?!lN(r,e,n):!Object.is(r,e))return!1}}return!0}var cN=(e,t,n,r,i)=>t?f(f({},n[e]),{},{types:f(f({},n[e]&&n[e].types?n[e].types:{}),{},{[r]:i||!0})}):{},uN=e=>Array.isArray(e)?e:[e],dN=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function hN(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],a=t[r];if(i&&Pk(i)&&a){const e=hN(i,a);Pk(e)&&(n[r]=e)}else e[r]&&(n[r]=a)}return n}var fN=e=>Pk(e)&&!Object.keys(e).length,pN=e=>"file"===e.type,mN=e=>"function"===typeof e,gN=e=>{if(!Lk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},vN=e=>"select-multiple"===e.type,yN=e=>"radio"===e.type,bN=e=>gN(e)&&e.isConnected;function xN(e,t){const n=Array.isArray(t)?t:Ok(t)?[t]:Uk(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Dk(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(Pk(r)&&fN(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Dk(e[t]))return!1;return!0}(r))&&xN(e,n.slice(0,-1)),e}function _N(e){return Array.isArray(e)||Pk(e)&&!(e=>{for(const t in e)if(mN(e[t]))return!0;return!1})(e)}function wN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n in e){const r=e[n];_N(r)?(t[n]=Array.isArray(r)?[]:{},wN(r,t[n])):Dk(r)||(t[n]=!0)}return t}function SN(e,t,n){n||(n=wN(t));for(const r in e){const i=e[r];if(_N(i))Dk(t)||sN(n[r])?n[r]=wN(i,Array.isArray(i)?[]:{}):SN(i,Ak(t)?{}:t[r],n[r]);else{const e=t[r];n[r]=!lN(i,e)}}return n}const MN={value:!1,isValid:!1},EN={value:!0,isValid:!0};var TN=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Dk(e[0].attributes.value)?Dk(e[0].value)||""===e[0].value?EN:{value:e[0].value,isValid:!0}:EN:MN}return MN},CN=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return Dk(e)?e:n?""===e?NaN:e?+e:e:r&&aN(e)?new Date(e):i?i(e):e};const AN={isValid:!1,value:null};var RN=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,AN):AN;function PN(e){const t=e.ref;return pN(t)?t.files:yN(t)?RN(e.refs).value:vN(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):Tk(t)?TN(e.refs).value:CN(Dk(t.value)?e.ref.value:t.value,e)}var kN=e=>e instanceof RegExp,NN=e=>Dk(e)?e:kN(e)?e.source:Pk(e)?kN(e.value)?e.value.source:e.value:e,LN=e=>({isOnSubmit:!e||e===Xk,isOnBlur:e===Wk,isOnChange:e===Gk,isOnAll:e===Yk,isOnTouch:e===qk});const IN="AsyncFunction";var ON=e=>!!e&&!!e.validate&&!!(mN(e.validate)&&e.validate.constructor.name===IN||Pk(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===IN)),DN=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const FN=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=zk(e,i);if(n){const{_f:e}=n,a=l(n,_k);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(FN(a,t))break}else if(Pk(a)&&FN(a,t))break}}};function UN(e,t,n){const r=zk(e,n);if(r||Ok(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),a=zk(t,r),o=zk(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};if(o&&o.root&&o.root.type)return{name:"".concat(r,".root"),error:o.root};i.pop()}return{name:n}}var zN=(e,t,n)=>{const r=uN(zk(e,n));return jk(r,"root",t[n]),jk(e,n,r),e};function BN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(aN(e)||Array.isArray(e)&&e.every(aN)||Bk(e)&&!e)return{type:n,message:aN(e)?e:"",ref:t}}var jN=e=>Pk(e)&&!kN(e)?e:{value:e,message:""},VN=async(e,t,n,r,i,a)=>{const{ref:o,refs:s,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:p,validate:m,name:g,valueAsNumber:v,mount:y}=e._f,b=zk(n,g);if(!y||t.has(g))return{};const x=s?s[0]:o,_=e=>{i&&x.reportValidity&&(x.setCustomValidity(Bk(e)?"":e||""),x.reportValidity())},w={},S=yN(o),M=Tk(o),E=S||M,T=(v||pN(o))&&Dk(o.value)&&Dk(b)||gN(o)&&""===o.value||""===b||Array.isArray(b)&&!b.length,C=cN.bind(null,g,r,w),A=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jk,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$k;const a=e?t:n;w[g]=f({type:e?r:i,message:a,ref:o},C(e?r:i,a))};if(a?!Array.isArray(b)||!b.length:l&&(!E&&(T||Ak(b))||Bk(b)&&!b||M&&!TN(s).isValid||S&&!RN(s).isValid)){const{value:e,message:t}=aN(l)?{value:!!l,message:l}:jN(l);if(e&&(w[g]=f({type:eN,message:t,ref:x},C(eN,t)),!r))return _(t),w}if(!T&&(!Ak(d)||!Ak(h))){let e,t;const n=jN(h),i=jN(d);if(Ak(b)||isNaN(b)){const r=o.valueAsDate||new Date(b),a=e=>new Date((new Date).toDateString()+" "+e),s="time"==o.type,l="week"==o.type;aN(n.value)&&b&&(e=s?a(b)>a(n.value):l?b>n.value:r>new Date(n.value)),aN(i.value)&&b&&(t=s?a(b)<a(i.value):l?b<i.value:r<new Date(i.value))}else{const r=o.valueAsNumber||(b?+b:b);Ak(n.value)||(e=r>n.value),Ak(i.value)||(t=r<i.value)}if((e||t)&&(A(!!e,n.message,i.message,Zk,Kk),!r))return _(w[g].message),w}if((c||u)&&!T&&(aN(b)||a&&Array.isArray(b))){const e=jN(c),t=jN(u),n=!Ak(e.value)&&b.length>+e.value,i=!Ak(t.value)&&b.length<+t.value;if((n||i)&&(A(n,e.message,t.message),!r))return _(w[g].message),w}if(p&&!T&&aN(b)){const{value:e,message:t}=jN(p);if(kN(e)&&!b.match(e)&&(w[g]=f({type:Qk,message:t,ref:o},C(Qk,t)),!r))return _(t),w}if(m)if(mN(m)){const e=BN(await m(b,n),x);if(e&&(w[g]=f(f({},e),C(tN,e.message)),!r))return _(e.message),w}else if(Pk(m)){let e={};for(const t in m){if(!fN(e)&&!r)break;const i=BN(await m[t](b,n),x,t);i&&(e=f(f({},i),C(t,i.message)),_(i.message),r&&(w[g]=e))}if(!fN(e)&&(w[g]=f({ref:x},e),!r))return w}return _(!0),w};const HN={mode:Xk,reValidateMode:Gk,shouldFocusError:!0};function WN(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=f(f({},HN),t),r={submitCount:0,isDirty:!1,isReady:!1,isLoading:mN(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},a=(Pk(n.defaultValues)||Pk(n.values))&&Ik(n.defaultValues||n.values)||{},o=n.shouldUnregister?{}:Ik(a),s={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h=f({},d);const p={array:dN(),state:dN()},m=n.criteriaMode===Yk,g=async e=>{if(!n.disabled&&(d.isValid||h.isValid||e)){const e=n.resolver?fN((await _()).errors):await w(i,!0);e!==r.isValid&&p.state.next({isValid:e})}},v=(e,t)=>{!n.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((e||Array.from(c.mount)).forEach(e=>{e&&(t?jk(r.validatingFields,e,t):xN(r.validatingFields,e))}),p.state.next({validatingFields:r.validatingFields,isValidating:!fN(r.validatingFields)}))},y=(e,t,n,r)=>{const l=zk(i,e);if(l){const i=zk(o,e,Dk(n)?zk(a,e):n);Dk(i)||r&&r.defaultChecked||t?jk(o,e,t?i:PN(l._f)):E(e,i),s.mount&&!s.action&&g()}},b=(e,t,i,o,s)=>{let l=!1,c=!1;const u={name:e};if(!n.disabled){if(!i||o){(d.isDirty||h.isDirty)&&(c=r.isDirty,r.isDirty=u.isDirty=S(),l=c!==u.isDirty);const n=lN(zk(a,e),t);c=!!zk(r.dirtyFields,e),n?xN(r.dirtyFields,e):jk(r.dirtyFields,e,!0),u.dirtyFields=r.dirtyFields,l=l||(d.dirtyFields||h.dirtyFields)&&c!==!n}if(i){const t=zk(r.touchedFields,e);t||(jk(r.touchedFields,e,i),u.touchedFields=r.touchedFields,l=l||(d.touchedFields||h.touchedFields)&&t!==i)}l&&s&&p.state.next(u)}return l?u:{}},x=(t,i,a,o)=>{const s=zk(r.errors,t),l=(d.isValid||h.isValid)&&Bk(i)&&r.isValid!==i;var c;if(n.delayError&&a?(c=()=>((e,t)=>{jk(r.errors,e,t),p.state.next({errors:r.errors})})(t,a),e=e=>{clearTimeout(u),u=setTimeout(c,e)},e(n.delayError)):(clearTimeout(u),e=null,a?jk(r.errors,t,a):xN(r.errors,t)),(a?!lN(s,a):s)||!fN(o)||l){const e=f(f(f({},o),l&&Bk(i)?{isValid:i}:{}),{},{errors:r.errors,name:t});r=f(f({},r),e),p.state.next(e)}},_=async e=>{v(e,!0);const t=await n.resolver(o,n.context,((e,t,n,r)=>{const i={};for(const a of e){const e=zk(t,a);e&&jk(i,a,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||c.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return v(e),t},w=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const a in e){const s=e[a];if(s){const{_f:e}=s,a=l(s,Sk);if(e){const a=c.array.has(e.name),l=s._f&&ON(s._f);l&&d.validatingFields&&v([e.name],!0);const u=await VN(s,c.disabled,o,m,n.shouldUseNativeValidation&&!t,a);if(l&&d.validatingFields&&v([e.name]),u[e.name]&&(i.valid=!1,t))break;!t&&(zk(u,e.name)?a?zN(r.errors,u,e.name):jk(r.errors,e.name,u[e.name]):xN(r.errors,e.name))}!fN(a)&&await w(a,t,i)}}return i.valid},S=(e,t)=>!n.disabled&&(e&&t&&jk(o,e,t),!lN(k(),a)),M=(e,t,n)=>oN(e,c,f({},s.mount?o:Dk(t)?a:aN(e)?{[e]:t}:t),n,t),E=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=zk(i,e);let a=t;if(r){const n=r._f;n&&(!n.disabled&&jk(o,e,CN(t,n)),a=gN(n.ref)&&Ak(t)?"":t,vN(n.ref)?[...n.ref.options].forEach(e=>e.selected=a.includes(e.value)):n.refs?Tk(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(a)?e.checked=!!a.find(t=>t===e.value):e.checked=a===e.value||!!a)}):n.refs.forEach(e=>e.checked=e.value===a):pN(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||p.state.next({name:e,values:Ik(o)})))}(n.shouldDirty||n.shouldTouch)&&b(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&P(e)},T=(e,t,n)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const a=t[r],o=e+"."+r,s=zk(i,o);(c.array.has(e)||Pk(a)||s&&!s._f)&&!Ck(a)?T(o,a,n):E(o,a,n)}},C=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=zk(i,e),u=c.array.has(e),m=Ik(t);jk(o,e,m),u?(p.array.next({name:e,values:Ik(o)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&n.shouldDirty&&p.state.next({name:e,dirtyFields:SN(a,o),isDirty:S(e,m)})):!l||l._f||Ak(m)?E(e,m,n):T(e,m,n),DN(e,c)&&p.state.next(f(f({},r),{},{name:e})),p.state.next({name:s.mount?e:void 0,values:Ik(o)})},A=async t=>{s.mount=!0;const a=t.target;let l=a.name,u=!0;const y=zk(i,l),S=e=>{u=Number.isNaN(e)||Ck(e)&&isNaN(e.getTime())||lN(e,zk(o,l,e))},M=LN(n.mode),E=LN(n.reValidateMode);if(y){let s,T;const C=a.type?PN(y._f):kk(t),A=t.type===Vk||t.type===Hk,R=!(e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate))(y._f)&&!n.resolver&&!zk(r.errors,l)&&!y._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(A,zk(r.touchedFields,l),r.isSubmitted,E,M),k=DN(l,c,A);jk(o,l,C),A?a&&a.readOnly||(y._f.onBlur&&y._f.onBlur(t),e&&e(0)):y._f.onChange&&y._f.onChange(t);const N=b(l,C,A),L=!fN(N)||k;if(!A&&p.state.next({name:l,type:t.type,values:Ik(o)}),R)return(d.isValid||h.isValid)&&("onBlur"===n.mode?A&&g():A||g()),L&&p.state.next(f({name:l},k?{}:N));if(!A&&k&&p.state.next(f({},r)),n.resolver){const{errors:e}=await _([l]);if(S(C),u){const t=UN(r.errors,i,l),n=UN(e,i,t.name||l);s=n.error,l=n.name,T=fN(e)}}else v([l],!0),s=(await VN(y,c.disabled,o,m,n.shouldUseNativeValidation))[l],v([l]),S(C),u&&(s?T=!1:(d.isValid||h.isValid)&&(T=await w(i,!0)));u&&(y._f.deps&&(!Array.isArray(y._f.deps)||y._f.deps.length>0)&&P(y._f.deps),x(l,T,s,N))}},R=(e,t)=>{if(zk(r.errors,t)&&e.focus)return e.focus(),1},P=async function(e){let t,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=uN(e);if(n.resolver){const n=await(async e=>{const{errors:t}=await _(e);if(e)for(const n of e){const e=zk(t,n);e?jk(r.errors,n,e):xN(r.errors,n)}else r.errors=t;return t})(Dk(e)?e:s);t=fN(n),a=e?!s.some(e=>zk(n,e)):t}else e?(a=(await Promise.all(s.map(async e=>{const t=zk(i,e);return await w(t&&t._f?{[e]:t}:t)}))).every(Boolean),(a||r.isValid)&&g()):a=t=await w(i);return p.state.next(f(f(f({},!aN(e)||(d.isValid||h.isValid)&&t!==r.isValid?{}:{name:e}),n.resolver||!e?{isValid:t}:{}),{},{errors:r.errors})),o.shouldFocus&&!a&&FN(i,R,e?s:c.mount),a},k=(e,t)=>{let n=f({},s.mount?o:a);return t&&(n=hN(t.dirtyFields?r.dirtyFields:r.touchedFields,n)),Dk(e)?n:aN(e)?zk(n,e):e.map(e=>zk(n,e))},N=(e,t)=>({invalid:!!zk((t||r).errors,e),isDirty:!!zk((t||r).dirtyFields,e),error:zk((t||r).errors,e),isValidating:!!zk(r.validatingFields,e),isTouched:!!zk((t||r).touchedFields,e)}),L=(e,t,n)=>{const a=(zk(i,e,{_f:{}})._f||{}).ref,o=zk(r.errors,e)||{},{ref:s,message:c,type:u}=o,d=l(o,Mk);jk(r.errors,e,f(f(f({},d),t),{},{ref:a})),p.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},I=e=>p.state.subscribe({next:t=>{var n,i,s;n=e.name,i=t.name,s=e.exact,n&&i&&n!==i&&!uN(n).some(e=>e&&(s?e===i:e.startsWith(i)||i.startsWith(e)))||!((e,t,n,r)=>{n(e);const{name:i}=e,a=l(e,wk);return fN(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(e=>t[e]===(!r||Yk))})(t,e.formState||d,V,e.reRenderRoot)||e.callback(f(f(f({values:f({},o)},r),t),{},{defaultValues:a}))}}).unsubscribe,O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const s of e?uN(e):c.mount)c.mount.delete(s),c.array.delete(s),t.keepValue||(xN(i,s),xN(o,s)),!t.keepError&&xN(r.errors,s),!t.keepDirty&&xN(r.dirtyFields,s),!t.keepTouched&&xN(r.touchedFields,s),!t.keepIsValidating&&xN(r.validatingFields,s),!n.shouldUnregister&&!t.keepDefaultValue&&xN(a,s);p.state.next({values:Ik(o)}),p.state.next(f(f({},r),t.keepDirty?{isDirty:S()}:{})),!t.keepIsValid&&g()},D=e=>{let{disabled:t,name:n}=e;(Bk(t)&&s.mount||t||c.disabled.has(n))&&(t?c.disabled.add(n):c.disabled.delete(n))},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=zk(i,e);const o=Bk(t.disabled)||Bk(n.disabled);return jk(i,e,f(f({},r||{}),{},{_f:f(f({},r&&r._f?r._f:{ref:{name:e}}),{},{name:e,mount:!0},t)})),c.mount.add(e),r?D({disabled:Bk(t.disabled)?t.disabled:n.disabled,name:e}):y(e,!0,t.value),f(f(f({},o?{disabled:t.disabled||n.disabled}:{}),n.progressive?{required:!!t.required,min:NN(t.min),max:NN(t.max),minLength:NN(t.minLength),maxLength:NN(t.maxLength),pattern:NN(t.pattern)}:{}),{},{name:e,onChange:A,onBlur:A,ref:o=>{if(o){F(e,t),r=zk(i,e);const n=Dk(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,s=(e=>yN(e)||Tk(e))(n),l=r._f.refs||[];if(s?l.find(e=>e===n):n===r._f.ref)return;jk(i,e,{_f:f(f({},r._f),s?{refs:[...l.filter(bN),n,...Array.isArray(zk(a,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n})}),y(e,!1,void 0,n)}else r=zk(i,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!Nk(c.array,e)||!s.action)&&c.unMount.add(e)}})},U=()=>n.shouldFocusError&&FN(i,R,c.mount),z=(e,t)=>async a=>{let s;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let l=Ik(o);if(p.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await _();r.errors=e,l=Ik(t)}else await w(i);if(c.disabled.size)for(const e of c.disabled)xN(l,e);if(xN(r.errors,"root"),fN(r.errors)){p.state.next({errors:{}});try{await e(l,a)}catch(Rg){s=Rg}}else t&&await t(f({},r.errors),a),U(),setTimeout(U);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fN(r.errors)&&!s,submitCount:r.submitCount+1,errors:r.errors}),s)throw s},B=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=e?Ik(e):a,u=Ik(l),h=fN(e),m=h?a:u;if(t.keepDefaultValues||(a=l),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...c.mount,...Object.keys(SN(a,o))]);for(const t of Array.from(e))zk(r.dirtyFields,t)?jk(m,t,zk(o,t)):C(t,zk(m,t))}else{if(Lk&&Dk(e))for(const e of c.mount){const t=zk(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(gN(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of c.mount)C(e,zk(m,e));else i={}}o=n.shouldUnregister?t.keepDefaultValues?Ik(a):{}:Ik(m),p.array.next({values:f({},m)}),p.state.next({values:f({},m)})}c={mount:t.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!n.shouldUnregister&&!fN(m),s.watch=!!n.shouldUnregister,s.action=!1,t.keepErrors||(r.errors={}),p.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!h&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||lN(e,a))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:h?{}:t.keepDirtyValues?t.keepDefaultValues&&o?SN(a,o):r.dirtyFields:t.keepDefaultValues&&e?SN(a,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:a})},j=(e,t)=>B(mN(e)?e(o):e,t),V=e=>{r=f(f({},r),e)},H={control:{register:F,unregister:O,getFieldState:N,handleSubmit:z,setError:L,_subscribe:I,_runSchema:_,_focusError:U,_getWatch:M,_getDirty:S,_setValid:g,_setFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&l&&!n.disabled){if(s.action=!0,f&&Array.isArray(zk(i,e))){const t=l(zk(i,e),c.argA,c.argB);u&&jk(i,e,t)}if(f&&Array.isArray(zk(r.errors,e))){const t=l(zk(r.errors,e),c.argA,c.argB);u&&jk(r.errors,e,t),((e,t)=>{!Fk(zk(e,t)).length&&xN(e,t)})(r.errors,e)}if((d.touchedFields||h.touchedFields)&&f&&Array.isArray(zk(r.touchedFields,e))){const t=l(zk(r.touchedFields,e),c.argA,c.argB);u&&jk(r.touchedFields,e,t)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=SN(a,o)),p.state.next({name:e,isDirty:S(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else jk(o,e,t)},_setDisabledField:D,_setErrors:e=>{r.errors=e,p.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>Fk(zk(s.mount?o:a,e,n.shouldUnregister?zk(a,e,[]):[])),_reset:B,_resetDefaultValues:()=>mN(n.defaultValues)&&n.defaultValues().then(e=>{j(e,n.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of c.unMount){const t=zk(i,e);t&&(t._f.refs?t._f.refs.every(e=>!bN(e)):!bN(t._f.ref))&&O(e)}c.unMount=new Set},_disableForm:e=>{Bk(e)&&(p.state.next({disabled:e}),FN(i,(t,n)=>{const r=zk(i,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:p,_proxyFormState:d,get _fields(){return i},get _formValues(){return o},get _state(){return s},set _state(e){s=e},get _defaultValues(){return a},get _names(){return c},set _names(e){c=e},get _formState(){return r},get _options(){return n},set _options(e){n=f(f({},n),e)}},subscribe:e=>(s.mount=!0,h=f(f({},h),e.formState),I(f(f({},e),{},{formState:h}))),trigger:P,register:F,handleSubmit:z,watch:(e,t)=>mN(e)?p.state.subscribe({next:n=>"values"in n&&e(M(void 0,t),n)}):M(e,t,!0),setValue:C,getValues:k,reset:j,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zk(i,e)&&(Dk(t.defaultValue)?C(e,Ik(zk(a,e))):(C(e,t.defaultValue),jk(a,e,Ik(t.defaultValue))),t.keepTouched||xN(r.touchedFields,e),t.keepDirty||(xN(r.dirtyFields,e),r.isDirty=t.defaultValue?S(e,Ik(zk(a,e))):S()),t.keepError||(xN(r.errors,e),d.isValid&&g()),p.state.next(f({},r)))},clearErrors:e=>{e&&uN(e).forEach(e=>xN(r.errors,e)),p.state.next({errors:e?r.errors:{}})},unregister:O,setError:L,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=zk(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&mN(e.select)&&e.select())}},getFieldState:N};return f(f({},H),{},{formControl:H})}function GN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=a.useRef(void 0),n=a.useRef(void 0),[r,i]=a.useState({isDirty:!1,isValidating:!1,isLoading:mN(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:mN(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=f(f({},e.formControl),{},{formState:r}),e.defaultValues&&!mN(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const n=WN(e),{formControl:i}=n,a=l(n,Ek);t.current=f(f({},a),{},{formState:r})}const o=t.current.control;return o._options=e,iN(()=>{const e=o._subscribe({formState:o._proxyFormState,callback:()=>i(f({},o._formState)),reRenderRoot:!0});return i(e=>f(f({},e),{},{isReady:!0})),o._formState.isReady=!0,e},[o]),a.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),a.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),a.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),a.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),a.useEffect(()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==r.isDirty&&o._subjects.state.next({isDirty:e})}},[o,r.isDirty]),a.useEffect(()=>{var t;e.values&&!lN(e.values,n.current)?(o._reset(e.values,f({keepFieldsRef:!0},o._options.resetOptions)),(null===(t=o._options.resetOptions)||void 0===t?void 0:t.keepIsValid)||o._setValid(),n.current=e.values,i(e=>f({},e))):o._resetDefaultValues()},[o,e.values]),a.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(f({},o._formState))),o._removeUnmounted()}),t.current.formState=rN(r,o),t.current}const XN=(e,t,n)=>{if(e&&"reportValidity"in e){const r=zk(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},qN=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?XN(r.ref,n,e):r&&r.refs&&r.refs.forEach(t=>XN(t,n,e))}},YN=(e,t)=>{t.shouldUseNativeValidation&&qN(e,t);const n={};for(const r in e){const i=zk(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(ZN(t.names||Object.keys(e),r)){const e=Object.assign({},zk(n,r));jk(e,"root",a),jk(n,r,e)}else jk(n,r,a)}return n},ZN=(e,t)=>{const n=KN(t);return e.some(e=>KN(e).match("^".concat(n,"\\.\\d+")))};function KN(e){return e.replace(/\]|\[/g,"")}Object.freeze({status:"aborted"});function JN(e,t,n){var r;function i(n,r){var i,a,o;Object.defineProperty(n,"_zod",{value:null!==(i=n._zod)&&void 0!==i?i:{},enumerable:!1}),null!==(a=(o=n._zod).traits)&&void 0!==a||(o.traits=new Set),n._zod.traits.add(e),t(n,r);for(const e in s.prototype)e in n||Object.defineProperty(n,e,{value:s.prototype[e].bind(n)});n._zod.constr=s,n._zod.def=r}const a=null!==(r=null===n||void 0===n?void 0:n.Parent)&&void 0!==r?r:Object;class o extends a{}function s(e){var t,r;const a=null!==n&&void 0!==n&&n.Parent?new o:this;i(a,e),null!==(t=(r=a._zod).deferred)&&void 0!==t||(r.deferred=[]);for(const n of a._zod.deferred)n();return a}return Object.defineProperty(o,"name",{value:e}),Object.defineProperty(s,"init",{value:i}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>{var r;return!!(null!==n&&void 0!==n&&n.Parent&&t instanceof n.Parent)||(null===t||void 0===t||null===(r=t._zod)||void 0===r||null===(r=r.traits)||void 0===r?void 0:r.has(e))}}),Object.defineProperty(s,"name",{value:e}),s}Symbol("zod_brand");class $N extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const QN={};function eL(e){return e&&Object.assign(QN,e),QN}function tL(e,t){return"bigint"===typeof t?t.toString():t}const nL=Error.captureStackTrace?Error.captureStackTrace:function(){};rL=()=>{var e;if("undefined"!==typeof navigator&&null!==(e=navigator)&&void 0!==e&&null!==(e=e.userAgent)&&void 0!==e&&e.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(t){return!1}};var rL;new Set(["string","number","symbol"]),new Set(["string","number","bigint","boolean","symbol","undefined"]);Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_VALUE,Number.MAX_VALUE;function iL(e){return"string"===typeof e?e:null===e||void 0===e?void 0:e.message}function aL(e,t,n){var r;const i=f(f({},e),{},{path:null!==(r=e.path)&&void 0!==r?r:[]});if(!e.message){var a,o,s,l,c,u,d,h,p;const r=null!==(a=null!==(o=null!==(s=null!==(l=iL(null===(c=e.inst)||void 0===c||null===(c=c._zod.def)||void 0===c||null===(u=c.error)||void 0===u?void 0:u.call(c,e)))&&void 0!==l?l:iL(null===t||void 0===t||null===(d=t.error)||void 0===d?void 0:d.call(t,e)))&&void 0!==s?s:iL(null===(h=n.customError)||void 0===h?void 0:h.call(n,e)))&&void 0!==o?o:iL(null===(p=n.localeError)||void 0===p?void 0:p.call(n,e)))&&void 0!==a?a:"Invalid input";i.message=r}return delete i.inst,delete i.continue,null!==t&&void 0!==t&&t.reportInput||delete i.input,i}const oL=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(t,tL,2),enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},sL=JN("$ZodError",oL),lL=JN("$ZodError",oL,{Parent:Error});const cL=(e=>(t,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new $N;if(o.issues.length){var s;const t=new(null!==(s=null===i||void 0===i?void 0:i.Err)&&void 0!==s?s:e)(o.issues.map(e=>aL(e,a,eL())));throw nL(t,null===i||void 0===i?void 0:i.callee),t}return o.value})(lL),uL=(e=>async(t,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){var s;const t=new(null!==(s=null===i||void 0===i?void 0:i.Err)&&void 0!==s?s:e)(o.issues.map(e=>aL(e,a,eL())));throw nL(t,null===i||void 0===i?void 0:i.callee),t}return o.value})(lL);function dL(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function hL(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var s=r.unionErrors[0].errors[0];n[o]={message:s.message,type:s.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=n[o].types,c=l&&l[r.code];n[o]=cN(o,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function fL(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("invalid_union"===r.code&&r.errors.length>0){var s=r.errors[0][0];n[o]={message:s.message,type:s.code}}else n[o]={message:a,type:i};if("invalid_union"===r.code&&r.errors.forEach(function(t){return t.forEach(function(t){return e.push(t)})}),t){var l=n[o].types,c=l&&l[r.code];n[o]=cN(o,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function pL(e,t,n){if(void 0===n&&(n={}),function(e){return"_def"in e&&"object"==typeof e._def&&"typeName"in e._def}(e))return function(r,i,a){try{return Promise.resolve(dL(function(){return Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](r,t)).then(function(e){return a.shouldUseNativeValidation&&qN({},a),{errors:{},values:n.raw?Object.assign({},r):e}})},function(e){if(function(e){return Array.isArray(null==e?void 0:e.issues)}(e))return{values:{},errors:YN(hL(e.errors,!a.shouldUseNativeValidation&&"all"===a.criteriaMode),a)};throw e}))}catch(XN){return Promise.reject(XN)}};if(function(e){return"_zod"in e&&"object"==typeof e._zod}(e))return function(r,i,a){try{return Promise.resolve(dL(function(){return Promise.resolve(("sync"===n.mode?cL:uL)(e,r,t)).then(function(e){return a.shouldUseNativeValidation&&qN({},a),{errors:{},values:n.raw?Object.assign({},r):e}})},function(e){if(function(e){return e instanceof sL}(e))return{values:{},errors:YN(fL(e.issues,!a.shouldUseNativeValidation&&"all"===a.criteriaMode),a)};throw e}))}catch(XN){return Promise.reject(XN)}};throw new Error("Invalid input: not a Zod schema")}var mL,gL;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(e=>"number"!==typeof t[t[e]]),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map(e=>"string"===typeof e?"'".concat(e,"'"):e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(mL||(mL={})),function(e){e.mergeShapes=(e,t)=>f(f({},e),t)}(gL||(gL={}));const vL=mL.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),yL=e=>{switch(typeof e){case"undefined":return vL.undefined;case"string":return vL.string;case"number":return Number.isNaN(e)?vL.nan:vL.number;case"boolean":return vL.boolean;case"function":return vL.function;case"bigint":return vL.bigint;case"symbol":return vL.symbol;case"object":return Array.isArray(e)?vL.array:null===e?vL.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?vL.promise:"undefined"!==typeof Map&&e instanceof Map?vL.map:"undefined"!==typeof Set&&e instanceof Set?vL.set:"undefined"!==typeof Date&&e instanceof Date?vL.date:vL.object;default:return vL.unknown}},bL=mL.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xL extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof xL))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,mL.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)if(r.path.length>0){const n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}xL.create=e=>new xL(e);const _L=(e,t)=>{let n;switch(e.code){case bL.invalid_type:n=e.received===vL.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case bL.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,mL.jsonStringifyReplacer));break;case bL.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(mL.joinValues(e.keys,", "));break;case bL.invalid_union:n="Invalid input";break;case bL.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(mL.joinValues(e.options));break;case bL.invalid_enum_value:n="Invalid enum value. Expected ".concat(mL.joinValues(e.options),", received '").concat(e.received,"'");break;case bL.invalid_arguments:n="Invalid function arguments";break;case bL.invalid_return_type:n="Invalid function return type";break;case bL.invalid_date:n="Invalid date";break;case bL.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):mL.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case bL.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type||"bigint"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case bL.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case bL.custom:n="Invalid input";break;case bL.invalid_intersection_types:n="Intersection results could not be merged";break;case bL.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case bL.not_finite:n="Number must be finite";break;default:n=t.defaultError,mL.assertNever(e)}return{message:n}};let wL=_L;function SL(){return wL}var ML;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(ML||(ML={}));const EL=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o=f(f({},i),{},{path:a});if(void 0!==i.message)return f(f({},i),{},{path:a,message:i.message});let s="";const l=r.filter(e=>!!e).slice().reverse();for(const c of l)s=c(o,{data:t,defaultError:s}).message;return f(f({},i),{},{path:a,message:s})};function TL(e,t){const n=SL(),r=EL({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===_L?void 0:_L].filter(e=>!!e)});e.common.issues.push(r)}class CL{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return AL;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return CL.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return AL;if("aborted"===i.status)return AL;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const AL=Object.freeze({status:"aborted"}),RL=e=>({status:"dirty",value:e}),PL=e=>({status:"valid",value:e}),kL=e=>"aborted"===e.status,NL=e=>"dirty"===e.status,LL=e=>"valid"===e.status,IL=e=>"undefined"!==typeof Promise&&e instanceof Promise;class OL{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const DL=(e,t)=>{if(LL(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new xL(e.common.issues);return this._error=t,this._error}}};function FL(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(t,i)=>{var a;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!==o&&void 0!==o?o:i.defaultError}:"undefined"===typeof i.data?{message:null!==(s=null!==o&&void 0!==o?o:r)&&void 0!==s?s:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(a=null!==o&&void 0!==o?o:n)&&void 0!==a?a:i.defaultError};var s},description:i}}class UL{get description(){return this._def.description}_getType(e){return yL(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:yL(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new CL,ctx:{common:e.parent.common,data:e.data,parsedType:yL(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(IL(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yL(e)},i=this._parseSync({data:e,path:r.path,parent:r});return DL(r,i)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yL(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return LL(n)?{value:n.value}:{issues:t.common.issues}}catch(r){var n;null!==r&&void 0!==r&&null!==(n=r.message)&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>LL(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yL(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(IL(r)?r:Promise.resolve(r));return DL(n,i)}refine(e,t){return this._refinement((n,r)=>{const i=e(n),a=()=>r.addIssue(f({code:bL.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(n)));return"undefined"!==typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1))}_refinement(e){return new DI({schema:this,typeName:GI.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return FI.create(this,this._def)}nullable(){return UI.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _I.create(this)}promise(){return OI.create(this,this._def)}or(e){return MI.create([this,e],this._def)}and(e){return TI.create(this,e,this._def)}transform(e){return new DI(f(f({},FL(this._def)),{},{schema:this,typeName:GI.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new zI(f(f({},FL(this._def)),{},{innerType:this,defaultValue:t,typeName:GI.ZodDefault}))}brand(){return new VI(f({typeName:GI.ZodBranded,type:this},FL(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new BI(f(f({},FL(this._def)),{},{innerType:this,catchValue:t,typeName:GI.ZodCatch}))}describe(e){return new(0,this.constructor)(f(f({},this._def),{},{description:e}))}pipe(e){return HI.create(this,e)}readonly(){return WI.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zL=/^c[^\s-]{8,}$/i,BL=/^[0-9a-z]+$/,jL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,VL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,HL=/^[a-z0-9_-]{21}$/i,WL=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,XL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let qL;const YL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ZL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,KL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,JL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$L=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,QL=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tI=new RegExp("^".concat(eI,"$"));function nI(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function rI(e){return new RegExp("^".concat(nI(e),"$"))}function iI(e){let t="".concat(eI,"T").concat(nI(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function aI(e,t){return!("v4"!==t&&t||!YL.test(e))||!("v6"!==t&&t||!KL.test(e))}function oI(e,t){if(!WL.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return"object"===typeof i&&null!==i&&((!("typ"in i)||"JWT"===(null===i||void 0===i?void 0:i.typ))&&(!!i.alg&&(!t||i.alg===t)))}catch(n){return!1}}function sI(e,t){return!("v4"!==t&&t||!ZL.test(e))||!("v6"!==t&&t||!JL.test(e))}class lI extends UL{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==vL.string){const t=this._getOrReturnCtx(e);return TL(t,{code:bL.invalid_type,expected:vL.string,received:t.parsedType}),AL}const t=new CL;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),TL(n,{code:bL.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),TL(n,{code:bL.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,a=e.data.length<i.value;(r||a)&&(n=this._getOrReturnCtx(e,n),r?TL(n,{code:bL.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&TL(n,{code:bL.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)XL.test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"email",code:bL.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)qL||(qL=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),qL.test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"emoji",code:bL.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)VL.test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"uuid",code:bL.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)HL.test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"nanoid",code:bL.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)zL.test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"cuid",code:bL.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)BL.test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"cuid2",code:bL.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)jL.test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"ulid",code:bL.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),TL(n,{validation:"url",code:bL.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"regex",code:bL.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),TL(n,{code:bL.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),TL(n,{code:bL.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),TL(n,{code:bL.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){iI(i).test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{code:bL.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){tI.test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{code:bL.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){rI(i).test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{code:bL.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?GL.test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"duration",code:bL.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?aI(e.data,i.version)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"ip",code:bL.invalid_string,message:i.message}),t.dirty()):"jwt"===i.kind?oI(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"jwt",code:bL.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?sI(e.data,i.version)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"cidr",code:bL.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?$L.test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"base64",code:bL.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?QL.test(e.data)||(n=this._getOrReturnCtx(e,n),TL(n,{validation:"base64url",code:bL.invalid_string,message:i.message}),t.dirty()):mL.assertNever(i);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),f({validation:t,code:bL.invalid_string},ML.errToObj(n)))}_addCheck(e){return new lI(f(f({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(f({kind:"email"},ML.errToObj(e)))}url(e){return this._addCheck(f({kind:"url"},ML.errToObj(e)))}emoji(e){return this._addCheck(f({kind:"emoji"},ML.errToObj(e)))}uuid(e){return this._addCheck(f({kind:"uuid"},ML.errToObj(e)))}nanoid(e){return this._addCheck(f({kind:"nanoid"},ML.errToObj(e)))}cuid(e){return this._addCheck(f({kind:"cuid"},ML.errToObj(e)))}cuid2(e){return this._addCheck(f({kind:"cuid2"},ML.errToObj(e)))}ulid(e){return this._addCheck(f({kind:"ulid"},ML.errToObj(e)))}base64(e){return this._addCheck(f({kind:"base64"},ML.errToObj(e)))}base64url(e){return this._addCheck(f({kind:"base64url"},ML.errToObj(e)))}jwt(e){return this._addCheck(f({kind:"jwt"},ML.errToObj(e)))}ip(e){return this._addCheck(f({kind:"ip"},ML.errToObj(e)))}cidr(e){return this._addCheck(f({kind:"cidr"},ML.errToObj(e)))}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(f({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n},ML.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(f({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},ML.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck(f({kind:"duration"},ML.errToObj(e)))}regex(e,t){return this._addCheck(f({kind:"regex",regex:e},ML.errToObj(t)))}includes(e,t){return this._addCheck(f({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},ML.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck(f({kind:"startsWith",value:e},ML.errToObj(t)))}endsWith(e,t){return this._addCheck(f({kind:"endsWith",value:e},ML.errToObj(t)))}min(e,t){return this._addCheck(f({kind:"min",value:e},ML.errToObj(t)))}max(e,t){return this._addCheck(f({kind:"max",value:e},ML.errToObj(t)))}length(e,t){return this._addCheck(f({kind:"length",value:e},ML.errToObj(t)))}nonempty(e){return this.min(1,ML.errToObj(e))}trim(){return new lI(f(f({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new lI(f(f({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new lI(f(f({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function cI(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}lI.create=e=>{var t;return new lI(f({checks:[],typeName:GI.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},FL(e)))};class uI extends UL{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==vL.number){const t=this._getOrReturnCtx(e);return TL(t,{code:bL.invalid_type,expected:vL.number,received:t.parsedType}),AL}let t;const n=new CL;for(const r of this._def.checks)if("int"===r.kind)mL.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),TL(t,{code:bL.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),TL(t,{code:bL.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),TL(t,{code:bL.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==cI(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),TL(t,{code:bL.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),TL(t,{code:bL.not_finite,message:r.message}),n.dirty()):mL.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ML.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ML.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ML.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ML.toString(t))}setLimit(e,t,n,r){return new uI(f(f({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ML.toString(r)}]}))}_addCheck(e){return new uI(f(f({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:ML.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ML.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ML.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ML.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ML.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ML.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ML.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ML.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ML.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&mL.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}uI.create=e=>new uI(f({checks:[],typeName:GI.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},FL(e)));class dI extends UL{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==vL.bigint)return this._getInvalidInput(e);let t;const n=new CL;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),TL(t,{code:bL.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),TL(t,{code:bL.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),TL(t,{code:bL.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):mL.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return TL(t,{code:bL.invalid_type,expected:vL.bigint,received:t.parsedType}),AL}gte(e,t){return this.setLimit("min",e,!0,ML.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ML.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ML.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ML.toString(t))}setLimit(e,t,n,r){return new dI(f(f({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ML.toString(r)}]}))}_addCheck(e){return new dI(f(f({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ML.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ML.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ML.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ML.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ML.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}dI.create=e=>{var t;return new dI(f({checks:[],typeName:GI.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},FL(e)))};class hI extends UL{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==vL.boolean){const t=this._getOrReturnCtx(e);return TL(t,{code:bL.invalid_type,expected:vL.boolean,received:t.parsedType}),AL}return PL(e.data)}}hI.create=e=>new hI(f({typeName:GI.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},FL(e)));class fI extends UL{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==vL.date){const t=this._getOrReturnCtx(e);return TL(t,{code:bL.invalid_type,expected:vL.date,received:t.parsedType}),AL}if(Number.isNaN(e.data.getTime())){return TL(this._getOrReturnCtx(e),{code:bL.invalid_date}),AL}const t=new CL;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),TL(n,{code:bL.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),TL(n,{code:bL.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):mL.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new fI(f(f({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ML.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ML.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}fI.create=e=>new fI(f({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:GI.ZodDate},FL(e)));class pI extends UL{_parse(e){if(this._getType(e)!==vL.symbol){const t=this._getOrReturnCtx(e);return TL(t,{code:bL.invalid_type,expected:vL.symbol,received:t.parsedType}),AL}return PL(e.data)}}pI.create=e=>new pI(f({typeName:GI.ZodSymbol},FL(e)));class mI extends UL{_parse(e){if(this._getType(e)!==vL.undefined){const t=this._getOrReturnCtx(e);return TL(t,{code:bL.invalid_type,expected:vL.undefined,received:t.parsedType}),AL}return PL(e.data)}}mI.create=e=>new mI(f({typeName:GI.ZodUndefined},FL(e)));class gI extends UL{_parse(e){if(this._getType(e)!==vL.null){const t=this._getOrReturnCtx(e);return TL(t,{code:bL.invalid_type,expected:vL.null,received:t.parsedType}),AL}return PL(e.data)}}gI.create=e=>new gI(f({typeName:GI.ZodNull},FL(e)));class vI extends UL{constructor(){super(...arguments),this._any=!0}_parse(e){return PL(e.data)}}vI.create=e=>new vI(f({typeName:GI.ZodAny},FL(e)));class yI extends UL{constructor(){super(...arguments),this._unknown=!0}_parse(e){return PL(e.data)}}yI.create=e=>new yI(f({typeName:GI.ZodUnknown},FL(e)));class bI extends UL{_parse(e){const t=this._getOrReturnCtx(e);return TL(t,{code:bL.invalid_type,expected:vL.never,received:t.parsedType}),AL}}bI.create=e=>new bI(f({typeName:GI.ZodNever},FL(e)));class xI extends UL{_parse(e){if(this._getType(e)!==vL.undefined){const t=this._getOrReturnCtx(e);return TL(t,{code:bL.invalid_type,expected:vL.void,received:t.parsedType}),AL}return PL(e.data)}}xI.create=e=>new xI(f({typeName:GI.ZodVoid},FL(e)));class _I extends UL{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==vL.array)return TL(t,{code:bL.invalid_type,expected:vL.array,received:t.parsedType}),AL;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(TL(t,{code:e?bL.too_big:bL.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(TL(t,{code:bL.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(TL(t,{code:bL.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new OL(t,e,t.path,n)))).then(e=>CL.mergeArray(n,e));const i=[...t.data].map((e,n)=>r.type._parseSync(new OL(t,e,t.path,n)));return CL.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new _I(f(f({},this._def),{},{minLength:{value:e,message:ML.toString(t)}}))}max(e,t){return new _I(f(f({},this._def),{},{maxLength:{value:e,message:ML.toString(t)}}))}length(e,t){return new _I(f(f({},this._def),{},{exactLength:{value:e,message:ML.toString(t)}}))}nonempty(e){return this.min(1,e)}}function wI(e){if(e instanceof SI){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=FI.create(wI(r))}return new SI(f(f({},e._def),{},{shape:()=>t}))}return e instanceof _I?new _I(f(f({},e._def),{},{type:wI(e.element)})):e instanceof FI?FI.create(wI(e.unwrap())):e instanceof UI?UI.create(wI(e.unwrap())):e instanceof CI?CI.create(e.items.map(e=>wI(e))):e}_I.create=(e,t)=>new _I(f({type:e,minLength:null,maxLength:null,exactLength:null,typeName:GI.ZodArray},FL(t)));class SI extends UL{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=mL.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==vL.object){const t=this._getOrReturnCtx(e);return TL(t,{code:bL.invalid_type,expected:vL.object,received:t.parsedType}),AL}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof bI&&"strip"===this._def.unknownKeys))for(const s in n.data)i.includes(s)||a.push(s);const o=[];for(const s of i){const e=r[s],t=n.data[s];o.push({key:{status:"valid",value:s},value:e._parse(new OL(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof bI){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)o.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)a.length>0&&(TL(n,{code:bL.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new OL(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of o){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>CL.mergeObjectSync(t,e)):CL.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return ML.errToObj,new SI(f(f({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,n)=>{var r,i,a,o;const s=null!==(r=null===(i=(a=this._def).errorMap)||void 0===i?void 0:i.call(a,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=ML.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}))}strip(){return new SI(f(f({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new SI(f(f({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new SI(f(f({},this._def),{},{shape:()=>f(f({},this._def.shape()),e)}))}merge(e){return new SI({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>f(f({},this._def.shape()),e._def.shape()),typeName:GI.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new SI(f(f({},this._def),{},{catchall:e}))}pick(e){const t={};for(const n of mL.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new SI(f(f({},this._def),{},{shape:()=>t}))}omit(e){const t={};for(const n of mL.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new SI(f(f({},this._def),{},{shape:()=>t}))}deepPartial(){return wI(this)}partial(e){const t={};for(const n of mL.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new SI(f(f({},this._def),{},{shape:()=>t}))}required(e){const t={};for(const n of mL.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof FI;)e=e._def.innerType;t[n]=e}return new SI(f(f({},this._def),{},{shape:()=>t}))}keyof(){return NI(mL.objectKeys(this.shape))}}SI.create=(e,t)=>new SI(f({shape:()=>e,unknownKeys:"strip",catchall:bI.create(),typeName:GI.ZodObject},FL(t))),SI.strictCreate=(e,t)=>new SI(f({shape:()=>e,unknownKeys:"strict",catchall:bI.create(),typeName:GI.ZodObject},FL(t))),SI.lazycreate=(e,t)=>new SI(f({shape:e,unknownKeys:"strip",catchall:bI.create(),typeName:GI.ZodObject},FL(t)));class MI extends UL{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n=f(f({},t),{},{common:f(f({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map(e=>new xL(e.ctx.common.issues));return TL(t,{code:bL.invalid_union,unionErrors:n}),AL});{let e;const r=[];for(const a of n){const n=f(f({},t),{},{common:f(f({},t.common),{},{issues:[]}),parent:null}),i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map(e=>new xL(e));return TL(t,{code:bL.invalid_union,unionErrors:i}),AL}}get options(){return this._def.options}}MI.create=(e,t)=>new MI(f({options:e,typeName:GI.ZodUnion},FL(t)));function EI(e,t){const n=yL(e),r=yL(t);if(e===t)return{valid:!0,data:e};if(n===vL.object&&r===vL.object){const n=mL.objectKeys(t),r=mL.objectKeys(e).filter(e=>-1!==n.indexOf(e)),i=f(f({},e),t);for(const a of r){const n=EI(e[a],t[a]);if(!n.valid)return{valid:!1};i[a]=n.data}return{valid:!0,data:i}}if(n===vL.array&&r===vL.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=EI(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===vL.date&&r===vL.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class TI extends UL{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(kL(e)||kL(r))return AL;const i=EI(e.value,r.value);return i.valid?((NL(e)||NL(r))&&t.dirty(),{status:t.value,value:i.data}):(TL(n,{code:bL.invalid_intersection_types}),AL)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(e=>{let[t,n]=e;return r(t,n)}):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}TI.create=(e,t,n)=>new TI(f({left:e,right:t,typeName:GI.ZodIntersection},FL(n)));class CI extends UL{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==vL.array)return TL(n,{code:bL.invalid_type,expected:vL.array,received:n.parsedType}),AL;if(n.data.length<this._def.items.length)return TL(n,{code:bL.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),AL;!this._def.rest&&n.data.length>this._def.items.length&&(TL(n,{code:bL.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new OL(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>CL.mergeArray(t,e)):CL.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new CI(f(f({},this._def),{},{rest:e}))}}CI.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new CI(f({items:e,typeName:GI.ZodTuple,rest:null},FL(t)))};class AI extends UL{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==vL.map)return TL(n,{code:bL.invalid_type,expected:vL.map,received:n.parsedType}),AL;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map((e,t)=>{let[a,o]=e;return{key:r._parse(new OL(n,a,n.path,[t,"key"])),value:i._parse(new OL(n,o,n.path,[t,"value"]))}});if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of a){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return AL;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of a){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return AL;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}AI.create=(e,t,n)=>new AI(f({valueType:t,keyType:e,typeName:GI.ZodMap},FL(n)));class RI extends UL{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==vL.set)return TL(n,{code:bL.invalid_type,expected:vL.set,received:n.parsedType}),AL;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(TL(n,{code:bL.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(TL(n,{code:bL.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return AL;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map((e,t)=>i._parse(new OL(n,e,n.path,t)));return n.common.async?Promise.all(o).then(e=>a(e)):a(o)}min(e,t){return new RI(f(f({},this._def),{},{minSize:{value:e,message:ML.toString(t)}}))}max(e,t){return new RI(f(f({},this._def),{},{maxSize:{value:e,message:ML.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}RI.create=(e,t)=>new RI(f({valueType:e,minSize:null,maxSize:null,typeName:GI.ZodSet},FL(t)));class PI extends UL{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}PI.create=(e,t)=>new PI(f({getter:e,typeName:GI.ZodLazy},FL(t)));class kI extends UL{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return TL(t,{received:t.data,code:bL.invalid_literal,expected:this._def.value}),AL}return{status:"valid",value:e.data}}get value(){return this._def.value}}function NI(e,t){return new LI(f({values:e,typeName:GI.ZodEnum},FL(t)))}kI.create=(e,t)=>new kI(f({value:e,typeName:GI.ZodLiteral},FL(t)));class LI extends UL{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return TL(t,{expected:mL.joinValues(n),received:t.parsedType,code:bL.invalid_type}),AL}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return TL(t,{received:t.data,code:bL.invalid_enum_value,options:n}),AL}return PL(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return LI.create(e,f(f({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return LI.create(this.options.filter(t=>!e.includes(t)),f(f({},this._def),t))}}LI.create=NI;class II extends UL{_parse(e){const t=mL.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==vL.string&&n.parsedType!==vL.number){const e=mL.objectValues(t);return TL(n,{expected:mL.joinValues(e),received:n.parsedType,code:bL.invalid_type}),AL}if(this._cache||(this._cache=new Set(mL.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=mL.objectValues(t);return TL(n,{received:n.data,code:bL.invalid_enum_value,options:e}),AL}return PL(e.data)}get enum(){return this._def.values}}II.create=(e,t)=>new II(f({values:e,typeName:GI.ZodNativeEnum},FL(t)));class OI extends UL{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==vL.promise&&!1===t.common.async)return TL(t,{code:bL.invalid_type,expected:vL.promise,received:t.parsedType}),AL;const n=t.parsedType===vL.promise?t.data:Promise.resolve(t.data);return PL(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}OI.create=(e,t)=>new OI(f({type:e,typeName:GI.ZodPromise},FL(t)));class DI extends UL{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===GI.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{TL(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return AL;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?AL:"dirty"===r.status||"dirty"===t.value?RL(r.value):r});{if("aborted"===t.value)return AL;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?AL:"dirty"===r.status||"dirty"===t.value?RL(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?AL:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?AL:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!LL(e))return AL;const a=r.transform(e.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>LL(e)?Promise.resolve(r.transform(e.value,i)).then(e=>({status:t.value,value:e})):AL)}mL.assertNever(r)}}DI.create=(e,t,n)=>new DI(f({schema:e,typeName:GI.ZodEffects,effect:t},FL(n))),DI.createWithPreprocess=(e,t,n)=>new DI(f({schema:t,effect:{type:"preprocess",transform:e},typeName:GI.ZodEffects},FL(n)));class FI extends UL{_parse(e){return this._getType(e)===vL.undefined?PL(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}FI.create=(e,t)=>new FI(f({innerType:e,typeName:GI.ZodOptional},FL(t)));class UI extends UL{_parse(e){return this._getType(e)===vL.null?PL(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}UI.create=(e,t)=>new UI(f({innerType:e,typeName:GI.ZodNullable},FL(t)));class zI extends UL{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===vL.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}zI.create=(e,t)=>new zI(f({innerType:e,typeName:GI.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},FL(t)));class BI extends UL{_parse(e){const{ctx:t}=this._processInputParams(e),n=f(f({},t),{},{common:f(f({},t.common),{},{issues:[]})}),r=this._def.innerType._parse({data:n.data,path:n.path,parent:f({},n)});return IL(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new xL(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new xL(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}BI.create=(e,t)=>new BI(f({innerType:e,typeName:GI.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},FL(t)));class jI extends UL{_parse(e){if(this._getType(e)!==vL.nan){const t=this._getOrReturnCtx(e);return TL(t,{code:bL.invalid_type,expected:vL.nan,received:t.parsedType}),AL}return{status:"valid",value:e.data}}}jI.create=e=>new jI(f({typeName:GI.ZodNaN},FL(e)));Symbol("zod_brand");class VI extends UL{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class HI extends UL{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?AL:"dirty"===e.status?(t.dirty(),RL(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?AL:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new HI({in:e,out:t,typeName:GI.ZodPipeline})}}class WI extends UL{_parse(e){const t=this._def.innerType._parse(e),n=e=>(LL(e)&&(e.value=Object.freeze(e.value)),e);return IL(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}WI.create=(e,t)=>new WI(f({innerType:e,typeName:GI.ZodReadonly},FL(t)));SI.lazycreate;var GI;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(GI||(GI={}));const XI=lI.create,qI=(uI.create,jI.create,dI.create,hI.create),YI=(fI.create,pI.create,mI.create,gI.create,vI.create,yI.create,bI.create,xI.create,_I.create,SI.create);SI.strictCreate,MI.create,TI.create,CI.create,AI.create,RI.create,PI.create,kI.create,LI.create,II.create,OI.create,DI.create,FI.create,UI.create,DI.createWithPreprocess,HI.create;function ZI(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function KI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=ZI(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():ZI(t[e],null)}}}}function JI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.useCallback(KI(...t),t)}const $I=["children"],QI=["children"];var eO=Symbol.for("react.lazy"),tO=o[" use ".trim().toString()];function nO(e){return null!=e&&"object"===typeof e&&"$$typeof"in e&&e.$$typeof===eO&&"_payload"in e&&("object"===typeof(t=e._payload)&&null!==t&&"then"in t);var t}function rO(e){const t=aO(e),n=a.forwardRef((e,n)=>{let{children:r}=e,i=l(e,$I);nO(r)&&"function"===typeof tO&&(r=tO(r._payload));const o=a.Children.toArray(r),s=o.find(sO);if(s){const e=s.props.children,r=o.map(t=>t===s?a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null:t);return(0,Sh.jsx)(t,f(f({},i),{},{ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null}))}return(0,Sh.jsx)(t,f(f({},i),{},{ref:n,children:r}))});return n.displayName="".concat(e,".Slot"),n}var iO=rO("Slot");function aO(e){const t=a.forwardRef((e,t)=>{let{children:n}=e,r=l(e,QI);if(nO(n)&&"function"===typeof tO&&(n=tO(n._payload)),a.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n=f({},t);for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=function(){const e=a(...arguments);return i(...arguments),e}:i&&(n[r]=i):"style"===r?n[r]=f(f({},i),a):"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return f(f({},e),n)}(r,n.props);return n.type!==a.Fragment&&(i.ref=t?KI(t,e):e),a.cloneElement(n,i)}return a.Children.count(n)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var oO=Symbol("radix.slottable");function sO(e){return a.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===oO}function lO(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=lO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function cO(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=lO(e))&&(r&&(r+=" "),r+=t);return r}const uO=["class","className"],dO=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,hO=cO,fO=(e,t)=>n=>{var r;if(null==(null===t||void 0===t?void 0:t.variants))return hO(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(e=>{const t=null===n||void 0===n?void 0:n[e],r=null===a||void 0===a?void 0:a[e];if(null===t)return null;const o=dO(t)||dO(r);return i[e][o]}),s=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),c=null===t||void 0===t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r}=t,i=l(t,uO);return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes(f(f({},a),s)[t]):f(f({},a),s)[t]===n})?[...e,n,r]:e},[]);return hO(e,o,c,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)},pO=function(){return{nextPart:arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,validators:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,classGroupId:arguments.length>2?arguments[2]:void 0}},mO="-",gO=[],vO=e=>{const t=xO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return bO(e);const n=e.split(mO),r=""===n[0]&&n.length>1?1:0;return yO(n,r,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=r[e],i=n[e];return t?i?((e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n})(i,t):t:i||gO}return n[e]||gO}}},yO=(e,t,n)=>{if(0===e.length-t)return n.classGroupId;const r=e[t],i=n.nextPart.get(r);if(i){const n=yO(e,t+1,i);if(n)return n}const a=n.validators;if(null===a)return;const o=0===t?e.join(mO):e.slice(t).join(mO),s=a.length;for(let l=0;l<s;l++){const e=a[l];if(e.validator(o))return e.classGroupId}},bO=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?"arbitrary.."+r:void 0})(),xO=e=>{const{theme:t,classGroups:n}=e;return _O(n,t)},_O=(e,t)=>{const n=pO();for(const r in e){const i=e[r];wO(i,n,r,t)}return n},wO=(e,t,n,r)=>{const i=e.length;for(let a=0;a<i;a++){const i=e[a];SO(i,t,n,r)}},SO=(e,t,n,r)=>{"string"!==typeof e?"function"!==typeof e?TO(e,t,n,r):EO(e,t,n,r):MO(e,t,n)},MO=(e,t,n)=>{(""===e?t:CO(t,e)).classGroupId=n},EO=(e,t,n,r)=>{AO(e)?wO(e(r),t,n,r):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(n,e)))},TO=(e,t,n,r)=>{const i=Object.entries(e),a=i.length;for(let o=0;o<a;o++){const[e,a]=i[o];wO(a,CO(t,e),n,r)}},CO=(e,t)=>{let n=e;const r=t.split(mO),i=r.length;for(let a=0;a<i;a++){const e=r[a];let t=n.nextPart.get(e);t||(t=pO(),n.nextPart.set(e,t)),n=t}return n},AO=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,RO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(i,a)=>{n[i]=a,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(i(e,t),t):void 0},set(e,t){e in n?n[e]=t:i(e,t)}}},PO=[],kO=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),NO=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,a=0;const o=e.length;for(let u=0;u<o;u++){const o=e[u];if(0===r&&0===i){if(":"===o){t.push(e.slice(a,u)),a=u+1;continue}if("/"===o){n=u;continue}}"["===o?r++:"]"===o?r--:"("===o?i++:")"===o&&i--}const s=0===t.length?e:e.slice(a);let l=s,c=!1;s.endsWith("!")?(l=s.slice(0,-1),c=!0):s.startsWith("!")&&(l=s.slice(1),c=!0);return kO(t,c,l,n&&n>a?n-a:void 0)};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.slice(e.length)):kO(PO,!1,t,void 0,!0)}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},LO=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{const n=[];let r=[];for(let i=0;i<e.length;i++){const a=e[i],o="["===a[0],s=t.has(a);o||s?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(a)):r.push(a)}return r.length>0&&(r.sort(),n.push(...r)),n}},IO=/\s+/,OO=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=OO(e[r]))&&(n&&(n+=" "),n+=t);return n},DO=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,a,o,s;const l=e=>{const t=a(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],s=e.trim().split(IO);let l="";for(let c=s.length-1;c>=0;c-=1){const e=s[c],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!f,m=r(p?h.substring(0,f):h);if(!m){if(!p){l=e+(l.length>0?" "+l:l);continue}if(m=r(h),!m){l=e+(l.length>0?" "+l:l);continue}p=!1}const g=0===u.length?"":1===u.length?u[0]:a(u).join(":"),v=d?g+"!":g,y=v+m;if(o.indexOf(y)>-1)continue;o.push(y);const b=i(m,p);for(let n=0;n<b.length;++n){const e=b[n];o.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,i);return o(e,n),n};return s=t=>{const r=n.reduce((e,t)=>t(e),e());return i=(e=>f({cache:RO(e.cacheSize),parseClassName:NO(e),sortModifiers:LO(e)},vO(e)))(r),a=i.cache.get,o=i.cache.set,s=l,l(t)},function(){return s(function(){let e,t,n=0,r="";for(;n<arguments.length;){var i;(e=(i=n++)<0||arguments.length<=i?void 0:arguments[i])&&(t=OO(e))&&(r&&(r+=" "),r+=t)}return r}(...arguments))}},FO=[],UO=e=>{const t=t=>t[e]||FO;return t.isThemeGetter=!0,t},zO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,BO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jO=/^\d+\/\d+$/,VO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qO=e=>jO.test(e),YO=e=>!!e&&!Number.isNaN(Number(e)),ZO=e=>!!e&&Number.isInteger(Number(e)),KO=e=>e.endsWith("%")&&YO(e.slice(0,-1)),JO=e=>VO.test(e),$O=()=>!0,QO=e=>HO.test(e)&&!WO.test(e),eD=()=>!1,tD=e=>GO.test(e),nD=e=>XO.test(e),rD=e=>!aD(e)&&!dD(e),iD=e=>yD(e,wD,eD),aD=e=>zO.test(e),oD=e=>yD(e,SD,QO),sD=e=>yD(e,MD,YO),lD=e=>yD(e,xD,eD),cD=e=>yD(e,_D,nD),uD=e=>yD(e,TD,tD),dD=e=>BO.test(e),hD=e=>bD(e,SD),fD=e=>bD(e,ED),pD=e=>bD(e,xD),mD=e=>bD(e,wD),gD=e=>bD(e,_D),vD=e=>bD(e,TD,!0),yD=(e,t,n)=>{const r=zO.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},bD=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=BO.exec(e);return!!r&&(r[1]?t(r[1]):n)},xD=e=>"position"===e||"percentage"===e,_D=e=>"image"===e||"url"===e,wD=e=>"length"===e||"size"===e||"bg-size"===e,SD=e=>"length"===e,MD=e=>"number"===e,ED=e=>"family-name"===e,TD=e=>"shadow"===e,CD=(Symbol.toStringTag,()=>{const e=UO("color"),t=UO("font"),n=UO("text"),r=UO("font-weight"),i=UO("tracking"),a=UO("leading"),o=UO("breakpoint"),s=UO("container"),l=UO("spacing"),c=UO("radius"),u=UO("shadow"),d=UO("inset-shadow"),h=UO("text-shadow"),f=UO("drop-shadow"),p=UO("blur"),m=UO("perspective"),g=UO("aspect"),v=UO("ease"),y=UO("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",dD,aD],x=()=>[dD,aD,l],_=()=>[qO,"full","auto",...x()],w=()=>[ZO,"none","subgrid",dD,aD],S=()=>["auto",{span:["full",ZO,dD,aD]},ZO,dD,aD],M=()=>[ZO,"auto",dD,aD],E=()=>["auto","min","max","fr",dD,aD],T=()=>["auto",...x()],C=()=>[qO,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],A=()=>[e,dD,aD],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",pD,lD,{position:[dD,aD]}],P=()=>["auto","cover","contain",mD,iD,{size:[dD,aD]}],k=()=>[KO,hD,oD],N=()=>["","none","full",c,dD,aD],L=()=>["",YO,hD,oD],I=()=>[YO,KO,pD,lD],O=()=>["","none",p,dD,aD],D=()=>["none",YO,dD,aD],F=()=>["none",YO,dD,aD],U=()=>[YO,dD,aD],z=()=>[qO,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[JO],breakpoint:[JO],color:[$O],container:[JO],"drop-shadow":[JO],ease:["in","out","in-out"],font:[rD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[JO],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[JO],shadow:[JO],spacing:["px",YO],text:[JO],"text-shadow":[JO],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qO,aD,dD,g]}],container:["container"],columns:[{columns:[YO,aD,dD,s]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[ZO,"auto",dD,aD]}],basis:[{basis:[qO,"full","auto",s,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[YO,qO,"auto","initial","none",aD]}],grow:[{grow:["",YO,dD,aD]}],shrink:[{shrink:["",YO,dD,aD]}],order:[{order:[ZO,"first","last","none",dD,aD]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:S()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:S()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":E()}],"auto-rows":[{"auto-rows":E()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[s,"screen",...C()]}],"min-w":[{"min-w":[s,"screen","none",...C()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",n,hD,oD]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,dD,sD]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",KO,aD]}],"font-family":[{font:[fD,aD,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,dD,aD]}],"line-clamp":[{"line-clamp":[YO,"none",dD,sD]}],leading:[{leading:[a,...x()]}],"list-image":[{"list-image":["none",dD,aD]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",dD,aD]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[YO,"from-font","auto",dD,oD]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[YO,"auto",dD,aD]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dD,aD]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dD,aD]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ZO,dD,aD],radial:["",dD,aD],conic:[ZO,dD,aD]},gD,cD]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:k()}],"gradient-via-pos":[{via:k()}],"gradient-to-pos":[{to:k()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:N()}],"rounded-s":[{"rounded-s":N()}],"rounded-e":[{"rounded-e":N()}],"rounded-t":[{"rounded-t":N()}],"rounded-r":[{"rounded-r":N()}],"rounded-b":[{"rounded-b":N()}],"rounded-l":[{"rounded-l":N()}],"rounded-ss":[{"rounded-ss":N()}],"rounded-se":[{"rounded-se":N()}],"rounded-ee":[{"rounded-ee":N()}],"rounded-es":[{"rounded-es":N()}],"rounded-tl":[{"rounded-tl":N()}],"rounded-tr":[{"rounded-tr":N()}],"rounded-br":[{"rounded-br":N()}],"rounded-bl":[{"rounded-bl":N()}],"border-w":[{border:L()}],"border-w-x":[{"border-x":L()}],"border-w-y":[{"border-y":L()}],"border-w-s":[{"border-s":L()}],"border-w-e":[{"border-e":L()}],"border-w-t":[{"border-t":L()}],"border-w-r":[{"border-r":L()}],"border-w-b":[{"border-b":L()}],"border-w-l":[{"border-l":L()}],"divide-x":[{"divide-x":L()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":L()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[YO,dD,aD]}],"outline-w":[{outline:["",YO,hD,oD]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",u,vD,uD]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",d,vD,uD]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[YO,oD]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":L()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",h,vD,uD]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[YO,dD,aD]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[YO]}],"mask-image-linear-from-pos":[{"mask-linear-from":I()}],"mask-image-linear-to-pos":[{"mask-linear-to":I()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":I()}],"mask-image-t-to-pos":[{"mask-t-to":I()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":I()}],"mask-image-r-to-pos":[{"mask-r-to":I()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":I()}],"mask-image-b-to-pos":[{"mask-b-to":I()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":I()}],"mask-image-l-to-pos":[{"mask-l-to":I()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":I()}],"mask-image-x-to-pos":[{"mask-x-to":I()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":I()}],"mask-image-y-to-pos":[{"mask-y-to":I()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[dD,aD]}],"mask-image-radial-from-pos":[{"mask-radial-from":I()}],"mask-image-radial-to-pos":[{"mask-radial-to":I()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[YO]}],"mask-image-conic-from-pos":[{"mask-conic-from":I()}],"mask-image-conic-to-pos":[{"mask-conic-to":I()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",dD,aD]}],filter:[{filter:["","none",dD,aD]}],blur:[{blur:O()}],brightness:[{brightness:[YO,dD,aD]}],contrast:[{contrast:[YO,dD,aD]}],"drop-shadow":[{"drop-shadow":["","none",f,vD,uD]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",YO,dD,aD]}],"hue-rotate":[{"hue-rotate":[YO,dD,aD]}],invert:[{invert:["",YO,dD,aD]}],saturate:[{saturate:[YO,dD,aD]}],sepia:[{sepia:["",YO,dD,aD]}],"backdrop-filter":[{"backdrop-filter":["","none",dD,aD]}],"backdrop-blur":[{"backdrop-blur":O()}],"backdrop-brightness":[{"backdrop-brightness":[YO,dD,aD]}],"backdrop-contrast":[{"backdrop-contrast":[YO,dD,aD]}],"backdrop-grayscale":[{"backdrop-grayscale":["",YO,dD,aD]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[YO,dD,aD]}],"backdrop-invert":[{"backdrop-invert":["",YO,dD,aD]}],"backdrop-opacity":[{"backdrop-opacity":[YO,dD,aD]}],"backdrop-saturate":[{"backdrop-saturate":[YO,dD,aD]}],"backdrop-sepia":[{"backdrop-sepia":["",YO,dD,aD]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",dD,aD]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[YO,"initial",dD,aD]}],ease:[{ease:["linear","initial",v,dD,aD]}],delay:[{delay:[YO,dD,aD]}],animate:[{animate:["none",y,dD,aD]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,dD,aD]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:F()}],"scale-x":[{"scale-x":F()}],"scale-y":[{"scale-y":F()}],"scale-z":[{"scale-z":F()}],"scale-3d":["scale-3d"],skew:[{skew:U()}],"skew-x":[{"skew-x":U()}],"skew-y":[{"skew-y":U()}],transform:[{transform:[dD,aD,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:z()}],"translate-x":[{"translate-x":z()}],"translate-y":[{"translate-y":z()}],"translate-z":[{"translate-z":z()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dD,aD]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dD,aD]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[YO,hD,oD,sD]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),AD=DO(CD);function RD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AD(cO(t))}const PD=["className","variant","size","asChild"],kD=fO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ND=a.forwardRef((e,t)=>{let{className:n,variant:r,size:i,asChild:a=!1}=e,o=l(e,PD);const s=a?iO:"button";return(0,Sh.jsx)(s,f({className:RD(kD({variant:r,size:i,className:n})),ref:t},o))});ND.displayName="Button";const LD=["className","type"],ID=a.forwardRef((e,t)=>{let{className:n,type:r}=e,i=l(e,LD);return(0,Sh.jsx)("input",f({type:r,className:RD("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t},i))});ID.displayName="Input";const OD=["className"],DD=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,OD);return(0,Sh.jsx)("textarea",f({className:RD("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t},r))});DD.displayName="Textarea";const FD=["asChild"];var UD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=rO("Primitive.".concat(t)),r=a.forwardRef((e,r)=>{const{asChild:i}=e,a=l(e,FD),o=i?n:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Sh.jsx)(o,f(f({},a),{},{ref:r}))});return r.displayName="Primitive.".concat(t),f(f({},e),{},{[t]:r})},{});var zD=a.forwardRef((e,t)=>(0,Sh.jsx)(UD.label,f(f({},e),{},{ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));zD.displayName="Label";var BD=zD;const jD=["className"],VD=fO("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),HD=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,jD);return(0,Sh.jsx)(BD,f({ref:t,className:RD(VD(),n)},r))});HD.displayName=BD.displayName;"undefined"===typeof window||!window.document||window.document.createElement;function WD(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}const GD=["children"],XD=["scope","children"];function qD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const r=()=>{const t=n.map(e=>a.createContext(e));return function(n){const r=(null===n||void 0===n?void 0:n[e])||t;return a.useMemo(()=>({["__scope".concat(e)]:f(f({},n),{},{[e]:r})}),[n,r])}};return r.scopeName=e,[function(t,r){const i=a.createContext(r),o=n.length;n=[...n,r];const s=t=>{var n;const{scope:r,children:s}=t,c=l(t,XD),u=(null===r||void 0===r||null===(n=r[e])||void 0===n?void 0:n[o])||i,d=a.useMemo(()=>c,Object.values(c));return(0,Sh.jsx)(u.Provider,{value:d,children:s})};return s.displayName=t+"Provider",[s,function(n,s){var l;const c=(null===s||void 0===s||null===(l=s[e])||void 0===l?void 0:l[o])||i,u=a.useContext(c);if(u)return u;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},YD(r,...t)]}function YD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];if(1===t.length)return r;const i=()=>{const e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const n=e.reduce((e,n)=>{let{useScope:r,scopeName:i}=n;const a=r(t)["__scope".concat(i)];return f(f({},e),a)},{});return a.useMemo(()=>({["__scope".concat(r.scopeName)]:n}),[n])}};return i.scopeName=r.scopeName,i}function ZD(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function KD(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function JD(e,t){return e.get(KD(e,t))}function $D(e,t,n){return e.set(KD(e,t),n),n}const QD=["children"],eF=["children"];function tF(e){const t=nF(e),n=a.forwardRef((e,n)=>{const{children:r}=e,i=l(e,QD),o=a.Children.toArray(r),s=o.find(aF);if(s){const e=s.props.children,r=o.map(t=>t===s?a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null:t);return(0,Sh.jsx)(t,f(f({},i),{},{ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null}))}return(0,Sh.jsx)(t,f(f({},i),{},{ref:n,children:r}))});return n.displayName="".concat(e,".Slot"),n}function nF(e){const t=a.forwardRef((e,t)=>{const{children:n}=e,r=l(e,eF);if(a.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n=f({},t);for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=function(){const e=a(...arguments);return i(...arguments),e}:i&&(n[r]=i):"style"===r?n[r]=f(f({},i),a):"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return f(f({},e),n)}(r,n.props);return n.type!==a.Fragment&&(i.ref=t?KI(t,e):e),a.cloneElement(n,i)}return a.Children.count(n)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var rF=Symbol("radix.slottable");var iF;function aF(e){return a.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===rF}const oF=["scope","children"];function sF(e){const t=e+"CollectionProvider",[n,r]=qD(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:t,children:n}=e,r=a.useRef(null),o=a.useRef(new Map).current;return(0,Sh.jsx)(i,{scope:t,itemMap:o,collectionRef:r,children:n})};s.displayName=t;const c=e+"CollectionSlot",u=tF(c),d=a.forwardRef((e,t)=>{const{scope:n,children:r}=e,i=JI(t,o(c,n).collectionRef);return(0,Sh.jsx)(u,{ref:i,children:r})});d.displayName=c;const h=e+"CollectionItemSlot",p="data-radix-collection-item",m=tF(h),g=a.forwardRef((e,t)=>{const{scope:n,children:r}=e,i=l(e,oF),s=a.useRef(null),c=JI(t,s),u=o(h,n);return a.useEffect(()=>(u.itemMap.set(s,f({ref:s},i)),()=>{u.itemMap.delete(s)})),(0,Sh.jsx)(m,f(f({},{[p]:""}),{},{ref:c,children:r}))});return g.displayName=h,[{Provider:s,Slot:d,ItemSlot:g},function(t){const n=o(e+"CollectionConsumer",t),r=a.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(p,"]"))),r=Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current));return r},[n.collectionRef,n.itemMap]);return r},r]}var lF=new WeakMap;iF=new WeakMap,Map;function cF(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=uF(t),i=r>=0?r:n+r;return i<0||i>=n?-1:i}(e,t);return-1===n?void 0:e[n]}function uF(e){return e!==e||0===e?0:Math.trunc(e)}var dF=null!==globalThis&&void 0!==globalThis&&globalThis.document?a.useLayoutEffect:()=>{},hF=o[" useId ".trim().toString()]||(()=>{}),fF=0;function pF(e){const[t,n]=a.useState(hF());return dF(()=>{e||n(e=>null!==e&&void 0!==e?e:String(fF++))},[e]),e||(t?"radix-".concat(t):"")}const mF=["children"],gF=["children"];function vF(e){const t=yF(e),n=a.forwardRef((e,n)=>{const{children:r}=e,i=l(e,mF),o=a.Children.toArray(r),s=o.find(xF);if(s){const e=s.props.children,r=o.map(t=>t===s?a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null:t);return(0,Sh.jsx)(t,f(f({},i),{},{ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null}))}return(0,Sh.jsx)(t,f(f({},i),{},{ref:n,children:r}))});return n.displayName="".concat(e,".Slot"),n}function yF(e){const t=a.forwardRef((e,t)=>{const{children:n}=e,r=l(e,gF);if(a.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n=f({},t);for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=function(){const e=a(...arguments);return i(...arguments),e}:i&&(n[r]=i):"style"===r?n[r]=f(f({},i),a):"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return f(f({},e),n)}(r,n.props);return n.type!==a.Fragment&&(i.ref=t?KI(t,e):e),a.cloneElement(n,i)}return a.Children.count(n)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var bF=Symbol("radix.slottable");function xF(e){return a.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===bF}const _F=["asChild"];var wF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=vF("Primitive.".concat(t)),r=a.forwardRef((e,r)=>{const{asChild:i}=e,a=l(e,_F),o=i?n:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Sh.jsx)(o,f(f({},a),{},{ref:r}))});return r.displayName="Primitive.".concat(t),f(f({},e),{},{[t]:r})},{});function SF(e){const t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call(t,...r)},[])}var MF=o[" useInsertionEffect ".trim().toString()]||dF;function EF(e){let{prop:t,defaultProp:n,onChange:r=()=>{},caller:i}=e;const[o,s,l]=function(e){let{defaultProp:t,onChange:n}=e;const[r,i]=a.useState(t),o=a.useRef(r),s=a.useRef(n);return MF(()=>{s.current=n},[n]),a.useEffect(()=>{var e;o.current!==r&&(null===(e=s.current)||void 0===e||e.call(s,r),o.current=r)},[r,o]),[r,i,s]}({defaultProp:n,onChange:r}),c=void 0!==t,u=c?t:o;{const e=a.useRef(void 0!==t);a.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",n=c?"controlled":"uncontrolled";console.warn("".concat(i," is changing from ").concat(e," to ").concat(n,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,i])}const d=a.useCallback(e=>{if(c){const r=function(e){return"function"===typeof e}(e)?e(t):e;var n;if(r!==t)null===(n=l.current)||void 0===n||n.call(l,r)}else s(e)},[c,t,s,l]);return[u,d]}Symbol("RADIX:SYNC_STATE");var TF=a.createContext(void 0);function CF(e){const t=a.useContext(TF);return e||t||"ltr"}const AF=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"],RF=["__scopeRovingFocusGroup","focusable","active","tabStopId","children"];var PF="rovingFocusGroup.onEntryFocus",kF={bubbles:!1,cancelable:!0},NF="RovingFocusGroup",[LF,IF,OF]=sF(NF),[DF,FF]=qD(NF,[OF]),[UF,zF]=DF(NF),BF=a.forwardRef((e,t)=>(0,Sh.jsx)(LF.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,Sh.jsx)(LF.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,Sh.jsx)(jF,f(f({},e),{},{ref:t}))})}));BF.displayName=NF;var jF=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1}=e,p=l(e,AF),m=a.useRef(null),g=JI(t,m),v=CF(o),[y,b]=EF({prop:s,defaultProp:null!==c&&void 0!==c?c:null,onChange:u,caller:NF}),[x,_]=a.useState(!1),w=SF(d),S=IF(n),M=a.useRef(!1),[E,T]=a.useState(0);return a.useEffect(()=>{const e=m.current;if(e)return e.addEventListener(PF,w),()=>e.removeEventListener(PF,w)},[w]),(0,Sh.jsx)(UF,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:y,onItemFocus:a.useCallback(e=>b(e),[b]),onItemShiftTab:a.useCallback(()=>_(!0),[]),onFocusableItemAdd:a.useCallback(()=>T(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>T(e=>e-1),[]),children:(0,Sh.jsx)(wF.div,f(f({tabIndex:x||0===E?-1:0,"data-orientation":r},p),{},{ref:g,style:f({outline:"none"},e.style),onMouseDown:WD(e.onMouseDown,()=>{M.current=!0}),onFocus:WD(e.onFocus,e=>{const t=!M.current;if(e.target===e.currentTarget&&t&&!x){const t=new CustomEvent(PF,kF);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=S().filter(e=>e.focusable);GF([e.find(e=>e.active),e.find(e=>e.id===y),...e].filter(Boolean).map(e=>e.ref.current),h)}}M.current=!1}),onBlur:WD(e.onBlur,()=>_(!1))}))})}),VF="RovingFocusGroupItem",HF=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:s}=e,c=l(e,RF),u=pF(),d=o||u,h=zF(VF,n),p=h.currentTabStopId===d,m=IF(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=h;return a.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),(0,Sh.jsx)(LF.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:(0,Sh.jsx)(wF.span,f(f({tabIndex:p?0:-1,"data-orientation":h.orientation},c),{},{ref:t,onMouseDown:WD(e.onMouseDown,e=>{r?h.onItemFocus(d):e.preventDefault()}),onFocus:WD(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:WD(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:WF[r]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let i=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)i.reverse();else if("prev"===t||"next"===t){"prev"===t&&i.reverse();const a=i.indexOf(e.currentTarget);i=h.loop?(r=a+1,(n=i).map((e,t)=>n[(r+t)%n.length])):i.slice(a+1)}setTimeout(()=>GF(i))}var n,r}),children:"function"===typeof s?s({isCurrentTabStop:p,hasTabStop:null!=y}):s}))})});HF.displayName=VF;var WF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GF(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var XF=BF,qF=HF;var YF=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=a.useState(),r=a.useRef(null),i=a.useRef(e),o=a.useRef("none"),s=e?"mounted":"unmounted",[l,c]=function(e,t){return a.useReducer((e,n)=>{const r=t[e][n];return null!==r&&void 0!==r?r:e},e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const e=ZF(r.current);o.current="mounted"===l?e:"none"},[l]),dF(()=>{const t=r.current,n=i.current;if(n!==e){const r=o.current,a=ZF(t);if(e)c("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}i.current=e}},[e,c]),dF(()=>{if(t){var e;let n;const a=null!==(e=t.ownerDocument.defaultView)&&void 0!==e?e:window,s=e=>{const o=ZF(r.current).includes(CSS.escape(e.animationName));if(e.target===t&&o&&(c("ANIMATION_END"),!i.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",n=a.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},l=e=>{e.target===t&&(o.current=ZF(r.current))};return t.addEventListener("animationstart",l),t.addEventListener("animationcancel",s),t.addEventListener("animationend",s),()=>{a.clearTimeout(n),t.removeEventListener("animationstart",l),t.removeEventListener("animationcancel",s),t.removeEventListener("animationend",s)}}c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:a.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),i="function"===typeof n?n({present:r.isPresent}):a.Children.only(n),o=JI(r.ref,function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof n||r.isPresent?a.cloneElement(i,{ref:o}):null};function ZF(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}YF.displayName="Presence";const KF=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],JF=["__scopeTabs","loop"],$F=["__scopeTabs","value","disabled"],QF=["__scopeTabs","value","forceMount","children"];var eU="Tabs",[tU,nU]=qD(eU,[FF]),rU=FF(),[iU,aU]=tU(eU),oU=a.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:c="automatic"}=e,u=l(e,KF),d=CF(s),[h,p]=EF({prop:r,onChange:i,defaultProp:null!==a&&void 0!==a?a:"",caller:eU});return(0,Sh.jsx)(iU,{scope:n,baseId:pF(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:c,children:(0,Sh.jsx)(wF.div,f(f({dir:d,"data-orientation":o},u),{},{ref:t}))})});oU.displayName=eU;var sU="TabsList",lU=a.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0}=e,i=l(e,JF),a=aU(sU,n),o=rU(n);return(0,Sh.jsx)(XF,f(f({asChild:!0},o),{},{orientation:a.orientation,dir:a.dir,loop:r,children:(0,Sh.jsx)(wF.div,f(f({role:"tablist","aria-orientation":a.orientation},i),{},{ref:t}))}))});lU.displayName=sU;var cU="TabsTrigger",uU=a.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1}=e,a=l(e,$F),o=aU(cU,n),s=rU(n),c=fU(o.baseId,r),u=pU(o.baseId,r),d=r===o.value;return(0,Sh.jsx)(qF,f(f({asChild:!0},s),{},{focusable:!i,active:d,children:(0,Sh.jsx)(wF.button,f(f({type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c},a),{},{ref:t,onMouseDown:WD(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:WD(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:WD(e.onFocus,()=>{const e="manual"!==o.activationMode;d||i||!e||o.onValueChange(r)})}))}))});uU.displayName=cU;var dU="TabsContent",hU=a.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o}=e,s=l(e,QF),c=aU(dU,n),u=fU(c.baseId,r),d=pU(c.baseId,r),h=r===c.value,p=a.useRef(h);return a.useEffect(()=>{const e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,Sh.jsx)(YF,{present:i||h,children:n=>{let{present:r}=n;return(0,Sh.jsx)(wF.div,f(f({"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:d,tabIndex:0},s),{},{ref:t,style:f(f({},e.style),{},{animationDuration:p.current?"0s":void 0}),children:r&&o}))}})});function fU(e,t){return"".concat(e,"-trigger-").concat(t)}function pU(e,t){return"".concat(e,"-content-").concat(t)}hU.displayName=dU;var mU=lU,gU=uU,vU=hU;const yU=["className"],bU=["className"],xU=["className"],_U=oU,wU=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,yU);return(0,Sh.jsx)(mU,f({ref:t,className:RD("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n)},r))});wU.displayName=mU.displayName;const SU=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,bU);return(0,Sh.jsx)(gU,f({ref:t,className:RD("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n)},r))});SU.displayName=gU.displayName;const MU=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,xU);return(0,Sh.jsx)(vU,f({ref:t,className:RD("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n)},r))});MU.displayName=vU.displayName;const EU=["className"],TU=["className"],CU=["className"],AU=["className"],RU=["className"],PU=["className"],kU=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,EU);return(0,Sh.jsx)("div",f({ref:t,className:RD("rounded-xl border bg-card text-card-foreground shadow",n)},r))});kU.displayName="Card";const NU=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,TU);return(0,Sh.jsx)("div",f({ref:t,className:RD("flex flex-col space-y-1.5 p-6",n)},r))});NU.displayName="CardHeader";const LU=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,CU);return(0,Sh.jsx)("div",f({ref:t,className:RD("font-semibold leading-none tracking-tight",n)},r))});LU.displayName="CardTitle";const IU=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,AU);return(0,Sh.jsx)("div",f({ref:t,className:RD("text-sm text-muted-foreground",n)},r))});IU.displayName="CardDescription";const OU=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,RU);return(0,Sh.jsx)("div",f({ref:t,className:RD("p-6 pt-0",n)},r))});OU.displayName="CardContent";a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,PU);return(0,Sh.jsx)("div",f({ref:t,className:RD("flex items-center p-6 pt-0",n)},r))}).displayName="CardFooter";const DU=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var FU,UU="dismissableLayer.update",zU="dismissableLayer.pointerDownOutside",BU="dismissableLayer.focusOutside",jU=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),VU=a.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:c,onDismiss:u}=e,d=l(e,DU),h=a.useContext(jU),[p,m]=a.useState(null),g=null!==(n=null===p||void 0===p?void 0:p.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,v]=a.useState({}),y=JI(t,e=>m(e)),b=Array.from(h.layers),[x]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=b.indexOf(x),w=p?b.indexOf(p):-1,S=h.layersWithOutsidePointerEventsDisabled.size>0,M=w>=_,E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=SF(e),r=a.useRef(!1),i=a.useRef(()=>{});return a.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){GU(zU,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...h.branches].some(e=>e.contains(t));M&&!n&&(null===o||void 0===o||o(e),null===c||void 0===c||c(e),e.defaultPrevented||null===u||void 0===u||u())},g),T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=SF(e),r=a.useRef(!1);return a.useEffect(()=>{const e=e=>{if(e.target&&!r.current){GU(BU,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...h.branches].some(e=>e.contains(t))||(null===s||void 0===s||s(e),null===c||void 0===c||c(e),e.defaultPrevented||null===u||void 0===u||u())},g);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=SF(e);a.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{w===h.layers.size-1&&(null===i||void 0===i||i(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))},g),a.useEffect(()=>{if(p)return r&&(0===h.layersWithOutsidePointerEventsDisabled.size&&(FU=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),WU(),()=>{r&&1===h.layersWithOutsidePointerEventsDisabled.size&&(g.body.style.pointerEvents=FU)}},[p,g,r,h]),a.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),WU())},[p,h]),a.useEffect(()=>{const e=()=>v({});return document.addEventListener(UU,e),()=>document.removeEventListener(UU,e)},[]),(0,Sh.jsx)(wF.div,f(f({},d),{},{ref:y,style:f({pointerEvents:S?M?"auto":"none":void 0},e.style),onFocusCapture:WD(e.onFocusCapture,T.onFocusCapture),onBlurCapture:WD(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:WD(e.onPointerDownCapture,E.onPointerDownCapture)}))});VU.displayName="DismissableLayer";var HU=a.forwardRef((e,t)=>{const n=a.useContext(jU),r=a.useRef(null),i=JI(t,r);return a.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,Sh.jsx)(wF.div,f(f({},e),{},{ref:i}))});function WU(){const e=new CustomEvent(UU);document.dispatchEvent(e)}function GU(e,t,n,r){let{discrete:i}=r;const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),i?function(e,t){e&&dk.flushSync(()=>e.dispatchEvent(t))}(a,o):a.dispatchEvent(o)}HU.displayName="DismissableLayerBranch";const XU=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var qU="focusScope.autoFocusOnMount",YU="focusScope.autoFocusOnUnmount",ZU={bubbles:!1,cancelable:!0},KU=a.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o}=e,s=l(e,XU),[c,u]=a.useState(null),d=SF(i),h=SF(o),p=a.useRef(null),m=JI(t,e=>u(e)),g=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect(()=>{if(r){let e=function(e){if(g.paused||!c)return;const t=e.target;c.contains(t)?p.current=t:ez(p.current,{select:!0})},t=function(e){if(g.paused||!c)return;const t=e.relatedTarget;null!==t&&(c.contains(t)||ez(p.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&ez(c)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return c&&r.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[r,c,g.paused]),a.useEffect(()=>{if(c){tz.add(g);const t=document.activeElement;if(!c.contains(t)){const n=new CustomEvent(qU,ZU);c.addEventListener(qU,d),c.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(ez(r,{select:t}),document.activeElement!==n)return}((e=JU(c),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&ez(c))}return()=>{c.removeEventListener(qU,d),setTimeout(()=>{const e=new CustomEvent(YU,ZU);c.addEventListener(YU,h),c.dispatchEvent(e),e.defaultPrevented||ez(null!==t&&void 0!==t?t:document.body,{select:!0}),c.removeEventListener(YU,h),tz.remove(g)},0)}}var e},[c,d,h,g]);const v=a.useCallback(e=>{if(!n&&!r)return;if(g.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,a]=function(e){const t=JU(e),n=$U(t,e),r=$U(t.reverse(),e);return[n,r]}(t);r&&a?e.shiftKey||i!==a?e.shiftKey&&i===r&&(e.preventDefault(),n&&ez(a,{select:!0})):(e.preventDefault(),n&&ez(r,{select:!0})):i===t&&e.preventDefault()}},[n,r,g.paused]);return(0,Sh.jsx)(wF.div,f(f({tabIndex:-1},s),{},{ref:m,onKeyDown:v}))});function JU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $U(e,t){for(const n of e)if(!QU(n,{upTo:t}))return n}function QU(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function ez(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}KU.displayName="FocusScope";var tz=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=nz(e,t),e.unshift(t)},remove(t){var n;e=nz(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function nz(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const rz=["container"];var iz=a.forwardRef((e,t)=>{var n;const{container:r}=e,i=l(e,rz),[o,s]=a.useState(!1);dF(()=>s(!0),[]);const c=r||o&&(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body);return c?dk.createPortal((0,Sh.jsx)(wF.div,f(f({},i),{},{ref:t})),c):null});iz.displayName="Portal";var az=0;function oz(){a.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:sz()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:sz()),az++,()=>{1===az&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),az--}},[])}function sz(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var lz=function(){return lz=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lz.apply(this,arguments)};function cz(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function uz(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var dz="right-scroll-bar-position",hz="width-before-scroll-bar";function fz(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var pz="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,mz=new WeakMap;function gz(e,t){var n=function(e,t){var n=(0,a.useState)(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}})[0];return n.callback=t,n.facade}(t||null,function(t){return e.forEach(function(e){return fz(e,t)})});return pz(function(){var t=mz.get(n);if(t){var r=new Set(t),i=new Set(e),a=n.current;r.forEach(function(e){i.has(e)||fz(e,null)}),i.forEach(function(e){r.has(e)||fz(e,a)})}mz.set(n,e)},[e]),n}function vz(e){return e}function yz(e,t){void 0===t&&(t=vz);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(a)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}};return i}var bz=function(e){void 0===e&&(e={});var t=yz(null);return t.options=lz({async:!0,ssr:!1},e),t}(),xz=function(){},_z=a.forwardRef(function(e,t){var n=a.useRef(null),r=a.useState({onScrollCapture:xz,onWheelCapture:xz,onTouchMoveCapture:xz}),i=r[0],o=r[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,b=void 0===y?"div":y,x=e.gapMode,_=cz(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,S=gz([n,t]),M=lz(lz({},_),i);return a.createElement(a.Fragment,null,d&&a.createElement(w,{sideCar:bz,removeScrollBar:u,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:x}),s?a.cloneElement(a.Children.only(l),lz(lz({},M),{ref:S})):a.createElement(b,lz({},M,{className:c,ref:S}),l))});_z.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},_z.classNames={fullWidth:hz,zeroRight:dz};var wz,Sz=function(e){var t=e.sideCar,n=cz(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return a.createElement(r,lz({},n))};Sz.isSideCarExport=!0;function Mz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wz||n.nc;return t&&e.setAttribute("nonce",t),e}var Ez=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=Mz())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Tz=function(){var e=function(){var e=Ez();return function(t,n){a.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},Cz={left:0,top:0,right:0,gap:0},Az=function(e){return parseInt(e||"",10)||0},Rz=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return Cz;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[Az(n),Az(r),Az(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Pz=Tz(),kz="data-scroll-locked",Nz=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(kz,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(dz," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(hz," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(dz," .").concat(dz," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(hz," .").concat(hz," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(kz,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},Lz=function(){var e=parseInt(document.body.getAttribute(kz)||"0",10);return isFinite(e)?e:0},Iz=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;a.useEffect(function(){return document.body.setAttribute(kz,(Lz()+1).toString()),function(){var e=Lz()-1;e<=0?document.body.removeAttribute(kz):document.body.setAttribute(kz,e.toString())}},[]);var o=a.useMemo(function(){return Rz(i)},[i]);return a.createElement(Pz,{styles:Nz(o,!t,i,n?"":"!important")})},Oz=!1;if("undefined"!==typeof window)try{var Dz=Object.defineProperty({},"passive",{get:function(){return Oz=!0,!0}});window.addEventListener("test",Dz,Dz),window.removeEventListener("test",Dz,Dz)}catch(hX){Oz=!1}var Fz=!!Oz&&{passive:!1},Uz=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},zz=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Bz(e,r)){var i=jz(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Bz=function(e,t){return"v"===e?function(e){return Uz(e,"overflowY")}(t):function(e){return Uz(e,"overflowX")}(t)},jz=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Vz=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Hz=function(e){return[e.deltaX,e.deltaY]},Wz=function(e){return e&&"current"in e?e.current:e},Gz=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Xz=0,qz=[];function Yz(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Zz=(Kz=function(e){var t=a.useRef([]),n=a.useRef([0,0]),r=a.useRef(),i=a.useState(Xz++)[0],o=a.useState(Tz)[0],s=a.useRef(e);a.useEffect(function(){s.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=uz([e.lockRef.current],(e.shards||[]).map(Wz),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=a.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var i,a=Vz(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-a[0],c="deltaY"in e?e.deltaY:o[1]-a[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=window.getSelection(),f=h&&h.anchorNode;if(f&&(f===u||f.contains(u)))return!1;var p=zz(d,u);if(!p)return!0;if(p?i=d:(i="v"===d?"h":"v",p=zz(d,u)),!p)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var m=r.current||i;return function(e,t,n,r,i){var a=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=a*r,s=n.target,l=t.contains(s),c=!1,u=o>0,d=0,h=0;do{if(!s)break;var f=jz(e,s),p=f[0],m=f[1]-f[2]-a*p;(p||m)&&Bz(e,s)&&(d+=m,h+=p);var g=s.parentNode;s=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(i&&Math.abs(d)<1||!i&&o>d)||!u&&(i&&Math.abs(h)<1||!i&&-o>h))&&(c=!0),c}(m,t,e,"h"===m?l:c,!0)},[]),c=a.useCallback(function(e){var n=e;if(qz.length&&qz[qz.length-1]===o){var r="deltaY"in n?Hz(n):Vz(n),i=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)})[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var a=(s.current.shards||[]).map(Wz).filter(Boolean).filter(function(e){return e.contains(n.target)});(a.length>0?l(n,a[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),u=a.useCallback(function(e,n,r,i){var a={name:e,delta:n,target:r,should:i,shadowParent:Yz(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),d=a.useCallback(function(e){n.current=Vz(e),r.current=void 0},[]),h=a.useCallback(function(t){u(t.type,Hz(t),t.target,l(t,e.lockRef.current))},[]),f=a.useCallback(function(t){u(t.type,Vz(t),t.target,l(t,e.lockRef.current))},[]);a.useEffect(function(){return qz.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Fz),document.addEventListener("touchmove",c,Fz),document.addEventListener("touchstart",d,Fz),function(){qz=qz.filter(function(e){return e!==o}),document.removeEventListener("wheel",c,Fz),document.removeEventListener("touchmove",c,Fz),document.removeEventListener("touchstart",d,Fz)}},[]);var p=e.removeScrollBar,m=e.inert;return a.createElement(a.Fragment,null,m?a.createElement(o,{styles:Gz(i)}):null,p?a.createElement(Iz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},bz.useMedium(Kz),Sz);var Kz,Jz=a.forwardRef(function(e,t){return a.createElement(_z,lz({},e,{ref:t,sideCar:Zz}))});Jz.classNames=_z.classNames;const $z=Jz;var Qz=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},eB=new WeakMap,tB=new WeakMap,nB={},rB=0,iB=function(e){return e&&(e.host||iB(e.parentNode))},aB=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=iB(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);nB[n]||(nB[n]=new WeakMap);var a=nB[n],o=[],s=new Set,l=new Set(i),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(eB.get(e)||0)+1,c=(a.get(e)||0)+1;eB.set(e,l),a.set(e,c),o.push(e),1===l&&i&&tB.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(dX){console.error("aria-hidden: cannot operate on ",e,dX)}})};return u(t),s.clear(),rB++,function(){o.forEach(function(e){var t=eB.get(e)-1,i=a.get(e)-1;eB.set(e,t),a.set(e,i),t||(tB.has(e)||e.removeAttribute(r),tB.delete(e)),i||e.removeAttribute(n)}),--rB||(eB=new WeakMap,eB=new WeakMap,tB=new WeakMap,nB={})}},oB=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||Qz(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),aB(r,i,n,"aria-hidden")):function(){return null}};const sB=["children"],lB=["children"];function cB(e){const t=uB(e),n=a.forwardRef((e,n)=>{const{children:r}=e,i=l(e,sB),o=a.Children.toArray(r),s=o.find(hB);if(s){const e=s.props.children,r=o.map(t=>t===s?a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null:t);return(0,Sh.jsx)(t,f(f({},i),{},{ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null}))}return(0,Sh.jsx)(t,f(f({},i),{},{ref:n,children:r}))});return n.displayName="".concat(e,".Slot"),n}function uB(e){const t=a.forwardRef((e,t)=>{const{children:n}=e,r=l(e,lB);if(a.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n=f({},t);for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=function(){const e=a(...arguments);return i(...arguments),e}:i&&(n[r]=i):"style"===r?n[r]=f(f({},i),a):"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return f(f({},e),n)}(r,n.props);return n.type!==a.Fragment&&(i.ref=t?KI(t,e):e),a.cloneElement(n,i)}return a.Children.count(n)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var dB=Symbol("radix.slottable");function hB(e){return a.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===dB}const fB=["__scopeDialog"],pB=["forceMount"],mB=["__scopeDialog"],gB=["forceMount"],vB=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],yB=["__scopeDialog"],bB=["__scopeDialog"],xB=["__scopeDialog"];var _B="Dialog",[wB,SB]=qD(_B),[MB,EB]=wB(_B),TB=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,l=a.useRef(null),c=a.useRef(null),[u,d]=EF({prop:r,defaultProp:null!==i&&void 0!==i&&i,onChange:o,caller:_B});return(0,Sh.jsx)(MB,{scope:t,triggerRef:l,contentRef:c,contentId:pF(),titleId:pF(),descriptionId:pF(),open:u,onOpenChange:d,onOpenToggle:a.useCallback(()=>d(e=>!e),[d]),modal:s,children:n})};TB.displayName=_B;var CB="DialogTrigger",AB=a.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=l(e,fB),i=EB(CB,n),a=JI(t,i.triggerRef);return(0,Sh.jsx)(wF.button,f(f({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":YB(i.open)},r),{},{ref:a,onClick:WD(e.onClick,i.onOpenToggle)}))});AB.displayName=CB;var RB="DialogPortal",[PB,kB]=wB(RB,{forceMount:void 0}),NB=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=EB(RB,t);return(0,Sh.jsx)(PB,{scope:t,forceMount:n,children:a.Children.map(r,e=>(0,Sh.jsx)(YF,{present:n||o.open,children:(0,Sh.jsx)(iz,{asChild:!0,container:i,children:e})}))})};NB.displayName=RB;var LB="DialogOverlay",IB=a.forwardRef((e,t)=>{const n=kB(LB,e.__scopeDialog),{forceMount:r=n.forceMount}=e,i=l(e,pB),a=EB(LB,e.__scopeDialog);return a.modal?(0,Sh.jsx)(YF,{present:r||a.open,children:(0,Sh.jsx)(DB,f(f({},i),{},{ref:t}))}):null});IB.displayName=LB;var OB=cB("DialogOverlay.RemoveScroll"),DB=a.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=l(e,mB),i=EB(LB,n);return(0,Sh.jsx)($z,{as:OB,allowPinchZoom:!0,shards:[i.contentRef],children:(0,Sh.jsx)(wF.div,f(f({"data-state":YB(i.open)},r),{},{ref:t,style:f({pointerEvents:"auto"},r.style)}))})}),FB="DialogContent",UB=a.forwardRef((e,t)=>{const n=kB(FB,e.__scopeDialog),{forceMount:r=n.forceMount}=e,i=l(e,gB),a=EB(FB,e.__scopeDialog);return(0,Sh.jsx)(YF,{present:r||a.open,children:a.modal?(0,Sh.jsx)(zB,f(f({},i),{},{ref:t})):(0,Sh.jsx)(BB,f(f({},i),{},{ref:t}))})});UB.displayName=FB;var zB=a.forwardRef((e,t)=>{const n=EB(FB,e.__scopeDialog),r=a.useRef(null),i=JI(t,n.contentRef,r);return a.useEffect(()=>{const e=r.current;if(e)return oB(e)},[]),(0,Sh.jsx)(jB,f(f({},e),{},{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:WD(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:WD(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:WD(e.onFocusOutside,e=>e.preventDefault())}))}),BB=a.forwardRef((e,t)=>{const n=EB(FB,e.__scopeDialog),r=a.useRef(!1),i=a.useRef(!1);return(0,Sh.jsx)(jB,f(f({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,o;(null===(a=e.onCloseAutoFocus)||void 0===a||a.call(e,t),t.defaultPrevented)||(r.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());r.current=!1,i.current=!1},onInteractOutside:t=>{var a,o;null===(a=e.onInteractOutside)||void 0===a||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const s=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),jB=a.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o}=e,s=l(e,vB),c=EB(FB,n),u=a.useRef(null),d=JI(t,u);return oz(),(0,Sh.jsxs)(Sh.Fragment,{children:[(0,Sh.jsx)(KU,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,Sh.jsx)(VU,f(f({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":YB(c.open)},s),{},{ref:d,onDismiss:()=>c.onOpenChange(!1)}))}),(0,Sh.jsxs)(Sh.Fragment,{children:[(0,Sh.jsx)($B,{titleId:c.titleId}),(0,Sh.jsx)(QB,{contentRef:u,descriptionId:c.descriptionId})]})]})}),VB="DialogTitle",HB=a.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=l(e,yB),i=EB(VB,n);return(0,Sh.jsx)(wF.h2,f(f({id:i.titleId},r),{},{ref:t}))});HB.displayName=VB;var WB="DialogDescription",GB=a.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=l(e,bB),i=EB(WB,n);return(0,Sh.jsx)(wF.p,f(f({id:i.descriptionId},r),{},{ref:t}))});GB.displayName=WB;var XB="DialogClose",qB=a.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=l(e,xB),i=EB(XB,n);return(0,Sh.jsx)(wF.button,f(f({type:"button"},r),{},{ref:t,onClick:WD(e.onClick,()=>i.onOpenChange(!1))}))});function YB(e){return e?"open":"closed"}qB.displayName=XB;var ZB="DialogTitleWarning",[KB,JB]=function(e,t){const n=a.createContext(t),r=e=>{const{children:t}=e,r=l(e,GD),i=a.useMemo(()=>r,Object.values(r));return(0,Sh.jsx)(n.Provider,{value:i,children:t})};return r.displayName=e+"Provider",[r,function(r){const i=a.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error("`".concat(r,"` must be used within `").concat(e,"`"))}]}(ZB,{contentName:FB,titleName:VB,docsSlug:"dialog"}),$B=e=>{let{titleId:t}=e;const n=JB(ZB),r="`".concat(n.contentName,"` requires a `").concat(n.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(n.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(n.docsSlug);return a.useEffect(()=>{if(t){document.getElementById(t)||console.error(r)}},[r,t]),null},QB=e=>{let{contentRef:t,descriptionId:n}=e;const r=JB("DialogDescriptionWarning"),i="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return a.useEffect(()=>{var e;const r=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(n&&r){document.getElementById(n)||console.warn(i)}},[i,t,n]),null},ej=TB,tj=AB,nj=NB,rj=IB,ij=UB,aj=HB,oj=GB,sj=qB;const lj=yh("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cj=["className"],uj=["className","children"],dj=["className"],hj=["className"],fj=["className"],pj=ej,mj=tj,gj=nj,vj=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,cj);return(0,Sh.jsx)(rj,f({ref:t,className:RD("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n)},r))});vj.displayName=rj.displayName;const yj=a.forwardRef((e,t)=>{let{className:n,children:r}=e,i=l(e,uj);return(0,Sh.jsxs)(gj,{children:[(0,Sh.jsx)(vj,{}),(0,Sh.jsxs)(ij,f(f({ref:t,className:RD("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n)},i),{},{children:[r,(0,Sh.jsxs)(sj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,Sh.jsx)(lj,{className:"h-4 w-4"}),(0,Sh.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});yj.displayName=ij.displayName;const bj=e=>{let{className:t}=e,n=l(e,dj);return(0,Sh.jsx)("div",f({className:RD("flex flex-col space-y-1.5 text-center sm:text-left",t)},n))};bj.displayName="DialogHeader";const xj=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,hj);return(0,Sh.jsx)(aj,f({ref:t,className:RD("text-lg font-semibold leading-none tracking-tight",n)},r))});xj.displayName=aj.displayName;const _j=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,fj);return(0,Sh.jsx)(oj,f({ref:t,className:RD("text-sm text-muted-foreground",n)},r))});function wj(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}_j.displayName=oj.displayName;const Sj=["top","right","bottom","left"],Mj=Math.min,Ej=Math.max,Tj=Math.round,Cj=Math.floor,Aj=e=>({x:e,y:e}),Rj={left:"right",right:"left",bottom:"top",top:"bottom"},Pj={start:"end",end:"start"};function kj(e,t,n){return Ej(e,Mj(t,n))}function Nj(e,t){return"function"===typeof e?e(t):e}function Lj(e){return e.split("-")[0]}function Ij(e){return e.split("-")[1]}function Oj(e){return"x"===e?"y":"x"}function Dj(e){return"y"===e?"height":"width"}const Fj=new Set(["top","bottom"]);function Uj(e){return Fj.has(Lj(e))?"y":"x"}function zj(e){return Oj(Uj(e))}function Bj(e){return e.replace(/start|end/g,e=>Pj[e])}const jj=["left","right"],Vj=["right","left"],Hj=["top","bottom"],Wj=["bottom","top"];function Gj(e,t,n,r){const i=Ij(e);let a=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Vj:jj:t?jj:Vj;case"left":case"right":return t?Hj:Wj;default:return[]}}(Lj(e),"start"===n,r);return i&&(a=a.map(e=>e+"-"+i),t&&(a=a.concat(a.map(Bj)))),a}function Xj(e){return e.replace(/left|right|bottom|top/g,e=>Rj[e])}function qj(e){return"number"!==typeof e?function(e){return f({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Yj(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}const Zj=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Kj=["strategy"],Jj=["mainAxis","crossAxis","limiter"],$j=["apply"];function Qj(e,t,n){let{reference:r,floating:i}=e;const a=Uj(t),o=zj(t),s=Dj(o),l=Lj(t),c="y"===a,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Ij(t)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1)}return f}async function eV(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Nj(t,e),p=qj(f),m=s[h?"floating"===d?"reference":"floating":d],g=Yj(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),b=await(null==a.isElement?void 0:a.isElement(y))&&await(null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},x=Yj(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-x.top+p.top)/b.y,bottom:(x.bottom-g.bottom+p.bottom)/b.y,left:(g.left-x.left+p.left)/b.x,right:(x.right-g.right+p.right)/b.x}}function tV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function nV(e){return Sj.some(t=>e[t]>=0)}const rV=new Set(["left","top"]);function iV(){return"undefined"!==typeof window}function aV(e){return lV(e)?(e.nodeName||"").toLowerCase():"#document"}function oV(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function sV(e){var t;return null==(t=(lV(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function lV(e){return!!iV()&&(e instanceof Node||e instanceof oV(e).Node)}function cV(e){return!!iV()&&(e instanceof Element||e instanceof oV(e).Element)}function uV(e){return!!iV()&&(e instanceof HTMLElement||e instanceof oV(e).HTMLElement)}function dV(e){return!(!iV()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof oV(e).ShadowRoot)}const hV=new Set(["inline","contents"]);function fV(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=EV(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!hV.has(i)}const pV=new Set(["table","td","th"]);function mV(e){return pV.has(aV(e))}const gV=[":popover-open",":modal"];function vV(e){return gV.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const yV=["transform","translate","scale","rotate","perspective"],bV=["transform","translate","scale","rotate","perspective","filter"],xV=["paint","layout","strict","content"];function _V(e){const t=wV(),n=cV(e)?EV(e):e;return yV.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||bV.some(e=>(n.willChange||"").includes(e))||xV.some(e=>(n.contain||"").includes(e))}function wV(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const SV=new Set(["html","body","#document"]);function MV(e){return SV.has(aV(e))}function EV(e){return oV(e).getComputedStyle(e)}function TV(e){return cV(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function CV(e){if("html"===aV(e))return e;const t=e.assignedSlot||e.parentNode||dV(e)&&e.host||sV(e);return dV(t)?t.host:t}function AV(e){const t=CV(e);return MV(t)?e.ownerDocument?e.ownerDocument.body:e.body:uV(t)&&fV(t)?t:AV(t)}function RV(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=AV(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),o=oV(i);if(a){const e=PV(o);return t.concat(o,o.visualViewport||[],fV(i)?i:[],e&&n?RV(e):[])}return t.concat(i,RV(i,[],n))}function PV(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kV(e){const t=EV(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=uV(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Tj(n)!==a||Tj(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function NV(e){return cV(e)?e:e.contextElement}function LV(e){const t=NV(e);if(!uV(t))return Aj(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=kV(t);let o=(a?Tj(n.width):n.width)/r,s=(a?Tj(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const IV=Aj(0);function OV(e){const t=oV(e);return wV()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:IV}function DV(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=NV(e);let o=Aj(1);t&&(r?cV(r)&&(o=LV(r)):o=LV(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==oV(e))&&t}(a,n,r)?OV(a):Aj(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const e=oV(a),t=r&&cV(r)?oV(r):r;let n=e,i=PV(n);for(;i&&r&&t!==n;){const e=LV(i),t=i.getBoundingClientRect(),r=EV(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=a,c+=o,n=oV(i),i=PV(n)}}return Yj({width:u,height:d,x:l,y:c})}function FV(e,t){const n=TV(e).scrollLeft;return t?t.left+n:DV(sV(e)).left+n}function UV(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-FV(e,n),y:n.top+t.scrollTop}}const zV=new Set(["absolute","fixed"]);function BV(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=oV(e),r=sV(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const e=wV();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}const c=FV(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=25&&(a-=o)}else c<=25&&(a+=c);return{width:a,height:o,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=sV(e),n=TV(e),r=e.ownerDocument.body,i=Ej(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ej(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+FV(e);const s=-n.scrollTop;return"rtl"===EV(r).direction&&(o+=Ej(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}(sV(e));else if(cV(t))r=function(e,t){const n=DV(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=uV(e)?LV(e):Aj(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=OV(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Yj(r)}function jV(e,t){const n=CV(e);return!(n===t||!cV(n)||MV(n))&&("fixed"===EV(n).position||jV(n,t))}function VV(e,t,n){const r=uV(t),i=sV(t),a="fixed"===n,o=DV(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=Aj(0);function c(){l.x=FV(i)}if(r||!r&&!a)if(("body"!==aV(t)||fV(i))&&(s=TV(t)),r){const e=DV(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();a&&!r&&i&&c();const u=!i||r||a?Aj(0):UV(i,s);return{x:o.left+s.scrollLeft-l.x-u.x,y:o.top+s.scrollTop-l.y-u.y,width:o.width,height:o.height}}function HV(e){return"static"===EV(e).position}function WV(e,t){if(!uV(e)||"fixed"===EV(e).position)return null;if(t)return t(e);let n=e.offsetParent;return sV(e)===n&&(n=n.ownerDocument.body),n}function GV(e,t){const n=oV(e);if(vV(e))return n;if(!uV(e)){let t=CV(e);for(;t&&!MV(t);){if(cV(t)&&!HV(t))return t;t=CV(t)}return n}let r=WV(e,t);for(;r&&mV(r)&&HV(r);)r=WV(r,t);return r&&MV(r)&&HV(r)&&!_V(r)?n:r||function(e){let t=CV(e);for(;uV(t)&&!MV(t);){if(_V(t))return t;if(vV(t))return null;t=CV(t)}return null}(e)||n}const XV={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,o=sV(r),s=!!t&&vV(t.floating);if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=Aj(1);const u=Aj(0),d=uV(r);if((d||!d&&!a)&&(("body"!==aV(r)||fV(o))&&(l=TV(r)),uV(r))){const e=DV(r);c=LV(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!o||d||a?Aj(0):UV(o,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:sV,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a="clippingAncestors"===n?vV(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=RV(e,[],!1).filter(e=>cV(e)&&"body"!==aV(e)),i=null;const a="fixed"===EV(e).position;let o=a?CV(e):e;for(;cV(o)&&!MV(o);){const t=EV(o),n=_V(o);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&zV.has(i.position)||fV(o)&&!n&&jV(e,o))?r=r.filter(e=>e!==o):i=t,o=CV(o)}return t.set(e,r),r}(t,this._c):[].concat(n),o=[...a,r],s=o[0],l=o.reduce((e,n)=>{const r=BV(t,n,i);return e.top=Ej(r.top,e.top),e.right=Mj(r.right,e.right),e.bottom=Mj(r.bottom,e.bottom),e.left=Ej(r.left,e.left),e},BV(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:GV,getElementRects:async function(e){const t=this.getOffsetParent||GV,n=this.getDimensions,r=await n(e.floating);return{reference:VV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=kV(e);return{width:t,height:n}},getScale:LV,isElement:cV,isRTL:function(e){return"rtl"===EV(e).direction}};function qV(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function YV(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=NV(e),u=i||a?[...c?RV(c):[],...RV(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});const d=c&&s?function(e,t){let n,r=null;const i=sV(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=c;if(s||t(),!h||!p)return;const m={rootMargin:-Cj(d)+"px "+-Cj(i.clientWidth-(u+h))+"px "+-Cj(i.clientHeight-(d+p))+"px "+-Cj(u)+"px",threshold:Ej(0,Mj(1,l))||1};let g=!0;function v(t){const r=t[0].intersectionRatio;if(r!==l){if(!g)return o();r?o(!1,r):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==r||qV(c,e.getBoundingClientRect())||o(),g=!1}try{r=new IntersectionObserver(v,f(f({},m),{},{root:i.ownerDocument}))}catch(y){r=new IntersectionObserver(v,m)}r.observe(e)}(!0),a}(c,n):null;let h,p=-1,m=null;o&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let g=l?DV(e):null;return l&&function t(){const r=DV(e);g&&!qV(g,r)&&n();g=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=m)||e.disconnect(),m=null,l&&cancelAnimationFrame(h)}}const ZV=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=Lj(n),s=Ij(n),l="y"===Uj(n),c=rV.has(o)?-1:1,u=a&&l?-1:1,d=Nj(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return o===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:f(f({},l),{},{placement:o})}}}},KV=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,a=Nj(e,t),{mainAxis:o=!0,crossAxis:s=!1,limiter:c={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=a,u=l(a,Jj),d={x:n,y:r},h=await eV(t,u),p=Uj(Lj(i)),m=Oj(p);let g=d[m],v=d[p];if(o){const e="y"===m?"bottom":"right";g=kj(g+h["y"===m?"top":"left"],g,g-h[e])}if(s){const e="y"===p?"bottom":"right";v=kj(v+h["y"===p?"top":"left"],v,v-h[e])}const y=c.fn(f(f({},t),{},{[m]:g,[p]:v}));return f(f({},y),{},{data:{x:y.x-n,y:y.y-r,enabled:{[m]:o,[p]:s}}})}}},JV=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:c,elements:u}=t,d=Nj(e,t),{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0}=d,y=l(d,Zj);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const b=Lj(i),x=Uj(s),_=Lj(s)===s,w=await(null==c.isRTL?void 0:c.isRTL(u.floating)),S=p||(_||!v?[Xj(s)]:function(e){const t=Xj(e);return[Bj(e),t,Bj(t)]}(s)),M="none"!==g;!p&&M&&S.push(...Gj(s,v,g,w));const E=[s,...S],T=await eV(t,y),C=[];let A=(null==(r=a.flip)?void 0:r.overflows)||[];if(h&&C.push(T[b]),f){const e=function(e,t,n){void 0===n&&(n=!1);const r=Ij(e),i=zj(e),a=Dj(i);let o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Xj(o)),[o,Xj(o)]}(i,o,w);C.push(T[e[0]],T[e[1]])}if(A=[...A,{placement:i,overflows:C}],!C.every(e=>e<=0)){var R,P;const e=((null==(R=a.flip)?void 0:R.index)||0)+1,t=E[e];if(t){if(!("alignment"===f&&x!==Uj(t))||A.every(e=>Uj(e.placement)!==x||e.overflows[0]>0))return{data:{index:e,overflows:A},reset:{placement:t}}}let n=null==(P=A.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:P.placement;if(!n)switch(m){case"bestFit":{var k;const e=null==(k=A.filter(e=>{if(M){const t=Uj(e.placement);return t===x||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:k[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},$V=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:s}=t,c=Nj(e,t),{apply:u=()=>{}}=c,d=l(c,$j),h=await eV(t,d),p=Lj(i),m=Ij(i),g="y"===Uj(i),{width:v,height:y}=a.floating;let b,x;"top"===p||"bottom"===p?(b=p,x=m===(await(null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(x=p,b="end"===m?"top":"bottom");const _=y-h.top-h.bottom,w=v-h.left-h.right,S=Mj(y-h[b],_),M=Mj(v-h[x],w),E=!t.middlewareData.shift;let T=S,C=M;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(C=w),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(T=_),E&&!m){const e=Ej(h.left,0),t=Ej(h.right,0),n=Ej(h.top,0),r=Ej(h.bottom,0);g?C=v-2*(0!==e||0!==t?e+t:Ej(h.left,h.right)):T=y-2*(0!==n||0!==r?n+r:Ej(h.top,h.bottom))}await u(f(f({},t),{},{availableWidth:C,availableHeight:T}));const A=await o.getDimensions(s.floating);return v!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}},QV=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,r=Nj(e,t),{strategy:i="referenceHidden"}=r,a=l(r,Kj);switch(i){case"referenceHidden":{const e=tV(await eV(t,f(f({},a),{},{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:nV(e)}}}case"escaped":{const e=tV(await eV(t,f(f({},a),{},{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:nV(e)}}}default:return{}}}}},eH=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Nj(e,t)||{};if(null==c)return{};const d=qj(u),h={x:n,y:r},p=zj(i),m=Dj(p),g=await o.getDimensions(c),v="y"===p,y=v?"top":"left",b=v?"bottom":"right",x=v?"clientHeight":"clientWidth",_=a.reference[m]+a.reference[p]-h[p]-a.floating[m],w=h[p]-a.reference[p],S=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let M=S?S[x]:0;M&&await(null==o.isElement?void 0:o.isElement(S))||(M=s.floating[x]||a.floating[m]);const E=_/2-w/2,T=M/2-g[m]/2-1,C=Mj(d[y],T),A=Mj(d[b],T),R=C,P=M-g[m]-A,k=M/2-g[m]/2+E,N=kj(R,k,P),L=!l.arrow&&null!=Ij(i)&&k!==N&&a.reference[m]/2-(k<R?C:A)-g[m]/2<0,I=L?k<R?k-R:k-P:0;return{[p]:h[p]+I,data:f({[p]:N,centerOffset:k-N-I},L&&{alignmentOffset:I}),reset:L}}}),tH=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Nj(e,t),u={x:n,y:r},d=Uj(i),h=Oj(d);let p=u[h],m=u[d];const g=Nj(s,t),v="number"===typeof g?{mainAxis:g,crossAxis:0}:f({mainAxis:0,crossAxis:0},g);if(l){const e="y"===h?"height":"width",t=a.reference[h]-a.floating[e]+v.mainAxis,n=a.reference[h]+a.reference[e]-v.mainAxis;p<t?p=t:p>n&&(p=n)}if(c){var y,b;const e="y"===h?"width":"height",t=rV.has(Lj(i)),n=a.reference[d]-a.floating[e]+(t&&(null==(y=o.offset)?void 0:y[d])||0)+(t?0:v.crossAxis),r=a.reference[d]+a.reference[e]+(t?0:(null==(b=o.offset)?void 0:b[d])||0)-(t?v.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[h]:p,[d]:m}}}},nH=(e,t,n)=>{const r=new Map,i=f({platform:XV},n),a=f(f({},i.platform),{},{_c:r});return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Qj(c,r,l),h=r,p={},m=0;for(let g=0;g<s.length;g++){const{name:n,fn:a}=s[g],{x:v,y:y,data:b,reset:x}=await a({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=null!=v?v:u,d=null!=y?y:d,p=f(f({},p),{},{[n]:f(f({},p[n]),b)}),x&&m<=50&&(m++,"object"===typeof x&&(x.placement&&(h=x.placement),x.rects&&(c=!0===x.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):x.rects),({x:u,y:d}=Qj(c,h,l))),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}})(e,t,f(f({},i),{},{platform:a}))};var rH="undefined"!==typeof document?a.useLayoutEffect:function(){};function iH(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!iH(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!iH(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function aH(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oH(e,t){const n=aH(e);return Math.round(t*n)/n}function sH(e){const t=a.useRef(e);return rH(()=>{t.current=e}),t}const lH=(e,t)=>f(f({},ZV(e)),{},{options:[e,t]}),cH=(e,t)=>f(f({},KV(e)),{},{options:[e,t]}),uH=(e,t)=>f(f({},tH(e)),{},{options:[e,t]}),dH=(e,t)=>f(f({},JV(e)),{},{options:[e,t]}),hH=(e,t)=>f(f({},$V(e)),{},{options:[e,t]}),fH=(e,t)=>f(f({},QV(e)),{},{options:[e,t]}),pH=(e,t)=>f(f({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?eH({element:n.current,padding:r}).fn(t):{}:n?eH({element:n,padding:r}).fn(t):{};var i}}))(e)),{},{options:[e,t]}),mH=["children","width","height"];var gH=a.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5}=e,a=l(e,mH);return(0,Sh.jsx)(wF.svg,f(f({},a),{},{ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,Sh.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});gH.displayName="Arrow";var vH=gH;const yH=["__scopePopper","virtualRef"],bH=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],xH=["__scopePopper"];var _H="Popper",[wH,SH]=qD(_H),[MH,EH]=wH(_H),TH=e=>{const{__scopePopper:t,children:n}=e,[r,i]=a.useState(null);return(0,Sh.jsx)(MH,{scope:t,anchor:r,onAnchorChange:i,children:n})};TH.displayName=_H;var CH="PopperAnchor",AH=a.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r}=e,i=l(e,yH),o=EH(CH,n),s=a.useRef(null),c=JI(t,s),u=a.useRef(null);return a.useEffect(()=>{const e=u.current;u.current=(null===r||void 0===r?void 0:r.current)||s.current,e!==u.current&&o.onAnchorChange(u.current)}),r?null:(0,Sh.jsx)(wF.div,f(f({},i),{},{ref:c}))});AH.displayName=CH;var RH="PopperContent",[PH,kH]=wH(RH),NH=a.forwardRef((e,t)=>{var n,r,i,o,s,c,u,d;const{__scopePopper:h,side:p="bottom",sideOffset:m=0,align:g="center",alignOffset:v=0,arrowPadding:y=0,avoidCollisions:b=!0,collisionBoundary:x=[],collisionPadding:_=0,sticky:w="partial",hideWhenDetached:S=!1,updatePositionStrategy:M="optimized",onPlaced:E}=e,T=l(e,bH),C=EH(RH,h),[A,R]=a.useState(null),P=JI(t,e=>R(e)),[k,N]=a.useState(null),L=function(e){const[t,n]=a.useState(void 0);return dF(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,a;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(k),I=null!==(n=null===L||void 0===L?void 0:L.width)&&void 0!==n?n:0,O=null!==(r=null===L||void 0===L?void 0:L.height)&&void 0!==r?r:0,D=p+("center"!==g?"-"+g:""),F="number"===typeof _?_:f({top:0,right:0,bottom:0,left:0},_),U=Array.isArray(x)?x:[x],z=U.length>0,B={padding:F,boundary:U.filter(DH),altBoundary:z},{refs:j,floatingStyles:V,placement:H,isPositioned:W,middlewareData:G}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=a.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=a.useState(r);iH(p,r)||m(r);const[g,v]=a.useState(null),[y,b]=a.useState(null),x=a.useCallback(e=>{e!==M.current&&(M.current=e,v(e))},[]),_=a.useCallback(e=>{e!==E.current&&(E.current=e,b(e))},[]),w=o||g,S=s||y,M=a.useRef(null),E=a.useRef(null),T=a.useRef(d),C=null!=c,A=sH(c),R=sH(i),P=sH(u),k=a.useCallback(()=>{if(!M.current||!E.current)return;const e={placement:t,strategy:n,middleware:p};R.current&&(e.platform=R.current),nH(M.current,E.current,e).then(e=>{const t=f(f({},e),{},{isPositioned:!1!==P.current});N.current&&!iH(T.current,t)&&(T.current=t,dk.flushSync(()=>{h(t)}))})},[p,t,n,R,P]);rH(()=>{!1===u&&T.current.isPositioned&&(T.current.isPositioned=!1,h(e=>f(f({},e),{},{isPositioned:!1})))},[u]);const N=a.useRef(!1);rH(()=>(N.current=!0,()=>{N.current=!1}),[]),rH(()=>{if(w&&(M.current=w),S&&(E.current=S),w&&S){if(A.current)return A.current(w,S,k);k()}},[w,S,k,A,C]);const L=a.useMemo(()=>({reference:M,floating:E,setReference:x,setFloating:_}),[x,_]),I=a.useMemo(()=>({reference:w,floating:S}),[w,S]),O=a.useMemo(()=>{const e={position:n,left:0,top:0};if(!I.floating)return e;const t=oH(I.floating,d.x),r=oH(I.floating,d.y);return l?f(f({},e),{},{transform:"translate("+t+"px, "+r+"px)"},aH(I.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}},[n,l,I.floating,d.x,d.y]);return a.useMemo(()=>f(f({},d),{},{update:k,refs:L,elements:I,floatingStyles:O}),[d,k,L,I,O])}({strategy:"fixed",placement:D,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YV(...t,{animationFrame:"always"===M})},elements:{reference:C.anchor},middleware:[lH({mainAxis:m+O,alignmentAxis:v}),b&&cH(f({mainAxis:!0,crossAxis:!1,limiter:"partial"===w?uH():void 0},B)),b&&dH(f({},B)),hH(f(f({},B),{},{apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:i}=e;const{width:a,height:o}=n.reference,s=t.floating.style;s.setProperty("--radix-popper-available-width","".concat(r,"px")),s.setProperty("--radix-popper-available-height","".concat(i,"px")),s.setProperty("--radix-popper-anchor-width","".concat(a,"px")),s.setProperty("--radix-popper-anchor-height","".concat(o,"px"))}})),k&&pH({element:k,padding:y}),FH({arrowWidth:I,arrowHeight:O}),S&&fH(f({strategy:"referenceHidden"},B))]}),[X,q]=UH(H),Y=SF(E);dF(()=>{W&&(null===Y||void 0===Y||Y())},[W,Y]);const Z=null===(i=G.arrow)||void 0===i?void 0:i.x,K=null===(o=G.arrow)||void 0===o?void 0:o.y,J=0!==(null===(s=G.arrow)||void 0===s?void 0:s.centerOffset),[$,Q]=a.useState();return dF(()=>{A&&Q(window.getComputedStyle(A).zIndex)},[A]),(0,Sh.jsx)("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:f(f({},V),{},{transform:W?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$,"--radix-popper-transform-origin":[null===(c=G.transformOrigin)||void 0===c?void 0:c.x,null===(u=G.transformOrigin)||void 0===u?void 0:u.y].join(" ")},(null===(d=G.hide)||void 0===d?void 0:d.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,Sh.jsx)(PH,{scope:h,placedSide:X,onArrowChange:N,arrowX:Z,arrowY:K,shouldHideArrow:J,children:(0,Sh.jsx)(wF.div,f(f({"data-side":X,"data-align":q},T),{},{ref:P,style:f(f({},T.style),{},{animation:W?void 0:"none"})}))})})});NH.displayName=RH;var LH="PopperArrow",IH={top:"bottom",right:"left",bottom:"top",left:"right"},OH=a.forwardRef(function(e,t){const{__scopePopper:n}=e,r=l(e,xH),i=kH(LH,n),a=IH[i.placedSide];return(0,Sh.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,Sh.jsx)(vH,f(f({},r),{},{ref:t,style:f(f({},r.style),{},{display:"block"})}))})});function DH(e){return null!==e}OH.displayName=LH;var FH=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,a,o;const{placement:s,rects:l,middlewareData:c}=t,u=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,p]=UH(s),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(r=null===(i=c.arrow)||void 0===i?void 0:i.x)&&void 0!==r?r:0)+d/2,v=(null!==(a=null===(o=c.arrow)||void 0===o?void 0:o.y)&&void 0!==a?a:0)+h/2;let y="",b="";return"bottom"===f?(y=u?m:"".concat(g,"px"),b="".concat(-h,"px")):"top"===f?(y=u?m:"".concat(g,"px"),b="".concat(l.floating.height+h,"px")):"right"===f?(y="".concat(-h,"px"),b=u?m:"".concat(v,"px")):"left"===f&&(y="".concat(l.floating.width+h,"px"),b=u?m:"".concat(v,"px")),{data:{x:y,y:b}}}});function UH(e){const[t,n="center"]=e.split("-");return[t,n]}var zH=TH,BH=AH,jH=NH,VH=OH;const HH=["children"],WH=["children"];function GH(e){const t=XH(e),n=a.forwardRef((e,n)=>{const{children:r}=e,i=l(e,HH),o=a.Children.toArray(r),s=o.find(YH);if(s){const e=s.props.children,r=o.map(t=>t===s?a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null:t);return(0,Sh.jsx)(t,f(f({},i),{},{ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null}))}return(0,Sh.jsx)(t,f(f({},i),{},{ref:n,children:r}))});return n.displayName="".concat(e,".Slot"),n}function XH(e){const t=a.forwardRef((e,t)=>{const{children:n}=e,r=l(e,WH);if(a.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n=f({},t);for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=function(){const e=a(...arguments);return i(...arguments),e}:i&&(n[r]=i):"style"===r?n[r]=f(f({},i),a):"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return f(f({},e),n)}(r,n.props);return n.type!==a.Fragment&&(i.ref=t?KI(t,e):e),a.cloneElement(n,i)}return a.Children.count(n)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var qH=Symbol("radix.slottable");function YH(e){return a.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===qH}var ZH=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KH=a.forwardRef((e,t)=>(0,Sh.jsx)(wF.span,f(f({},e),{},{ref:t,style:f(f({},ZH),e.style)})));KH.displayName="VisuallyHidden";const JH=["__scopeSelect","disabled"],$H=["__scopeSelect","className","style","children","placeholder"],QH=["__scopeSelect","children"],eW=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],tW=["__scopeSelect","onPlaced"],nW=["__scopeSelect","align","collisionPadding"],rW=["__scopeSelect","nonce"],iW=["__scopeSelect"],aW=["__scopeSelect"],oW=["__scopeSelect","value","disabled","textValue"],sW=["__scopeSelect","className","style"],lW=["__scopeSelect"],cW=["__scopeSelect","onAutoScroll"],uW=["__scopeSelect"],dW=["__scopeSelect"],hW=["__scopeSelect","value"];var fW=[" ","Enter","ArrowUp","ArrowDown"],pW=[" ","Enter"],mW="Select",[gW,vW,yW]=sF(mW),[bW,xW]=qD(mW,[yW,SH]),_W=SH(),[wW,SW]=bW(mW),[MW,EW]=bW(mW),TW=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:m,form:g}=e,v=_W(t),[y,b]=a.useState(null),[x,_]=a.useState(null),[w,S]=a.useState(!1),M=CF(u),[E,T]=EF({prop:r,defaultProp:null!==i&&void 0!==i&&i,onChange:o,caller:mW}),[C,A]=EF({prop:s,defaultProp:l,onChange:c,caller:mW}),R=a.useRef(null),P=!y||(g||!!y.closest("form")),[k,N]=a.useState(new Set),L=Array.from(k).map(e=>e.props.value).join(";");return(0,Sh.jsx)(zH,f(f({},v),{},{children:(0,Sh.jsxs)(wW,{required:m,scope:t,trigger:y,onTriggerChange:b,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:w,onValueNodeHasChildrenChange:S,contentId:pF(),value:C,onValueChange:A,open:E,onOpenChange:T,dir:M,triggerPointerDownPosRef:R,disabled:p,children:[(0,Sh.jsx)(gW.Provider,{scope:t,children:(0,Sh.jsx)(MW,{scope:e.__scopeSelect,onNativeOptionAdd:a.useCallback(e=>{N(t=>new Set(t).add(e))},[]),onNativeOptionRemove:a.useCallback(e=>{N(t=>{const n=new Set(t);return n.delete(e),n})},[]),children:n})}),P?(0,Sh.jsxs)(pG,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:C,onChange:e=>A(e.target.value),disabled:p,form:g,children:[void 0===C?(0,Sh.jsx)("option",{value:""}):null,Array.from(k)]},L):null]})}))};TW.displayName=mW;var CW="SelectTrigger",AW=a.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1}=e,i=l(e,JH),o=_W(n),s=SW(CW,n),c=s.disabled||r,u=JI(t,s.onTriggerChange),d=vW(n),h=a.useRef("touch"),[p,m,g]=gG(e=>{const t=d().filter(e=>!e.disabled),n=t.find(e=>e.value===s.value),r=vG(t,e,n);void 0!==r&&s.onValueChange(r.value)}),v=e=>{c||(s.onOpenChange(!0),g()),e&&(s.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,Sh.jsx)(BH,f(f({asChild:!0},o),{},{children:(0,Sh.jsx)(wF.button,f(f({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":mG(s.value)?"":void 0},i),{},{ref:u,onClick:WD(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==h.current&&v(e)}),onPointerDown:WD(i.onPointerDown,e=>{h.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(v(e),e.preventDefault())}),onKeyDown:WD(i.onKeyDown,e=>{const t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),t&&" "===e.key||fW.includes(e.key)&&(v(),e.preventDefault())})}))}))});AW.displayName=CW;var RW="SelectValue",PW=a.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o=""}=e,s=l(e,$H),c=SW(RW,n),{onValueNodeHasChildrenChange:u}=c,d=void 0!==a,h=JI(t,c.onValueNodeChange);return dF(()=>{u(d)},[u,d]),(0,Sh.jsx)(wF.span,f(f({},s),{},{ref:h,style:{pointerEvents:"none"},children:mG(c.value)?(0,Sh.jsx)(Sh.Fragment,{children:o}):a}))});PW.displayName=RW;var kW=a.forwardRef((e,t)=>{const{__scopeSelect:n,children:r}=e,i=l(e,QH);return(0,Sh.jsx)(wF.span,f(f({"aria-hidden":!0},i),{},{ref:t,children:r||"\u25bc"}))});kW.displayName="SelectIcon";var NW=e=>(0,Sh.jsx)(iz,f({asChild:!0},e));NW.displayName="SelectPortal";var LW="SelectContent",IW=a.forwardRef((e,t)=>{const n=SW(LW,e.__scopeSelect),[r,i]=a.useState();if(dF(()=>{i(new DocumentFragment)},[]),!n.open){const t=r;return t?dk.createPortal((0,Sh.jsx)(DW,{scope:e.__scopeSelect,children:(0,Sh.jsx)(gW.Slot,{scope:e.__scopeSelect,children:(0,Sh.jsx)("div",{children:e.children})})}),t):null}return(0,Sh.jsx)(zW,f(f({},e),{},{ref:t}))});IW.displayName=LW;var OW=10,[DW,FW]=bW(LW),UW=GH("SelectContent.RemoveScroll"),zW=a.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:c,sideOffset:u,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b}=e,x=l(e,eW),_=SW(LW,n),[w,S]=a.useState(null),[M,E]=a.useState(null),T=JI(t,e=>S(e)),[C,A]=a.useState(null),[R,P]=a.useState(null),k=vW(n),[N,L]=a.useState(!1),I=a.useRef(!1);a.useEffect(()=>{if(w)return oB(w)},[w]),oz();const O=a.useCallback(e=>{const[t,...n]=k().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(const a of e){if(a===i)return;if(null===a||void 0===a||a.scrollIntoView({block:"nearest"}),a===t&&M&&(M.scrollTop=0),a===r&&M&&(M.scrollTop=M.scrollHeight),null===a||void 0===a||a.focus(),document.activeElement!==i)return}},[k,M]),D=a.useCallback(()=>O([C,w]),[O,C,w]);a.useEffect(()=>{N&&D()},[N,D]);const{onOpenChange:F,triggerPointerDownPosRef:U}=_;a.useEffect(()=>{if(w){let e={x:0,y:0};const t=t=>{var n,r,i,a;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=U.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(i=null===(a=U.current)||void 0===a?void 0:a.y)&&void 0!==i?i:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():w.contains(n.target)||F(!1),document.removeEventListener("pointermove",t),U.current=null};return null!==U.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[w,F,U]),a.useEffect(()=>{const e=()=>F(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[F]);const[z,B]=gG(e=>{const t=k().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=vG(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),j=a.useCallback((e,t,n)=>{const r=!I.current&&!n;(void 0!==_.value&&_.value===t||r)&&(A(e),r&&(I.current=!0))},[_.value]),V=a.useCallback(()=>null===w||void 0===w?void 0:w.focus(),[w]),H=a.useCallback((e,t,n)=>{const r=!I.current&&!n;(void 0!==_.value&&_.value===t||r)&&P(e)},[_.value]),W="popper"===r?jW:BW,G=W===jW?{side:c,sideOffset:u,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b}:{};return(0,Sh.jsx)(DW,{scope:n,content:w,viewport:M,onViewportChange:E,itemRefCallback:j,selectedItem:C,onItemLeave:V,itemTextRefCallback:H,focusSelectedItem:D,selectedItemText:R,position:r,isPositioned:N,searchRef:z,children:(0,Sh.jsx)($z,{as:UW,allowPinchZoom:!0,children:(0,Sh.jsx)(KU,{asChild:!0,trapped:_.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:WD(i,e=>{var t;null===(t=_.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,Sh.jsx)(VU,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:(0,Sh.jsx)(W,f(f(f({role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:e=>e.preventDefault()},x),G),{},{onPlaced:()=>L(!0),ref:T,style:f({display:"flex",flexDirection:"column",outline:"none"},x.style),onKeyDown:WD(x.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||B(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=k().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>O(t)),e.preventDefault()}})}))})})})})});zW.displayName="SelectContentImpl";var BW=a.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r}=e,i=l(e,tW),o=SW(LW,n),s=FW(LW,n),[c,u]=a.useState(null),[d,h]=a.useState(null),p=JI(t,e=>h(e)),m=vW(n),g=a.useRef(!1),v=a.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:x,focusSelectedItem:_}=s,w=a.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&d&&y&&b&&x){const e=o.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),n=o.valueNode.getBoundingClientRect(),i=x.getBoundingClientRect();if("rtl"!==o.dir){const r=i.left-t.left,a=n.left-r,o=e.left-a,s=e.width+o,l=Math.max(s,t.width),u=window.innerWidth-OW,d=wj(a,[OW,Math.max(OW,u-l)]);c.style.minWidth=s+"px",c.style.left=d+"px"}else{const r=t.right-i.right,a=window.innerWidth-n.right-r,o=window.innerWidth-e.right-a,s=e.width+o,l=Math.max(s,t.width),u=window.innerWidth-OW,d=wj(a,[OW,Math.max(OW,u-l)]);c.style.minWidth=s+"px",c.style.right=d+"px"}const a=m(),s=window.innerHeight-2*OW,l=y.scrollHeight,u=window.getComputedStyle(d),h=parseInt(u.borderTopWidth,10),f=parseInt(u.paddingTop,10),p=parseInt(u.borderBottomWidth,10),v=h+f+l+parseInt(u.paddingBottom,10)+p,_=Math.min(5*b.offsetHeight,v),w=window.getComputedStyle(y),S=parseInt(w.paddingTop,10),M=parseInt(w.paddingBottom,10),E=e.top+e.height/2-OW,T=s-E,C=b.offsetHeight/2,A=h+f+(b.offsetTop+C),R=v-A;if(A<=E){const e=a.length>0&&b===a[a.length-1].ref.current;c.style.bottom="0px";const t=d.clientHeight-y.offsetTop-y.offsetHeight,n=A+Math.max(T,C+(e?M:0)+t+p);c.style.height=n+"px"}else{const e=a.length>0&&b===a[0].ref.current;c.style.top="0px";const t=Math.max(E,h+y.offsetTop+(e?S:0)+C)+R;c.style.height=t+"px",y.scrollTop=A-E+y.offsetTop}c.style.margin="".concat(OW,"px 0"),c.style.minHeight=_+"px",c.style.maxHeight=s+"px",null===r||void 0===r||r(),requestAnimationFrame(()=>g.current=!0)}},[m,o.trigger,o.valueNode,c,d,y,b,x,o.dir,r]);dF(()=>w(),[w]);const[S,M]=a.useState();dF(()=>{d&&M(window.getComputedStyle(d).zIndex)},[d]);const E=a.useCallback(e=>{e&&!0===v.current&&(w(),null===_||void 0===_||_(),v.current=!1)},[w,_]);return(0,Sh.jsx)(VW,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:(0,Sh.jsx)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:(0,Sh.jsx)(wF.div,f(f({},i),{},{ref:p,style:f({boxSizing:"border-box",maxHeight:"100%"},i.style)}))})})});BW.displayName="SelectItemAlignedPosition";var jW=a.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=OW}=e,a=l(e,nW),o=_W(n);return(0,Sh.jsx)(jH,f(f(f({},o),a),{},{ref:t,align:r,collisionPadding:i,style:f(f({boxSizing:"border-box"},a.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});jW.displayName="SelectPopperPosition";var[VW,HW]=bW(LW,{}),WW="SelectViewport",GW=a.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r}=e,i=l(e,rW),o=FW(WW,n),s=HW(WW,n),c=JI(t,o.onViewportChange),u=a.useRef(0);return(0,Sh.jsxs)(Sh.Fragment,{children:[(0,Sh.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),(0,Sh.jsx)(gW.Slot,{scope:n,children:(0,Sh.jsx)(wF.div,f(f({"data-radix-select-viewport":"",role:"presentation"},i),{},{ref:c,style:f({position:"relative",flex:1,overflow:"hidden auto"},i.style),onScroll:WD(i.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=s;if(null!==r&&void 0!==r&&r.current&&n){const e=Math.abs(u.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*OW,i=parseFloat(n.style.minHeight),a=parseFloat(n.style.height),o=Math.max(i,a);if(o<r){const i=o+e,a=Math.min(r,i),s=i-a;n.style.height=a+"px","0px"===n.style.bottom&&(t.scrollTop=s>0?s:0,n.style.justifyContent="flex-end")}}}u.current=t.scrollTop})}))})]})});GW.displayName=WW;var XW="SelectGroup",[qW,YW]=bW(XW),ZW=a.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=l(e,iW),i=pF();return(0,Sh.jsx)(qW,{scope:n,id:i,children:(0,Sh.jsx)(wF.div,f(f({role:"group","aria-labelledby":i},r),{},{ref:t}))})});ZW.displayName=XW;var KW="SelectLabel",JW=a.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=l(e,aW),i=YW(KW,n);return(0,Sh.jsx)(wF.div,f(f({id:i.id},r),{},{ref:t}))});JW.displayName=KW;var $W="SelectItem",[QW,eG]=bW($W),tG=a.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o}=e,s=l(e,oW),c=SW($W,n),u=FW($W,n),d=c.value===r,[h,p]=a.useState(null!==o&&void 0!==o?o:""),[m,g]=a.useState(!1),v=JI(t,e=>{var t;return null===(t=u.itemRefCallback)||void 0===t?void 0:t.call(u,e,r,i)}),y=pF(),b=a.useRef("touch"),x=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,Sh.jsx)(QW,{scope:n,value:r,disabled:i,textId:y,isSelected:d,onItemTextChange:a.useCallback(e=>{p(t=>{var n;return t||(null!==(n=null===e||void 0===e?void 0:e.textContent)&&void 0!==n?n:"").trim()})},[]),children:(0,Sh.jsx)(gW.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:(0,Sh.jsx)(wF.div,f(f({role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s),{},{ref:v,onFocus:WD(s.onFocus,()=>g(!0)),onBlur:WD(s.onBlur,()=>g(!1)),onClick:WD(s.onClick,()=>{"mouse"!==b.current&&x()}),onPointerUp:WD(s.onPointerUp,()=>{"mouse"===b.current&&x()}),onPointerDown:WD(s.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:WD(s.onPointerMove,e=>{var t;(b.current=e.pointerType,i)?null===(t=u.onItemLeave)||void 0===t||t.call(u):"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:WD(s.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=u.onItemLeave)||void 0===t||t.call(u))}),onKeyDown:WD(s.onKeyDown,e=>{var t;""!==(null===(t=u.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(pW.includes(e.key)&&x()," "===e.key&&e.preventDefault())})}))})})});tG.displayName=$W;var nG="SelectItemText",rG=a.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i}=e,o=l(e,sW),s=SW(nG,n),c=FW(nG,n),u=eG(nG,n),d=EW(nG,n),[h,p]=a.useState(null),m=JI(t,e=>p(e),u.onItemTextChange,e=>{var t;return null===(t=c.itemTextRefCallback)||void 0===t?void 0:t.call(c,e,u.value,u.disabled)}),g=null===h||void 0===h?void 0:h.textContent,v=a.useMemo(()=>(0,Sh.jsx)("option",{value:u.value,disabled:u.disabled,children:g},u.value),[u.disabled,u.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=d;return dF(()=>(y(v),()=>b(v)),[y,b,v]),(0,Sh.jsxs)(Sh.Fragment,{children:[(0,Sh.jsx)(wF.span,f(f({id:u.textId},o),{},{ref:m})),u.isSelected&&s.valueNode&&!s.valueNodeHasChildren?dk.createPortal(o.children,s.valueNode):null]})});rG.displayName=nG;var iG="SelectItemIndicator",aG=a.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=l(e,lW);return eG(iG,n).isSelected?(0,Sh.jsx)(wF.span,f(f({"aria-hidden":!0},r),{},{ref:t})):null});aG.displayName=iG;var oG="SelectScrollUpButton",sG=a.forwardRef((e,t)=>{const n=FW(oG,e.__scopeSelect),r=HW(oG,e.__scopeSelect),[i,o]=a.useState(!1),s=JI(t,r.onScrollButtonChange);return dF(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;o(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?(0,Sh.jsx)(uG,f(f({},e),{},{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});sG.displayName=oG;var lG="SelectScrollDownButton",cG=a.forwardRef((e,t)=>{const n=FW(lG,e.__scopeSelect),r=HW(lG,e.__scopeSelect),[i,o]=a.useState(!1),s=JI(t,r.onScrollButtonChange);return dF(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;o(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?(0,Sh.jsx)(uG,f(f({},e),{},{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});cG.displayName=lG;var uG=a.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r}=e,i=l(e,cW),o=FW("SelectScrollButton",n),s=a.useRef(null),c=vW(n),u=a.useCallback(()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)},[]);return a.useEffect(()=>()=>u(),[u]),dF(()=>{var e;const t=c().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[c]),(0,Sh.jsx)(wF.div,f(f({"aria-hidden":!0},i),{},{ref:t,style:f({flexShrink:0},i.style),onPointerDown:WD(i.onPointerDown,()=>{null===s.current&&(s.current=window.setInterval(r,50))}),onPointerMove:WD(i.onPointerMove,()=>{var e;null===(e=o.onItemLeave)||void 0===e||e.call(o),null===s.current&&(s.current=window.setInterval(r,50))}),onPointerLeave:WD(i.onPointerLeave,()=>{u()})}))}),dG=a.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=l(e,uW);return(0,Sh.jsx)(wF.div,f(f({"aria-hidden":!0},r),{},{ref:t}))});dG.displayName="SelectSeparator";var hG="SelectArrow",fG=a.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=l(e,dW),i=_W(n),a=SW(hG,n),o=FW(hG,n);return a.open&&"popper"===o.position?(0,Sh.jsx)(VH,f(f(f({},i),r),{},{ref:t})):null});fG.displayName=hG;var pG=a.forwardRef((e,t)=>{let{__scopeSelect:n,value:r}=e,i=l(e,hW);const o=a.useRef(null),s=JI(t,o),c=function(e){const t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r);return a.useEffect(()=>{const e=o.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(c!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}},[c,r]),(0,Sh.jsx)(wF.select,f(f({},i),{},{style:f(f({},ZH),i.style),ref:s,defaultValue:r}))});function mG(e){return""===e||void 0===e}function gG(e){const t=SF(e),n=a.useRef(""),r=a.useRef(0),i=a.useCallback(e=>{const i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),o=a.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return a.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function vG(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=(o=e,s=Math.max(i,0),o.map((e,t)=>o[(s+t)%o.length]));var o,s;1===r.length&&(a=a.filter(e=>e!==n));const l=a.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}pG.displayName="SelectBubbleInput";var yG=TW,bG=AW,xG=PW,_G=kW,wG=NW,SG=IW,MG=GW,EG=JW,TG=tG,CG=rG,AG=aG,RG=sG,PG=cG,kG=dG;const NG=yh("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),LG=yh("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),IG=yh("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),OG=["className","children"],DG=["className"],FG=["className"],UG=["className","children","position"],zG=["className"],BG=["className","children"],jG=["className"],VG=yG,HG=xG,WG=a.forwardRef((e,t)=>{let{className:n,children:r}=e,i=l(e,OG);return(0,Sh.jsxs)(bG,f(f({ref:t,className:RD("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n)},i),{},{children:[r,(0,Sh.jsx)(_G,{asChild:!0,children:(0,Sh.jsx)(NG,{className:"h-4 w-4 opacity-50"})})]}))});WG.displayName=bG.displayName;const GG=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,DG);return(0,Sh.jsx)(RG,f(f({ref:t,className:RD("flex cursor-default items-center justify-center py-1",n)},r),{},{children:(0,Sh.jsx)(LG,{className:"h-4 w-4"})}))});GG.displayName=RG.displayName;const XG=a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,FG);return(0,Sh.jsx)(PG,f(f({ref:t,className:RD("flex cursor-default items-center justify-center py-1",n)},r),{},{children:(0,Sh.jsx)(NG,{className:"h-4 w-4"})}))});XG.displayName=PG.displayName;const qG=a.forwardRef((e,t)=>{let{className:n,children:r,position:i="popper"}=e,a=l(e,UG);return(0,Sh.jsx)(wG,{children:(0,Sh.jsxs)(SG,f(f({ref:t,className:RD("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:i},a),{},{children:[(0,Sh.jsx)(GG,{}),(0,Sh.jsx)(MG,{className:RD("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,Sh.jsx)(XG,{})]}))})});qG.displayName=SG.displayName;a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,zG);return(0,Sh.jsx)(EG,f({ref:t,className:RD("px-2 py-1.5 text-sm font-semibold",n)},r))}).displayName=EG.displayName;const YG=a.forwardRef((e,t)=>{let{className:n,children:r}=e,i=l(e,BG);return(0,Sh.jsxs)(TG,f(f({ref:t,className:RD("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n)},i),{},{children:[(0,Sh.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,Sh.jsx)(AG,{children:(0,Sh.jsx)(IG,{className:"h-4 w-4"})})}),(0,Sh.jsx)(CG,{children:r})]}))});YG.displayName=TG.displayName;a.forwardRef((e,t)=>{let{className:n}=e,r=l(e,jG);return(0,Sh.jsx)(kG,f({ref:t,className:RD("-mx-1 my-1 h-px bg-muted",n)},r))}).displayName=kG.displayName;const ZG=["className","variant"],KG=fO("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function JG(e){let{className:t,variant:n}=e,r=l(e,ZG);return(0,Sh.jsx)("div",f({className:RD(KG({variant:n}),t)},r))}const $G=yh("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),QG=yh("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),eX=yh("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),tX=yh("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),nX="".concat("https://my-portfolio-backend.onrender.com","/api"),rX=YI({username:XI().min(1,"Username is required"),password:XI().min(1,"Password is required")}),iX=YI({title:XI().min(1,"Title is required"),description:XI().min(1,"Description is required"),long_description:XI().optional(),tech_stack:XI().optional(),tags:XI().optional(),github_url:XI().optional(),live_url:XI().optional(),image_url:XI().optional(),featured:qI().optional(),status:XI().optional()}),aX=YI({title:XI().min(1,"Title is required"),company:XI().min(1,"Company is required"),type:XI().min(1,"Type is required"),description:XI().min(1,"Description is required"),responsibilities:XI().optional(),skills:XI().optional(),start_date:XI().min(1,"Start date is required"),end_date:XI().optional(),current:qI().optional(),logo_url:XI().optional(),status:XI().optional()}),oX=e=>{let{token:t,project:n,onSuccess:r}=e;const[i,o]=(0,a.useState)(!1),s=GN({resolver:pL(iX),defaultValues:n||{title:"",description:"",long_description:"",tech_stack:"",tags:"",github_url:"",live_url:"",image_url:"",featured:!1,status:"draft"}});return(0,Sh.jsxs)(pj,{open:i,onOpenChange:o,children:[(0,Sh.jsx)(mj,{asChild:!0,children:(0,Sh.jsx)(ND,{size:"sm",className:"btn-primary","data-testid":n?"edit-project-".concat(n.id):"add-project-btn",children:n?(0,Sh.jsx)(eX,{className:"h-4 w-4"}):(0,Sh.jsxs)(Sh.Fragment,{children:[(0,Sh.jsx)(tX,{className:"mr-2 h-4 w-4"})," Add Project"]})})}),(0,Sh.jsxs)(yj,{className:"glass border-white/10 max-w-2xl max-h-[90vh] overflow-y-auto","data-testid":"project-dialog",children:[(0,Sh.jsxs)(bj,{children:[(0,Sh.jsx)(xj,{className:"text-white",children:n?"Edit Project":"Create Project"}),(0,Sh.jsx)(_j,{className:"text-gray-400",children:"Fill in the project details below"})]}),(0,Sh.jsxs)("form",{onSubmit:s.handleSubmit(async e=>{try{const i=f(f({},e),{},{tech_stack:e.tech_stack?e.tech_stack.split(",").map(e=>e.trim()):[],tags:e.tags?e.tags.split(",").map(e=>e.trim()):[],featured:e.featured||!1});n?(await oi.put("".concat(nX,"/admin/projects/").concat(n.id),i,{headers:{Authorization:"Bearer ".concat(t)}}),vk.success("Project updated")):(await oi.post("".concat(nX,"/admin/projects"),i,{headers:{Authorization:"Bearer ".concat(t)}}),vk.success("Project created")),o(!1),s.reset(),r()}catch(Rg){var i,a;vk.error((null===(i=Rg.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.detail)||"Operation failed")}}),className:"space-y-4",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"title",className:"text-gray-300",children:"Title *"}),(0,Sh.jsx)(ID,f(f({id:"title"},s.register("title")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"project-title"})),s.formState.errors.title&&(0,Sh.jsx)("p",{className:"text-red-400 text-sm",children:s.formState.errors.title.message})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"description",className:"text-gray-300",children:"Short Description *"}),(0,Sh.jsx)(DD,f(f({id:"description"},s.register("description")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"project-description"})),s.formState.errors.description&&(0,Sh.jsx)("p",{className:"text-red-400 text-sm",children:s.formState.errors.description.message})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"long_description",className:"text-gray-300",children:"Long Description"}),(0,Sh.jsx)(DD,f(f({id:"long_description"},s.register("long_description")),{},{className:"bg-white/5 border-white/10 text-white",rows:4,"data-testid":"project-long-description"}))]}),(0,Sh.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"tech_stack",className:"text-gray-300",children:"Tech Stack (comma separated)"}),(0,Sh.jsx)(ID,f(f({id:"tech_stack"},s.register("tech_stack")),{},{placeholder:"React, Node.js, MongoDB",className:"bg-white/5 border-white/10 text-white","data-testid":"project-tech-stack"}))]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"tags",className:"text-gray-300",children:"Tags (comma separated)"}),(0,Sh.jsx)(ID,f(f({id:"tags"},s.register("tags")),{},{placeholder:"web, fullstack, saas",className:"bg-white/5 border-white/10 text-white","data-testid":"project-tags"}))]})]}),(0,Sh.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"github_url",className:"text-gray-300",children:"GitHub URL"}),(0,Sh.jsx)(ID,f(f({id:"github_url"},s.register("github_url")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"project-github"}))]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"live_url",className:"text-gray-300",children:"Live URL"}),(0,Sh.jsx)(ID,f(f({id:"live_url"},s.register("live_url")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"project-live-url"}))]})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"image_url",className:"text-gray-300",children:"Image URL"}),(0,Sh.jsx)(ID,f(f({id:"image_url"},s.register("image_url")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"project-image-url"}))]}),(0,Sh.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sh.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sh.jsx)("input",f(f({type:"checkbox",id:"featured"},s.register("featured")),{},{className:"h-4 w-4","data-testid":"project-featured"})),(0,Sh.jsx)(HD,{htmlFor:"featured",className:"text-gray-300",children:"Featured"})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"status",className:"text-gray-300",children:"Status"}),(0,Sh.jsxs)(VG,{onValueChange:e=>s.setValue("status",e),defaultValue:(null===n||void 0===n?void 0:n.status)||"draft",children:[(0,Sh.jsx)(WG,{className:"bg-white/5 border-white/10 text-white","data-testid":"project-status",children:(0,Sh.jsx)(HG,{})}),(0,Sh.jsxs)(qG,{className:"glass border-white/10",children:[(0,Sh.jsx)(YG,{value:"draft",children:"Draft"}),(0,Sh.jsx)(YG,{value:"published",children:"Published"})]})]})]})]}),(0,Sh.jsx)(ND,{type:"submit",className:"w-full btn-primary","data-testid":"project-submit",children:n?"Update Project":"Create Project"})]})]})]})},sX=e=>{let{token:t,experience:n,onSuccess:r}=e;const[i,o]=(0,a.useState)(!1),s=GN({resolver:pL(aX),defaultValues:n||{title:"",company:"",type:"job",description:"",responsibilities:"",skills:"",start_date:"",end_date:"",current:!1,logo_url:"",status:"draft"}});return(0,Sh.jsxs)(pj,{open:i,onOpenChange:o,children:[(0,Sh.jsx)(mj,{asChild:!0,children:(0,Sh.jsx)(ND,{size:"sm",className:"btn-primary","data-testid":n?"edit-experience-".concat(n.id):"add-experience-btn",children:n?(0,Sh.jsx)(eX,{className:"h-4 w-4"}):(0,Sh.jsxs)(Sh.Fragment,{children:[(0,Sh.jsx)(tX,{className:"mr-2 h-4 w-4"})," Add Experience"]})})}),(0,Sh.jsxs)(yj,{className:"glass border-white/10 max-w-2xl max-h-[90vh] overflow-y-auto","data-testid":"experience-dialog",children:[(0,Sh.jsxs)(bj,{children:[(0,Sh.jsx)(xj,{className:"text-white",children:n?"Edit Experience":"Create Experience"}),(0,Sh.jsx)(_j,{className:"text-gray-400",children:"Fill in the experience details below"})]}),(0,Sh.jsxs)("form",{onSubmit:s.handleSubmit(async e=>{try{const i=f(f({},e),{},{responsibilities:e.responsibilities?e.responsibilities.split(",").map(e=>e.trim()):[],skills:e.skills?e.skills.split(",").map(e=>e.trim()):[],current:e.current||!1});n?(await oi.put("".concat(nX,"/admin/experiences/").concat(n.id),i,{headers:{Authorization:"Bearer ".concat(t)}}),vk.success("Experience updated")):(await oi.post("".concat(nX,"/admin/experiences"),i,{headers:{Authorization:"Bearer ".concat(t)}}),vk.success("Experience created")),o(!1),s.reset(),r()}catch(Rg){var i,a;vk.error((null===(i=Rg.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.detail)||"Operation failed")}}),className:"space-y-4",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"exp-title",className:"text-gray-300",children:"Title *"}),(0,Sh.jsx)(ID,f(f({id:"exp-title"},s.register("title")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"experience-title"})),s.formState.errors.title&&(0,Sh.jsx)("p",{className:"text-red-400 text-sm",children:s.formState.errors.title.message})]}),(0,Sh.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"company",className:"text-gray-300",children:"Company *"}),(0,Sh.jsx)(ID,f(f({id:"company"},s.register("company")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"experience-company"})),s.formState.errors.company&&(0,Sh.jsx)("p",{className:"text-red-400 text-sm",children:s.formState.errors.company.message})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"type",className:"text-gray-300",children:"Type *"}),(0,Sh.jsxs)(VG,{onValueChange:e=>s.setValue("type",e),defaultValue:(null===n||void 0===n?void 0:n.type)||"job",children:[(0,Sh.jsx)(WG,{className:"bg-white/5 border-white/10 text-white","data-testid":"experience-type",children:(0,Sh.jsx)(HG,{})}),(0,Sh.jsxs)(qG,{className:"glass border-white/10",children:[(0,Sh.jsx)(YG,{value:"job",children:"Job"}),(0,Sh.jsx)(YG,{value:"internship",children:"Internship"}),(0,Sh.jsx)(YG,{value:"freelance",children:"Freelance"})]})]})]})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"exp-description",className:"text-gray-300",children:"Description *"}),(0,Sh.jsx)(DD,f(f({id:"exp-description"},s.register("description")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"experience-description"})),s.formState.errors.description&&(0,Sh.jsx)("p",{className:"text-red-400 text-sm",children:s.formState.errors.description.message})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"responsibilities",className:"text-gray-300",children:"Responsibilities (comma separated)"}),(0,Sh.jsx)(DD,f(f({id:"responsibilities"},s.register("responsibilities")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"experience-responsibilities"}))]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"skills",className:"text-gray-300",children:"Skills (comma separated)"}),(0,Sh.jsx)(ID,f(f({id:"skills"},s.register("skills")),{},{placeholder:"JavaScript, React, Node.js",className:"bg-white/5 border-white/10 text-white","data-testid":"experience-skills"}))]}),(0,Sh.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"start_date",className:"text-gray-300",children:"Start Date *"}),(0,Sh.jsx)(ID,f(f({id:"start_date"},s.register("start_date")),{},{placeholder:"Jan 2023",className:"bg-white/5 border-white/10 text-white","data-testid":"experience-start-date"})),s.formState.errors.start_date&&(0,Sh.jsx)("p",{className:"text-red-400 text-sm",children:s.formState.errors.start_date.message})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"end_date",className:"text-gray-300",children:"End Date"}),(0,Sh.jsx)(ID,f(f({id:"end_date"},s.register("end_date")),{},{placeholder:"Dec 2023",className:"bg-white/5 border-white/10 text-white","data-testid":"experience-end-date"}))]})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"logo_url",className:"text-gray-300",children:"Company Logo URL"}),(0,Sh.jsx)(ID,f(f({id:"logo_url"},s.register("logo_url")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"experience-logo-url"}))]}),(0,Sh.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sh.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sh.jsx)("input",f(f({type:"checkbox",id:"current"},s.register("current")),{},{className:"h-4 w-4","data-testid":"experience-current"})),(0,Sh.jsx)(HD,{htmlFor:"current",className:"text-gray-300",children:"Currently Working"})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"exp-status",className:"text-gray-300",children:"Status"}),(0,Sh.jsxs)(VG,{onValueChange:e=>s.setValue("status",e),defaultValue:(null===n||void 0===n?void 0:n.status)||"draft",children:[(0,Sh.jsx)(WG,{className:"bg-white/5 border-white/10 text-white","data-testid":"experience-status",children:(0,Sh.jsx)(HG,{})}),(0,Sh.jsxs)(qG,{className:"glass border-white/10",children:[(0,Sh.jsx)(YG,{value:"draft",children:"Draft"}),(0,Sh.jsx)(YG,{value:"published",children:"Published"})]})]})]})]}),(0,Sh.jsx)(ND,{type:"submit",className:"w-full btn-primary","data-testid":"experience-submit",children:n?"Update Experience":"Create Experience"})]})]})]})},lX=e=>{let{token:t,profile:n,onSuccess:r}=e;const i=GN({defaultValues:n||{name:"Charchit Singh Sahay",title:"",bio:"",email:"",phone:"",location:"",avatar_url:"",resume_url:"",github:"",linkedin:"",twitter:"",website:"",skills:""}});(0,a.useEffect)(()=>{n&&i.reset(f(f({},n),{},{skills:n.skills?n.skills.join(", "):""}))},[n]);return(0,Sh.jsxs)(kU,{className:"glass border-white/10","data-testid":"profile-form",children:[(0,Sh.jsxs)(NU,{children:[(0,Sh.jsx)(LU,{className:"text-white",children:"Edit Profile"}),(0,Sh.jsx)(IU,{className:"text-gray-400",children:"Update your portfolio profile information"})]}),(0,Sh.jsx)(OU,{children:(0,Sh.jsxs)("form",{onSubmit:i.handleSubmit(async e=>{try{const n=f(f({},e),{},{skills:e.skills?e.skills.split(",").map(e=>e.trim()):[]});await oi.put("".concat(nX,"/admin/profile"),n,{headers:{Authorization:"Bearer ".concat(t)}}),vk.success("Profile updated"),r()}catch(Rg){var n,i;vk.error((null===(n=Rg.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.detail)||"Failed to update profile")}}),className:"space-y-4",children:[(0,Sh.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"name",className:"text-gray-300",children:"Name"}),(0,Sh.jsx)(ID,f(f({id:"name"},i.register("name")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"profile-name"}))]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"prof-title",className:"text-gray-300",children:"Title"}),(0,Sh.jsx)(ID,f(f({id:"prof-title"},i.register("title")),{},{placeholder:"Full Stack Developer",className:"bg-white/5 border-white/10 text-white","data-testid":"profile-title"}))]})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"bio",className:"text-gray-300",children:"Bio"}),(0,Sh.jsx)(DD,f(f({id:"bio"},i.register("bio")),{},{rows:4,className:"bg-white/5 border-white/10 text-white","data-testid":"profile-bio"}))]}),(0,Sh.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"email",className:"text-gray-300",children:"Email"}),(0,Sh.jsx)(ID,f(f({id:"email",type:"email"},i.register("email")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"profile-email"}))]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"phone",className:"text-gray-300",children:"Phone"}),(0,Sh.jsx)(ID,f(f({id:"phone"},i.register("phone")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"profile-phone"}))]})]}),(0,Sh.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"location",className:"text-gray-300",children:"Location"}),(0,Sh.jsx)(ID,f(f({id:"location"},i.register("location")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"profile-location"}))]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"avatar_url",className:"text-gray-300",children:"Avatar URL"}),(0,Sh.jsx)(ID,f(f({id:"avatar_url"},i.register("avatar_url")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"profile-avatar"}))]})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"resume_url",className:"text-gray-300",children:"Resume URL"}),(0,Sh.jsx)(ID,f(f({id:"resume_url"},i.register("resume_url")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"profile-resume"}))]}),(0,Sh.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"github",className:"text-gray-300",children:"GitHub"}),(0,Sh.jsx)(ID,f(f({id:"github"},i.register("github")),{},{placeholder:"https://github.com/username",className:"bg-white/5 border-white/10 text-white","data-testid":"profile-github"}))]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"linkedin",className:"text-gray-300",children:"LinkedIn"}),(0,Sh.jsx)(ID,f(f({id:"linkedin"},i.register("linkedin")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"profile-linkedin"}))]})]}),(0,Sh.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"twitter",className:"text-gray-300",children:"Twitter"}),(0,Sh.jsx)(ID,f(f({id:"twitter"},i.register("twitter")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"profile-twitter"}))]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"website",className:"text-gray-300",children:"Website"}),(0,Sh.jsx)(ID,f(f({id:"website"},i.register("website")),{},{className:"bg-white/5 border-white/10 text-white","data-testid":"profile-website"}))]})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"prof-skills",className:"text-gray-300",children:"Skills (comma separated)"}),(0,Sh.jsx)(DD,f(f({id:"prof-skills"},i.register("skills")),{},{placeholder:"JavaScript, React, Node.js, Python",className:"bg-white/5 border-white/10 text-white","data-testid":"profile-skills"}))]}),(0,Sh.jsx)(ND,{type:"submit",className:"w-full btn-primary","data-testid":"profile-submit",children:"Update Profile"})]})})]})},cX=()=>{const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(localStorage.getItem("admin_token")||""),[i,o]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[c,u]=(0,a.useState)(null),[d,h]=(0,a.useState)(null),[p,m]=(0,a.useState)(!1),g=GN({resolver:pL(rX)});(0,a.useEffect)(()=>{n&&(t(!0),y())},[n]);const v=async e=>{try{const n=(await oi.post("".concat(nX,"/admin/login"),e)).data.access_token;r(n),localStorage.setItem("admin_token",n),t(!0),vk.success("Logged in successfully")}catch(Rg){var n,i;vk.error((null===(n=Rg.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.detail)||"Login failed")}},y=async()=>{try{const[e,t,n]=await Promise.all([oi.get("".concat(nX,"/projects?status=all")),oi.get("".concat(nX,"/experiences?status=all")),oi.get("".concat(nX,"/profile"))]);o(e.data),l(t.data),u(n.data)}catch(Rg){console.error("Error fetching admin data:",Rg)}};return e?(0,Sh.jsx)("div",{className:"min-h-screen p-6",style:{background:"linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%)"},children:(0,Sh.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Sh.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Sh.jsx)("h1",{className:"text-4xl font-bold gradient-text",children:"Admin Dashboard"}),(0,Sh.jsxs)(ND,{onClick:()=>{r(""),localStorage.removeItem("admin_token"),t(!1),vk.success("Logged out successfully")},variant:"outline",className:"border-red-500/30 text-red-400 hover:bg-red-500/10","data-testid":"logout-btn",children:[(0,Sh.jsx)($G,{className:"mr-2 h-4 w-4"})," Logout"]})]}),(0,Sh.jsxs)(_U,{defaultValue:"projects",className:"w-full",children:[(0,Sh.jsxs)(wU,{className:"glass border-white/10 mb-6","data-testid":"admin-tabs",children:[(0,Sh.jsxs)(SU,{value:"projects","data-testid":"tab-projects",children:["Projects (",i.length,")"]}),(0,Sh.jsxs)(SU,{value:"experiences","data-testid":"tab-experiences",children:["Experiences (",s.length,")"]}),(0,Sh.jsx)(SU,{value:"profile","data-testid":"tab-profile",children:"Profile"})]}),(0,Sh.jsx)(MU,{value:"projects",children:(0,Sh.jsxs)("div",{className:"space-y-4",children:[(0,Sh.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sh.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Manage Projects"}),(0,Sh.jsx)(oX,{token:n,onSuccess:y})]}),(0,Sh.jsxs)("div",{className:"grid gap-4",children:[i.map(e=>(0,Sh.jsx)(kU,{className:"glass border-white/10","data-testid":"project-card-".concat(e.id),children:(0,Sh.jsx)(NU,{children:(0,Sh.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(LU,{className:"text-white",children:e.title}),(0,Sh.jsx)(IU,{className:"text-gray-400",children:e.description}),(0,Sh.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,Sh.jsx)(JG,{variant:"published"===e.status?"default":"secondary",children:e.status}),e.featured&&(0,Sh.jsx)(JG,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:"Featured"})]})]}),(0,Sh.jsxs)("div",{className:"flex gap-2",children:[(0,Sh.jsx)(oX,{token:n,project:e,onSuccess:y}),(0,Sh.jsx)(ND,{size:"sm",variant:"destructive",onClick:()=>(async e=>{try{await oi.delete("".concat(nX,"/admin/projects/").concat(e),{headers:{Authorization:"Bearer ".concat(n)}}),vk.success("Project deleted"),y()}catch(Rg){vk.error("Failed to delete project")}})(e.id),"data-testid":"delete-project-".concat(e.id),children:(0,Sh.jsx)(QG,{className:"h-4 w-4"})})]})]})})},e.id)),0===i.length&&(0,Sh.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No projects yet. Create your first one!"})]})]})}),(0,Sh.jsx)(MU,{value:"experiences",children:(0,Sh.jsxs)("div",{className:"space-y-4",children:[(0,Sh.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sh.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Manage Experiences"}),(0,Sh.jsx)(sX,{token:n,onSuccess:y})]}),(0,Sh.jsxs)("div",{className:"grid gap-4",children:[s.map(e=>(0,Sh.jsx)(kU,{className:"glass border-white/10","data-testid":"experience-card-".concat(e.id),children:(0,Sh.jsx)(NU,{children:(0,Sh.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(LU,{className:"text-white",children:e.title}),(0,Sh.jsxs)(IU,{className:"text-gray-400",children:[e.company," \u2022 ",e.type]}),(0,Sh.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[e.start_date," - ",e.current?"Present":e.end_date]}),(0,Sh.jsx)(JG,{variant:"published"===e.status?"default":"secondary",className:"mt-2",children:e.status})]}),(0,Sh.jsxs)("div",{className:"flex gap-2",children:[(0,Sh.jsx)(sX,{token:n,experience:e,onSuccess:y}),(0,Sh.jsx)(ND,{size:"sm",variant:"destructive",onClick:()=>(async e=>{try{await oi.delete("".concat(nX,"/admin/experiences/").concat(e),{headers:{Authorization:"Bearer ".concat(n)}}),vk.success("Experience deleted"),y()}catch(Rg){vk.error("Failed to delete experience")}})(e.id),"data-testid":"delete-experience-".concat(e.id),children:(0,Sh.jsx)(QG,{className:"h-4 w-4"})})]})]})})},e.id)),0===s.length&&(0,Sh.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No experiences yet. Add your first one!"})]})]})}),(0,Sh.jsx)(MU,{value:"profile",children:(0,Sh.jsx)(lX,{token:n,profile:c,onSuccess:y})})]})]})}):(0,Sh.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%)"},children:(0,Sh.jsxs)(kU,{className:"w-full max-w-md glass border-blue-500/20","data-testid":"login-card",children:[(0,Sh.jsxs)(NU,{children:[(0,Sh.jsx)(LU,{className:"text-2xl gradient-text",children:"Admin Login"}),(0,Sh.jsx)(IU,{className:"text-gray-400",children:"Enter your credentials to access the admin panel"})]}),(0,Sh.jsx)(OU,{children:(0,Sh.jsxs)("form",{onSubmit:g.handleSubmit(v),className:"space-y-4",children:[(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"username",className:"text-gray-300",children:"Username"}),(0,Sh.jsx)(ID,f(f({id:"username"},g.register("username")),{},{className:"mt-1 bg-white/5 border-white/10 text-white","data-testid":"login-username"})),g.formState.errors.username&&(0,Sh.jsx)("p",{className:"text-red-400 text-sm mt-1",children:g.formState.errors.username.message})]}),(0,Sh.jsxs)("div",{children:[(0,Sh.jsx)(HD,{htmlFor:"password",className:"text-gray-300",children:"Password"}),(0,Sh.jsx)(ID,f(f({id:"password",type:"password"},g.register("password")),{},{className:"mt-1 bg-white/5 border-white/10 text-white","data-testid":"login-password"})),g.formState.errors.password&&(0,Sh.jsx)("p",{className:"text-red-400 text-sm mt-1",children:g.formState.errors.password.message})]}),(0,Sh.jsx)(ND,{type:"submit",className:"w-full btn-primary","data-testid":"login-submit",children:"Login"}),(0,Sh.jsx)("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Default: admin / admin123"})]})})]})})};const uX=function(){return(0,Sh.jsx)("div",{className:"App",children:(0,Sh.jsx)(At,{children:(0,Sh.jsxs)(Ze,{children:[(0,Sh.jsx)(qe,{path:"/",element:(0,Sh.jsx)(xk,{})}),(0,Sh.jsx)(qe,{path:"/admin",element:(0,Sh.jsx)(cX,{})}),(0,Sh.jsx)(qe,{path:"*",element:(0,Sh.jsx)(Xe,{to:"/",replace:!0})})]})})})};s.createRoot(document.getElementById("root")).render((0,Sh.jsx)(a.StrictMode,{children:(0,Sh.jsx)(uX,{})}))})();
//# sourceMappingURL=main.f21e0800.js.map